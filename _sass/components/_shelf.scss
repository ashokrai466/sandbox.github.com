@mixin border-shim($color, $border-color: #dfdfdf) {
  &:after {
    content: " ";
    position: absolute;
    left: -1px; right: -1px;
    bottom: -2px;
    height: 5px;
    background-color: $color;
    border-left: 1px solid $border-color;
    border-right: 1px solid $border-color;
    z-index: 1;
  }
}

.shelf-pane .container-flex-fill-wrap {
  background-color: white;
  border: 1px solid #dfdfdf;
}

.shelf-pane .container-flex-fill {
  @include flexbox;
  @include flex-flow(column);
  padding: 5px 6px;
}

.shelf-pane .shelf-attribute {
  margin-bottom: 5px;

  .shelf-attribute-title {
    border-top-left-radius: 1px;
    border-top-right-radius: 1px;
    border: 1px solid #dfdfdf;
    background-color: #efefef;
    padding: 0px 4px;
  }

  .shelf-attribute-value {
    @include flexbox;
    position: relative;
    border-bottom-left-radius: 1px;
    border-bottom-right-radius: 1px;
    border: 1px solid #dfdfdf;
    border-top: none;
    padding: 3px 4px;
    height: 30px;

    &:before {
      content: "Drop Field Here";
      position: absolute;
      left: 6px; right: 6px;
      padding: 0px 6px;
      border: 1px dotted #dfdfdf;
    }

    .querybuilder-field.field-wrap {
      @include flex(0 1 auto);
      margin-right: 0;

      .name-wrap {
        max-width: none;
      }
    }
  }
}

.tablebuilder-type-select {
  @include flexbox;
  @include flex-flow(row);

  .tablebuilder-type-choice {
    @include flex(1 1 27px);
    position: relative;
    height: 29px;
    line-height: 29px;
    text-align: center;
    background-color: rgba(224, 224, 224, 0.5);
    border: 1px solid transparent;
    top: -1px;
    margin-top: 1px;
    cursor: pointer;

    &:not(:last-of-type) {
      margin-right: 1px;
    }

    &.active,
    &:not(.active):hover,
    &:not(.active):focus {
      background-color: white;
      border: 1px solid #dfdfdf;
      border-bottom: 0;
      margin-top: 0px;
      top: 0px;
      @include border-shim(white);
    }

    i.fa.fa-bar-chart.fa-flip-vertical-rotate-90 {
      @include transform(rotate(90deg) scale(-0.8, 1.2));
    }
  }
}
