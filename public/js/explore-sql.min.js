!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}r(1);var i=r(5),a=o(i),s=r(6),u=o(s),l=r(7),c=(o(l),r(8)),f=(o(c),r(9)),d=o(f),p=r(10),h=r(29),g=o(h),m=r(289),y=o(m),v=r(138),b=r(197),w=n(b);r(312).polyfill();var _={datasources:{IDS:[0,1,7,2],BY_ID:{7:{id:7,name:"Iris",type:"dataframe",url:"http://vega.github.io/polestar/data/iris.json",settings:{format:"json"}},0:{id:0,name:"Birdstrikes",type:"dataframe",url:"http://vega.github.io/polestar/data/birdstrikes.json",settings:{format:"json"}},1:{id:1,name:"Cars",type:"dataframe",url:"http://vega.github.io/polestar/data/cars.json",settings:{format:"json"}},2:{id:2,name:"NBA League Totals per year",type:"dataframe",url:"https://gist.githubusercontent.com/sandbox/7f6065c867a5f355207e/raw/f6d6496474af6dfba0b73f36dbd0e00ce0fc2f42/leagues_NBA_player_totals.csv",settings:{format:"csv",delimiter:","}}}}};d["default"].each(_.datasources.BY_ID,function(e){(0,d["default"])(e.tables).each(function(e){return(0,d["default"])(e.schema).each(function(e,t){return e.__id__=t}).value()}).value(),(0,d["default"])(e.schema).each(function(e,t){return e.__id__=t}).value()});var x=(0,y["default"])(_);u["default"].render(a["default"].createElement(p.Provider,{store:x},a["default"].createElement(g["default"],null)),document.getElementById("demo")),x.dispatch((0,v.connectTableIfNecessary)({datasource_id:0})).then(function(){x.dispatch((0,v.selectTable)({datasource_id:0})),x.dispatch(w.addField("row",{id:"agg_count",name:"COUNT",type:"aggregate",op:"count"})),x.dispatch(w.addField("col",{tableId:{id:0,name:"Birdstrikes"},fieldId:3,func:"year"})),x.dispatch(w.addField("color",{tableId:{id:0,name:"Birdstrikes"},fieldId:7}))})},function(e,t,r){var n=r(2);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,'body,html{font-size:16px;background-color:#f4f8fb;height:100%;min-width:1024px;margin:0;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column}label{font-weight:400;font-size:.85rem}.demo.explorer .demo-title{padding:.5rem;border-bottom:1px solid #dfdfdf;background-color:#fff;overflow:auto;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.demo.explorer .demo-title h1.post-title{font-weight:400;font-size:1.25rem;margin:0;float:left}.demo.explorer .demo-title a{float:right;font-size:1rem;margin:0;padding-left:1rem}#demo{font-size:14px;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}#demo,.pane-container{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1}.pane-container{-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row}.container-flex-fill-wrap{position:relative;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.container-flex-fill-wrap .container-flex-fill{position:absolute;top:0;bottom:0;left:0;right:0;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.container-flex-fill-wrap .container-flex-fill pre{overflow:auto;white-space:pre;word-wrap:normal;margin-right:10px}.pane-container .pane{background-color:#fff;border:1px solid #dfdfdf;border-radius:1px;margin:10px;margin-left:0;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;-webkit-box-pack:justify;-ms-flex-pack:justify;-webkit-justify-content:space-between;-moz-justify-content:space-between;justify-content:space-between}.pane-container .pane.data-pane{-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;-webkit-box-flex:0;-webkit-flex:0 1 253px;-moz-flex:0 1 253px;-ms-flex:0 1 253px;flex:0 1 253px;border-left:0}.pane-container .pane.graphic-pane{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;flex-flow:column}.pane-container .pane.graphic-pane,.pane-container .pane.shelf-pane{background-color:transparent;border:none;-webkit-flex-flow:column;-ms-flex-flow:column}.pane-container .pane.shelf-pane{-webkit-box-flex:0;-webkit-flex:0 1 243px;-moz-flex:0 1 243px;-ms-flex:0 1 243px;flex:0 1 243px;flex-flow:column;position:relative}.func-wrap{padding-left:6px;text-transform:uppercase;text-shadow:#fff 0 1px 0;color:#222;font-weight:600;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.func-wrap:empty{display:none}.icon-wrap{text-align:center;padding-left:3px;padding-right:3px;border-right:1px solid #dfdfdf}.name-wrap{position:relative;padding-left:6px;padding-right:6px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.name-wrap.has-func{padding-left:5px;padding-right:5px}.name-wrap.has-func:after,.name-wrap.has-func:before{position:absolute;top:-1px}.name-wrap.has-func:before{content:"(";left:0}.name-wrap.has-func:after{content:")";right:0}.option-wrap i.fa.fa-trash-o{padding:0 4px 0 3px}.field-wrap{position:relative;border:1px solid #dfdfdf;border-radius:1px;background-color:#f0f0f0;overflow:hidden;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;cursor:pointer;cursor:-webkit-grab;cursor:-moz-grab}.field-wrap:focus,.field-wrap:hover{box-shadow:0 1px 3px #dfdfdf}.field-wrap:active{box-shadow:0 2px 3px rgba(0,0,0,.8);cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.field-wrap.querybuilder-field{margin-right:6px;-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.field-wrap.querybuilder-field .icon-wrap{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;max-width:60px}.field-wrap.querybuilder-field .icon-wrap i.fa.fa-long-arrow-right{padding:0 5px}.field-wrap.querybuilder-field .name-wrap{max-width:125px;-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto}.field-wrap.querybuilder-field .option-wrap{padding:0 3px;cursor:pointer}.field-wrap.querybuilder-field .option-wrap i.fa.fa-caret-down{padding:0 4px 0 3px;color:#aaa;text-shadow:#fff 0 1px 0;border-radius:2px}.field-wrap.querybuilder-field .option-wrap i.fa.fa-times.remove-link{text-shadow:#fff 0 1px 0;display:none}.field-wrap.querybuilder-field .option-wrap:active i.fa.fa-caret-down,.field-wrap.querybuilder-field .option-wrap:hover i.fa.fa-caret-down{text-shadow:none;color:#ddd;background-color:#bbb}.field-wrap.querybuilder-field .option-wrap:active i.fa.fa-caret-down{background-color:#aaa}.field-wrap.querybuilder-field:hover .option-wrap i.fa.fa-times.remove-link{display:initial}.field-drag-layer{position:fixed;pointer-events:none;left:0;top:0;width:100%;height:100%;z-index:100}.field-drag-layer .field-drag-wrap{display:-webkit-inline-box;display:-webkit-inline-flex;display:-moz-inline-flex;display:-ms-inline-flexbox;display:inline-flex}.field-drag-layer .field-drag-wrap .field-wrap{opacity:.92;box-shadow:0 2px 3px rgba(0,0,0,.8);cursor:move;cursor:-webkit-grabbing;cursor:-moz-grabbing}.field-drag-layer .field-drag-wrap .field-wrap.remove{background-color:#f49ea8;border:1px solid #f18794;opacity:.5}.field-drag-layer .field-drag-wrap .field-wrap.remove .icon-wrap{border-right:1px solid #f18794}.field-contained:before{display:none}.field-empty:before{display:block}.field-drop-target{background-color:#eaf7e9}.field-drop-target:before{border-color:#999;font-weight:600}.field-drop-over{background-color:#c5eac3}.field-drop-over:before{border-color:#999;font-weight:600;background-color:#a1dc9e}.shelf-pane .container-flex-fill-wrap{background-color:#fff;border:1px solid #dfdfdf}.shelf-pane .container-flex-fill{-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;padding:5px 6px}.querybuilder-shelf,.shelf-pane .container-flex-fill{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.querybuilder-shelf{position:relative;-webkit-box-flex:1;-webkit-flex:1 1 0px;-moz-flex:1 1 0px;-ms-flex:1 1 0px;flex:1 1 0px}.querybuilder-shelf label{position:relative;text-shadow:#fff 0 1px 0}.querybuilder-shelf label i.fa.fa-times.remove-link{position:absolute;top:0;right:0;padding:6px 5px 9px;display:none;cursor:pointer}.querybuilder-shelf label:hover i.fa.fa-times.remove-link{display:block}.querybuilder-shelf .querybuilder-field-container-wrap{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;position:relative;overflow:hidden}.querybuilder-shelf .querybuilder-field-container-wrap:hover{overflow:auto}.querybuilder-shelf .querybuilder-field-container-wrap:before{content:"Drop Fields Here";position:absolute;margin:3px 6px;padding:0 6px;border:1px dotted #dfdfdf;border-radius:2px}.querybuilder-shelf .querybuilder-field-container{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;position:absolute;padding:3px 6px}.querybuilder-shelf .querybuilder-field-container .field-position-marker{position:absolute;background-color:#58c153;top:0;bottom:0;margin-left:-4px;width:2px}.querybuilder-shelf .querybuilder-field-container .field-position-marker:after,.querybuilder-shelf .querybuilder-field-container .field-position-marker:before{content:" ";position:absolute;left:-2px}.querybuilder-shelf .querybuilder-field-container .field-position-marker:before{top:0;border-top:3px solid #58c153;border-left:3px solid transparent;border-right:3px solid transparent}.querybuilder-shelf .querybuilder-field-container .field-position-marker:after{bottom:0;border-bottom:3px solid #58c153;border-left:3px solid transparent;border-right:3px solid transparent}.shelf-pane .querybuilder-shelf{margin-bottom:15px;-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column;-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto}.shelf-pane .querybuilder-shelf .querybuilder-shelf-legend{overflow:auto;max-height:200px;padding:8px 6px 0}.shelf-pane .querybuilder-shelf label{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center}.shelf-pane .querybuilder-shelf label i.fa.fa-caret-down{-webkit-align-self:center;-ms-flex-item-align:center;align-self:center;position:relative;top:-3px;padding:3px;margin-left:auto;visibility:hidden;cursor:pointer}.shelf-pane .querybuilder-shelf label:focus i.fa.fa-caret-down,.shelf-pane .querybuilder-shelf label:hover i.fa.fa-caret-down{visibility:visible}.shelf-pane .querybuilder-shelf .querybuilder-field-container-wrap{height:23px;overflow:visible}.shelf-pane .querybuilder-shelf .querybuilder-field-container-wrap:before{content:"Drop Field Here";top:0;bottom:0;left:0;right:0;margin:0}.shelf-pane .querybuilder-shelf .querybuilder-field-container{top:0;bottom:0;left:0;right:0;padding:0}.shelf-pane .querybuilder-shelf .querybuilder-field.field-wrap{-webkit-box-flex:0;-webkit-flex:0 1 auto;-moz-flex:0 1 auto;-ms-flex:0 1 auto;flex:0 1 auto;margin-right:0}.shelf-pane .querybuilder-shelf .querybuilder-field.field-wrap .name-wrap{max-width:none}.shelf-pane label.tablebuilder-encoding-title{font-size:1rem;margin-bottom:10px}.tablebuilder-type-select{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row}.tablebuilder-type-select .tablebuilder-type-choice{-webkit-box-flex:1;-webkit-flex:1 1 27px;-moz-flex:1 1 27px;-ms-flex:1 1 27px;flex:1 1 27px;position:relative;height:29px;line-height:29px;text-align:center;background-color:hsla(0,0%,88%,.5);border:1px solid transparent;top:-1px;margin-top:1px;cursor:pointer}.tablebuilder-type-select .tablebuilder-type-choice:not(:last-of-type){margin-right:1px}.tablebuilder-type-select .tablebuilder-type-choice.active,.tablebuilder-type-select .tablebuilder-type-choice:not(.active):focus,.tablebuilder-type-select .tablebuilder-type-choice:not(.active):hover{background-color:#fff;border:1px solid #dfdfdf;border-bottom:0;margin-top:0;top:0}.tablebuilder-type-select .tablebuilder-type-choice.active:after,.tablebuilder-type-select .tablebuilder-type-choice:not(.active):focus:after,.tablebuilder-type-select .tablebuilder-type-choice:not(.active):hover:after{content:" ";position:absolute;left:-1px;right:-1px;bottom:-2px;height:5px;background-color:#fff;border-left:1px solid #dfdfdf;border-right:1px solid #dfdfdf;z-index:1}.tablebuilder-type-select .tablebuilder-type-choice i.fa.fa-bar-chart.fa-flip-vertical-rotate-90{-webkit-transform:rotate(90deg) scale(-.8,1.2);-ms-transform:rotate(90deg) scale(-.8,1.2);transform:rotate(90deg) scale(-.8,1.2)}@-webkit-keyframes field-fade-in{0%{top:-20px}to{top:0}}@keyframes field-fade-in{0%{top:-20px}to{top:0}}.datasource-select{position:relative;border-bottom:1px solid #dfdfdf;cursor:pointer}.datasource-select .datasource-title{position:relative;padding:5px 5px 3px;padding-right:15px;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.datasource-select .datasource-title i.fa{padding-right:5px;color:#649af3}.datasource-select .datasource-title i.fa.fa-caret-down,.datasource-select .datasource-title i.fa.fa-caret-up{position:absolute;top:8px;right:0;color:#bbb}.datasource-select .datasource-dropdown{position:absolute;top:100%;left:0;right:-1px;z-index:10;cursor:default;background-color:#fff;border-top:1px solid #dfdfdf;border-right:1px solid #dfdfdf;box-shadow:0 3px 5px #c3c3c3}.datasource-select .datasource-dropdown .datasource-list{max-height:310px;overflow:auto}.datasource-select .datasource-dropdown .datasource-add{position:relative;padding:5px;text-align:center;border-top:1px solid #dfdfdf;color:#649af3;cursor:pointer}.datasource-select .datasource-dropdown .datasource-add:focus,.datasource-select .datasource-dropdown .datasource-add:hover{background-color:#649af3;color:#fff}.datasource-select .datasource-dropdown .datasource-add i.fa.fa-plus{position:absolute;top:8px;left:30px}.datasource-select .datasource-dropdown .datasource-db-name,.datasource-select .datasource-dropdown .datasource-name{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.datasource-select .datasource-dropdown .datasource-db-name,.datasource-select .datasource-dropdown .datasource-db .datasource-db-tables,.datasource-select .datasource-dropdown .datasource-name{padding:5px}.datasource-select .datasource-dropdown .datasource-db-name i.fa,.datasource-select .datasource-dropdown .datasource-db .datasource-db-tables i.fa,.datasource-select .datasource-dropdown .datasource-name i.fa{padding-right:5px}.datasource-select .datasource-dropdown .datasource-name{cursor:pointer}.datasource-select .datasource-dropdown .datasource-name:focus,.datasource-select .datasource-dropdown .datasource-name:hover{background-color:#3875d7;color:#fff}.datasource-select .datasource-dropdown .datasource-db .datasource-db-tables{padding-left:15px}.datasource-table-container{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto;position:relative}.datasource-table-fields{position:absolute;top:0;bottom:0;left:0;right:0;padding:5px 8px;overflow:auto}.datasource-table-fields .datasource-table-field.field-wrap{margin-bottom:5px;-webkit-animation:field-fade-in .3s ease;animation:field-fade-in .3s ease}.datasource-table-fields .datasource-table-field.field-wrap .icon-wrap{width:23px}.datasource-table-fields .datasource-table-field.field-wrap .name-wrap{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto}.datasource-table-fields .datasource-table-field.field-wrap span{padding:3px 0}.querybuilder{-webkit-box-flex:0;-webkit-flex:0 0 60px;-moz-flex:0 0 60px;-ms-flex:0 0 60px;flex:0 0 60px;-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row;border:1px solid #dfdfdf;background-color:#fff;margin-bottom:10px}.querybuilder,.querybuilder .querybuilder-type-spec{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex}.querybuilder .querybuilder-type-spec{-webkit-box-flex:1;-webkit-flex:1 1 auto;-moz-flex:1 1 auto;-ms-flex:1 1 auto;flex:1 1 auto;position:relative}.querybuilder .querybuilder-type-spec.row{-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row}.querybuilder .querybuilder-type-spec.col,.querybuilder .querybuilder-type-spec.row .querybuilder-shelf{-webkit-flex-flow:column;-ms-flex-flow:column;flex-flow:column}.querybuilder .querybuilder-type-spec.row .querybuilder-shelf:not(:last-of-type){border-right:1px solid #dfdfdf}.querybuilder .querybuilder-type-spec.row .querybuilder-shelf label{display:block;padding:1px 3px 0}.querybuilder .querybuilder-type-spec.row.key .querybuilder-shelf:first-of-type{-webkit-box-flex:0;-webkit-flex:0 0 auto;-moz-flex:0 0 auto;-ms-flex:0 0 auto;flex:0 0 auto}.querybuilder .querybuilder-type-spec.row.key .querybuilder-shelf label{width:150px}.querybuilder .querybuilder-type-spec.col .querybuilder-shelf{-webkit-flex-flow:row;-ms-flex-flow:row;flex-flow:row}.querybuilder .querybuilder-type-spec.col .querybuilder-shelf:not(:last-of-type){border-bottom:1px solid #dfdfdf}.querybuilder .querybuilder-type-spec.col .querybuilder-shelf label{padding:1px 3px 0;border-right:1px solid #dfdfdf;background-color:#efefef;display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-box-flex:0;-webkit-flex:0 0 80px;-moz-flex:0 0 80px;-ms-flex:0 0 80px;flex:0 0 80px;-webkit-box-align:center;-ms-flex-align:center;-webkit-align-items:center;-moz-align-items:center;align-items:center}.querybuilder-field-settings{position:absolute;top:25px;left:88px;top:55px;background-color:#fff;border:1px solid #dfdfdf;border-radius:2px;border-top-left-radius:0;box-shadow:0 3px 5px #ccc;padding:5px;z-index:10;width:200px}.querybuilder-field-settings.querybuilder-property-settings{top:20px;left:0;right:0;width:auto;border-top-left-radius:2px}.querybuilder-field-settings .querybuilder-field-options>label{font-weight:600}.querybuilder-field-settings .querybuilder-field-options>label a{padding-left:8px;font-weight:400;cursor:pointer}.querybuilder-field-settings i.fa.fa-times.remove-link{position:absolute;right:5px;top:5px;z-index:1}.querybuilder-field-settings .querybuilder-field-remove{color:#f18794;border-top:1px solid #dfdfdf;margin:0 -5px -5px;padding:5px;cursor:pointer}.querybuilder-field-settings .querybuilder-field-remove:focus,.querybuilder-field-settings .querybuilder-field-remove:hover{background-color:#f18794;color:#fff}.querybuilder-field-settings .querybuilder-func .querybuilder-field-settings-option-value{width:50%}.querybuilder-field-settings .querybuilder-field-settings-options{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;margin-bottom:.5rem}.querybuilder-field-settings .querybuilder-field-settings-options .querybuilder-field-settings-option-value{-webkit-box-flex:1;-webkit-flex:1 0 auto;-moz-flex:1 0 auto;-ms-flex:1 0 auto;flex:1 0 auto}.querybuilder-property-settings .querybuilder-color-static span{padding-right:10px}.querybuilder-property-settings .querybuilder-color-settings,.querybuilder-property-settings .querybuilder-color-sub-settings{display:-webkit-box;display:-webkit-flex;display:-moz-flex;display:-ms-flexbox;display:flex;-webkit-flex-flow:row wrap;-ms-flex-flow:row wrap;flex-flow:row wrap;-webkit-box-pack:start;-ms-flex-pack:start;-webkit-justify-content:flex-start;-moz-justify-content:flex-start;justify-content:flex-start}.querybuilder-property-settings .querybuilder-color-settings input[type=checkbox],.querybuilder-property-settings .querybuilder-color-sub-settings input[type=checkbox]{margin-bottom:6px;margin-right:6px}.querybuilder-property-settings .querybuilder-color-sub-settings{padding-left:20px}.querybuilder-property-settings .querybuilder-color-sub-settings.querybuilder-color-sub-settings-input span{-webkit-box-flex:0;-webkit-flex:0 0 35px;-moz-flex:0 0 35px;-ms-flex:0 0 35px;flex:0 0 35px}.querybuilder-property-settings .querybuilder-color-settings label{-webkit-box-flex:1;-webkit-flex:1 0 60px;-moz-flex:1 0 60px;-ms-flex:1 0 60px;flex:1 0 60px}.querybuilder-property-settings .querybuilder-color-settings label div{margin:5px 0;height:24px}.querybuilder-property-settings .querybuilder-color-settings label div svg{width:40px;height:24px}.remove-link{color:#999}.remove-link:hover{color:#f18794;text-decoration:none}.graphic-container{background-color:#fff;border:1px solid #dfdfdf;border-radius:1px}.loading-overlay{position:absolute;top:0;bottom:0;left:0;right:0;z-index:2}.loading-overlay .loading-overlay-background{position:absolute;top:0;bottom:0;left:0;right:0;background-color:#fff;opacity:.5}.loading-overlay i.fa.fa-spinner.fa-pulse{position:absolute;font-size:4rem;top:30%;left:50%;margin-left:-2rem}.axis text{font-size:10px;fill:#666}.axis line,.axis path{fill:none;stroke:#dfdfdf;shape-rendering:crispEdges}.axis-label{position:absolute;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.axis-label.left{top:0;left:0;right:40px;padding:0 4px}.axis-label.bottom{bottom:10px;left:0;right:0;text-align:center}',""])},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=f[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(s(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(s(n.parts[i],t));f[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a=o[1],s=o[2],u=o[3],l={css:a,media:s,sourceMap:u};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function a(){var e=document.createElement("link"),t=h();return e.rel="stylesheet",t.appendChild(e),e}function s(e,t){var r,n,o;if(t.singleton){var s=m++;r=g||(g=i()),n=u.bind(null,r,s,!1),o=u.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=a(),n=c.bind(null,r),o=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=i(),n=l.bind(null,r),o=function(){r.parentNode.removeChild(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function u(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function l(e,t){var r=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function c(e,t){var r=t.css,n=(t.media,t.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},d=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},p=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,m=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=p());var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var s=r[a],u=f[s.id];u.refs--,i.push(u)}if(e){var l=o(e);n(l,t)}for(var a=0;a<i.length;a++){var u=i[a];if(0===u.refs){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete f[u.id]}}}};var y=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t){e.exports=React},function(e,t){e.exports=ReactDOM},function(e,t){e.exports=d3},function(e,t){e.exports=dl},function(e,t){e.exports=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(5),i=n(o),a=r(11),s=n(a),u=s["default"](i["default"]),l=u.Provider,c=u.connect;t.Provider=l,t.connect=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"](e),r=u["default"](e);return{Provider:t,connect:r}}t.__esModule=!0,t["default"]=o;var i=r(12),a=n(i),s=r(14),u=n(s);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}function s(e){function t(){h||p||(h=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <Provider> child into a function."))}function r(){!h&&p&&(h=!0,console.error("With React 0.13, you need to wrap <Provider> child into a function. This restriction will be removed with React 0.14."))}function n(){g||(g=!0,console.error("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/rackt/react-redux/releases/tag/v2.0.0 for the migration instructions."))}var s=e.Component,l=e.PropTypes,f=e.Children,d=c["default"](l),p=a(e),h=!1,g=!1;return function(e){function a(t,r){o(this,a),e.call(this,t,r),this.store=t.store}return i(a,e),a.prototype.getChildContext=function(){return{store:this.store}},u(a,null,[{key:"childContextTypes",value:{store:d.isRequired},enumerable:!0},{key:"propTypes",value:{store:d.isRequired,children:(p?l.func:l.element).isRequired},enumerable:!0}]),a.prototype.componentWillReceiveProps=function(e){var t=this.store,r=e.store;t!==r&&n()},a.prototype.render=function(){var e=this.props.children;return"function"==typeof e?(t(),e=e()):r(),f.only(e)},a}(s)}t.__esModule=!0;var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=s;var l=r(13),c=n(l);e.exports=t["default"]},function(e,t){"use strict";function r(e){return e.shape({subscribe:e.func.isRequired,dispatch:e.func.isRequired,getState:e.func.isRequired})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){return e.displayName||e.name||"Component"}function u(e){var t=e.Component,r=e.PropTypes,o=d["default"](r);return function(r,u,f){function d(e,t){var r=e.getState(),n=E?O(r,t):O(r);return w["default"](m["default"](n),"`mapStateToProps` must return an object. Instead received %s.",n),n}function p(e,t){var r=e.dispatch,n=S?k(r,t):k(r);return w["default"](m["default"](n),"`mapDispatchToProps` must return an object. Instead received %s.",n),n}function g(e,t,r){var n=C(e,t,r);return w["default"](m["default"](n),"`mergeProps` must return an object. Instead received %s.",n),n}var y=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],b=Boolean(r),O=r||_,k=m["default"](u)?v["default"](u):u||x,C=f||D,E=O.length>1,S=k.length>1,R=y.pure,M=void 0===R?!0:R,A=T++;return function(r){var u=function(t){function n(e,r){i(this,n),t.call(this,e,r),this.version=A,this.store=e.store||r.store,w["default"](this.store,'Could not find "store" in either the context or '+('props of "'+this.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+this.constructor.displayName+'".')),this.stateProps=d(this.store,e),this.dispatchProps=p(this.store,e),this.state={props:this.computeNextState()}}return a(n,t),n.prototype.shouldComponentUpdate=function(e,t){return!M||!h["default"](this.state.props,t.props)},l(n,null,[{key:"displayName",value:"Connect("+s(r)+")",enumerable:!0},{key:"WrappedComponent",value:r,enumerable:!0},{key:"contextTypes",value:{store:o},enumerable:!0},{key:"propTypes",value:{store:o},enumerable:!0}]),n.prototype.computeNextState=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return g(this.stateProps,this.dispatchProps,e)},n.prototype.updateStateProps=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=d(this.store,e);return h["default"](t,this.stateProps)?!1:(this.stateProps=t,!0)},n.prototype.updateDispatchProps=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=p(this.store,e);return h["default"](t,this.dispatchProps)?!1:(this.dispatchProps=t,!0)},n.prototype.updateState=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=this.computeNextState(e);h["default"](t,this.state.props)||this.setState({props:t})},n.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},n.prototype.trySubscribe=function(){b&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},n.prototype.componentDidMount=function(){this.trySubscribe()},n.prototype.componentWillReceiveProps=function(e){h["default"](e,this.props)||(E&&this.updateStateProps(e),S&&this.updateDispatchProps(e),this.updateState(e))},n.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},n.prototype.handleChange=function(){this.unsubscribe&&this.updateStateProps()&&this.updateState()},n.prototype.getWrappedInstance=function(){return this.refs.wrappedInstance},n.prototype.render=function(){return e.createElement(r,c({
ref:"wrappedInstance"},this.state.props))},n}(t);return"production"!==n.env.NODE_ENV&&(u.prototype.componentWillUpdate=function(){this.version!==A&&(this.version=A,this.trySubscribe(),this.updateStateProps(),this.updateDispatchProps(),this.updateState())}),u}}}t.__esModule=!0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=u;var f=r(13),d=o(f),p=r(16),h=o(p),g=r(17),m=o(g),y=r(18),v=o(y),b=r(28),w=o(b),_=function(){return{}},x=function(e){return{dispatch:e}},D=function(e,t,r){return c({},r,e,t)},T=0;e.exports=t["default"]}).call(t,r(15))},function(e,t){function r(){l=!1,a.length?u=a.concat(u):c=-1,u.length&&n()}function n(){if(!l){var e=setTimeout(r);l=!0;for(var t=u.length;t;){for(a=u,u=[];++c<t;)a&&a[c].run();c=-1,t=u.length}a=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,s=e.exports={},u=[],l=!1,c=-1;s.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];u.push(new o(e,t)),1!==u.length||l||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},s.title="browser",s.browser=!0,s.env={},s.argv=[],s.version="",s.versions={},s.on=i,s.addListener=i,s.once=i,s.off=i,s.removeListener=i,s.removeAllListeners=i,s.emit=i,s.binding=function(e){throw new Error("process.binding is not supported")},s.cwd=function(){return"/"},s.chdir=function(e){throw new Error("process.chdir is not supported")},s.umask=function(){return 0}},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++)if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&n(r)===n(Object)}t.__esModule=!0,t["default"]=r;var n=function(e){return Function.prototype.toString.call(e)};e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return function(t){return o.bindActionCreators(e,t)}}t.__esModule=!0,t["default"]=n;var o=r(19);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(20),i=n(o),a=r(22),s=n(a),u=r(25),l=n(u),c=r(26),f=n(c),d=r(27),p=n(d);t.createStore=i["default"],t.combineReducers=s["default"],t.bindActionCreators=l["default"],t.applyMiddleware=f["default"],t.compose=p["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function r(){return l}function n(e){c.push(e);var t=!0;return function(){if(t){t=!1;var r=c.indexOf(e);c.splice(r,1)}}}function o(e){if(!a["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=u(l,e)}finally{f=!1}return c.slice().forEach(function(e){return e()}),e}function i(e){u=e,o({type:s.INIT})}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var u=e,l=t,c=[],f=!1;return o({type:s.INIT}),{dispatch:o,subscribe:n,getState:r,replaceReducer:i}}t.__esModule=!0,t["default"]=o;var i=r(21),a=n(i),s={INIT:"@@redux/INIT"};t.ActionTypes=s},function(e,t){"use strict";function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&n(r)===o}t.__esModule=!0,t["default"]=r;var n=function(e){return Function.prototype.toString.call(e)},o=n(Object);e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r=t&&t.type,n=r&&'"'+r.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+n+". To ignore an action, you must explicitly return the previous state."}function a(e,t,r){var n=Object.keys(t),o=r&&r.type===l.ActionTypes.INIT?"initialState argument passed to createStore":"previous state received by the reducer";if(0===n.length)return"Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.";if(!f["default"](e))return"The "+o+' has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected argument to be an object with the following '+('keys: "'+n.join('", "')+'"');var i=Object.keys(e).filter(function(e){return n.indexOf(e)<0});return i.length>0?"Unexpected "+(i.length>1?"keys":"key")+" "+('"'+i.join('", "')+'" found in '+o+". ")+"Expected to find one of the known reducer keys instead: "+('"'+n.join('", "')+'". Unexpected keys will be ignored.'):void 0}function s(e){Object.keys(e).forEach(function(t){var r=e[t],n=r(void 0,{type:l.ActionTypes.INIT});if("undefined"==typeof n)throw new Error('Reducer "'+t+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var o="@@redux/PROBE_UNKNOWN_ACTION_"+Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof r(void 0,{type:o}))throw new Error('Reducer "'+t+'" returned undefined when probed with a random type. '+("Don't try to handle "+l.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")})}function u(e){var t,r=g["default"](e,function(e){return"function"==typeof e});try{s(r)}catch(o){t=o}var u=p["default"](r,function(){});return function(e,o){if(void 0===e&&(e=u),t)throw t;var s=!1,l=p["default"](r,function(t,r){var n=e[r],a=t(n,o);if("undefined"==typeof a){var u=i(r,o);throw new Error(u)}return s=s||a!==n,a});if("production"!==n.env.NODE_ENV){var c=a(e,l,o);c&&console.error(c)}return s?l:e}}t.__esModule=!0,t["default"]=u;var l=r(20),c=r(21),f=o(c),d=r(23),p=o(d),h=r(24),g=o(h);e.exports=t["default"]}).call(t,r(15))},function(e,t){"use strict";function r(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){return Object.keys(e).reduce(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return o(e,t);if("object"!=typeof e||null===e||void 0===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return s["default"](e,function(e){return o(e,t)})}t.__esModule=!0,t["default"]=i;var a=r(23),s=n(a);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e){return function(r,n){var o=e(r,n),a=o.dispatch,u=[],l={getState:o.getState,dispatch:function(e){return a(e)}};return u=t.map(function(e){return e(l)}),a=s["default"].apply(void 0,u)(o.dispatch),i({},o,{dispatch:a})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var a=r(27),s=n(a);e.exports=t["default"]},function(e,t){"use strict";function r(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{sourceIds:e.datasources.IDS,sources:e.datasources.BY_ID,tableId:e.datasources.selectedTable,queryspec:e.queryspec,visualspec:e.visualspec,result:e.result,chartspec:e.chartspec}}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},c=r(30),f=n(c),d=r(9),p=n(d),h=r(5),g=n(h),m=r(19),y=r(10),v=r(31),b=n(v),w=r(86),_=r(138),x=r(197),D=r(200),T=r(201),O=r(205),k=r(225),C=r(288),E=n(C),S=g["default"].DOM,R=S.div,M=S.i,A=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,r=e.result,n=e.queryspec,o=e.visualspec,i=e.sourceIds,a=e.sources,u=e.tableId,l=e.chartspec,c=this.props,d=c.connectDropTarget,h=c.isOver,y=c.isDragging,v=(0,m.bindActionCreators)({removeField:x.removeField,clearFields:x.clearFields,insertFieldAtPosition:x.insertFieldAtPosition,moveFieldTo:x.moveFieldTo,replaceFieldOnShelf:x.replaceFieldOnShelf,moveAndReplaceField:x.moveAndReplaceField,updateFieldTypecast:x.updateFieldTypecast,updateFieldFunction:x.updateFieldFunction},t),b=p["default"].curry(_.getField)(a),w=(p["default"].curry(_.getField)(a,u),(0,m.bindActionCreators)({setTableEncoding:D.setTableEncoding,setPropertySetting:D.setPropertySetting},t)),C=r.cache[p["default"].first(r.render.current)],S=r.cache[p["default"].first(r.render.last)],A=C&&C.isLoading,P=A?S:C,I=A?p["default"].get(l,r.render.last):p["default"].get(l,r.render.current);return d(R({className:(0,f["default"])("pane-container")},g["default"].createElement(E["default"],{showTrashCan:h}),R({className:"pane data-pane"},g["default"].createElement(T.DataSourceSelect,s({sourceIds:i,sources:a,tableId:u},{onSelectTable:function(e){t((0,x.clearQuery)()),t((0,_.selectTable)(e)),t((0,_.connectTableIfNecessary)(e))}})),R({className:"datasource-table-container"},g["default"].createElement(T.TableSchema,s({sources:a,tableId:u},{onSelectField:function(e){t((0,x.addField)(n.row.length<n.col.length?"row":"col",e))}})))),R({className:"pane graphic-pane"},R({className:"querybuilder"},g["default"].createElement(O.TableLayoutSpecBuilder,s({getField:b},{isDragging:y,queryspec:n,fieldActionCreators:v}))),R({className:"container-flex-fill-wrap graphic-container"},R({className:"loading-overlay",style:{display:A?"":"none"}},R({className:"loading-overlay-background"}),M({className:"fa fa-spinner fa-pulse"})),g["default"].createElement(k.TableContainer,s({},P,{visualspec:o},I)))),g["default"].createElement(O.TableVisualSpecBuilder,s({getField:b},o,I,{isDragging:y,queryspec:n,vizActionCreators:w,fieldActionCreators:v}))))}}]),t}(g["default"].Component);t["default"]=(0,y.connect)(a)((0,w.DragDropContext)(b["default"])((0,w.DropTarget)("ShelfField",{canDrop:function(e){return!0},drop:function(e,t,r){return t.didDrop()?void 0:s({},p["default"].pick(t.getItem(),"shelf","position"),{droppedOnBody:!0,removeField:function(t,r){return e.dispatch((0,x.removeField)(t,r))}})}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isDragging:t.canDrop()}})(A))),e.exports=t["default"]},function(e,t,r){var n;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"===n||"number"===n)e+=" "+r;else if(Array.isArray(r))e+=" "+o.apply(null,r);else if("object"===n)for(var i in r)r.hasOwnProperty(i)&&r[i]&&(e+=" "+i)}}return e.substr(1)}"undefined"!=typeof e&&e.exports?e.exports=o:(n=function(){return o}.call(t,r,t,e),!(void 0!==n&&(e.exports=n)))}()},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e){return new s["default"](e)}t.__esModule=!0,t["default"]=i;var a=r(32),s=o(a),u=r(85),l=o(u),c=r(84),f=n(c);t.NativeTypes=f,t.getEmptyImage=l["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(33),s=o(a),u=r(60),l=o(u),c=r(61),f=o(c),d=r(74),p=r(81),h=r(83),g=r(84),m=n(g),y=function(){function e(t){i(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new f["default"],this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this)}return e.prototype.setup=function(){if("undefined"!=typeof window){if(this.constructor.isSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.constructor.isSetUp=!0,window.addEventListener("dragstart",this.handleTopDragStart),window.addEventListener("dragstart",this.handleTopDragStartCapture,!0),window.addEventListener("dragend",this.handleTopDragEndCapture,!0),window.addEventListener("dragenter",this.handleTopDragEnter),window.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.addEventListener("dragover",this.handleTopDragOver),window.addEventListener("dragover",this.handleTopDragOverCapture,!0),window.addEventListener("drop",this.handleTopDrop),window.addEventListener("drop",this.handleTopDropCapture,!0)}},e.prototype.teardown=function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,window.removeEventListener("dragstart",this.handleTopDragStart),window.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),window.removeEventListener("dragend",this.handleTopDragEndCapture,!0),window.removeEventListener("dragenter",this.handleTopDragEnter),window.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.removeEventListener("dragover",this.handleTopDragOver),window.removeEventListener("dragover",this.handleTopDragOverCapture,!0),window.removeEventListener("drop",this.handleTopDrop),window.removeEventListener("drop",this.handleTopDropCapture,!0),this.clearCurrentDragSourceNode())},e.prototype.connectDragPreview=function(e,t,r){var n=this;return this.sourcePreviewNodeOptions[e]=r,this.sourcePreviewNodes[e]=t,function(){delete n.sourcePreviewNodes[e],delete n.sourcePreviewNodeOptions[e]}},e.prototype.connectDragSource=function(e,t,r){var n=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=r;var o=function(t){return n.handleDragStart(t,e)},i=function(t){return n.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){delete n.sourceNodes[e],delete n.sourceNodeOptions[e],t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}},e.prototype.connectDropTarget=function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return s["default"](t||{},{dropEffect:"move"})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return s["default"](t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})},e.prototype.getSourceClientOffset=function(e){return p.getNodeClientOffset(this.sourceNodes[e])},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(m).some(function(t){return m[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode();var t=h.createNativeDragSource(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.endDragNativeItem=function(){this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null},e.prototype.endDragIfSourceWasRemovedFromDOM=function(){var e=this.currentDragSourceNode;document.body.contains(e)||(this.actions.endDrag(),this.clearCurrentDragSourceNode())},e.prototype.setCurrentDragSourceNode=function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=p.getNodeClientOffset(e),this.currentDragSourceNodeOffsetChanged=!1,window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e.prototype.clearCurrentDragSourceNode=function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0):!1},e.prototype.checkIfCurrentDragSourceRectChanged=function(){var e=this.currentDragSourceNode;return e?this.currentDragSourceNodeOffsetChanged?!0:(this.currentDragSourceNodeOffsetChanged=!l["default"](p.getNodeClientOffset(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged):!1},e.prototype.handleTopDragStartCapture=function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds.unshift(t)},e.prototype.handleTopDragStart=function(e){var t=this,r=this.dragStartSourceIds;this.dragStartSourceIds=null;var n=p.getEventClientOffset(e);this.actions.beginDrag(r,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=h.matchNativeItemType(o);if(this.monitor.isDragging()){if("function"==typeof o.setDragImage){var a=this.monitor.getSourceId(),s=this.sourceNodes[a],u=this.sourcePreviewNodes[a]||s,l=this.getCurrentSourcePreviewNodeOptions(),c=l.anchorX,f=l.anchorY,d={anchorX:c,anchorY:f},g=p.getDragPreviewOffset(s,u,n,d);o.setDragImage(u,g.x,g.y)}try{o.setData("application/json",{})}catch(m){}this.setCurrentDragSourceNode(e.target);var y=this.getCurrentSourcePreviewNodeOptions(),v=y.captureDraggingState;v?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(o.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}},e.prototype.handleTopDragEndCapture=function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()},e.prototype.handleTopDragEnterCapture=function(e){this.dragEnterTargetIds=[];var t=this.enterLeaveCounter.enter(e.target);if(t&&!this.monitor.isDragging()){var r=e.dataTransfer,n=h.matchNativeItemType(r);n&&this.beginDragNativeItem(n)}},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleTopDragEnter=function(e){var t=this,r=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],this.monitor.isDragging()){d.isFirefox()||this.actions.hover(r,{clientOffset:p.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect())}},e.prototype.handleTopDragOverCapture=function(){this.dragOverTargetIds=[]},e.prototype.handleDragOver=function(e,t){this.dragOverTargetIds.unshift(t)},e.prototype.handleTopDragOver=function(e){var t=this,r=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.actions.hover(r,{clientOffset:p.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},e.prototype.handleTopDragLeaveCapture=function(e){this.isDraggingNativeItem()&&e.preventDefault();var t=this.enterLeaveCounter.leave(e.target);t&&this.isDraggingNativeItem()&&this.endDragNativeItem()},e.prototype.handleTopDropCapture=function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e.prototype.handleTopDrop=function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:p.getEventClientOffset(e)}),this.actions.drop(),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()},e.prototype.handleSelectStart=function(e){"function"==typeof e.target.dragDrop&&(e.preventDefault(),e.target.dragDrop())},e}();t["default"]=y,e.exports=t["default"]},function(e,t,r){var n=r(34),o=r(58),i=r(59),a=i(n,o);e.exports=a},function(e,t,r){var n=r(35),o=r(51),i=r(53),a=i(function(e,t,r){return r?n(e,t,r):o(e,t)});e.exports=a},function(e,t,r){function n(e,t,r){for(var n=-1,i=o(t),a=i.length;++n<a;){var s=i[n],u=e[s],l=r(u,t[s],s,e,t);(l===l?l===u:u!==u)&&(void 0!==u||s in e)||(e[s]=l)}return e}var o=r(36);e.exports=n},function(e,t,r){var n=r(37),o=r(42),i=r(40),a=r(46),s=n(Object,"keys"),u=s?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):i(e)?s(e):[]}:a;e.exports=u},function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return o(r)?r:void 0}var o=r(38);e.exports=n},function(e,t,r){function n(e){return null==e?!1:o(e)?c.test(u.call(e)):i(e)&&a.test(e)}var o=r(39),i=r(41),a=/^\[object .+?Constructor\]$/,s=Object.prototype,u=Function.prototype.toString,l=s.hasOwnProperty,c=RegExp("^"+u.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){return o(e)&&s.call(e)==i}var o=r(40),i="[object Function]",a=Object.prototype,s=a.toString;e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t,r){function n(e){return null!=e&&i(o(e))}var o=r(43),i=r(45);e.exports=n},function(e,t,r){var n=r(44),o=n("length");e.exports=o},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){for(var t=u(e),r=t.length,n=r&&e.length,l=!!n&&s(n)&&(i(e)||o(e)),f=-1,d=[];++f<r;){var p=t[f];(l&&a(p,n)||c.call(e,p))&&d.push(p)}return d}var o=r(47),i=r(48),a=r(49),s=r(45),u=r(50),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)&&s.call(e,"callee")&&!u.call(e,"callee")}var o=r(42),i=r(41),a=Object.prototype,s=a.hasOwnProperty,u=a.propertyIsEnumerable;e.exports=n},function(e,t,r){var n=r(37),o=r(45),i=r(41),a="[object Array]",s=Object.prototype,u=s.toString,l=n(Array,"isArray"),c=l||function(e){return i(e)&&o(e.length)&&u.call(e)==a};e.exports=c},function(e,t){function r(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,o=9007199254740991;e.exports=r},function(e,t,r){function n(e){if(null==e)return[];u(e)||(e=Object(e));var t=e.length;t=t&&s(t)&&(i(e)||o(e))&&t||0;for(var r=e.constructor,n=-1,l="function"==typeof r&&r.prototype===e,f=Array(t),d=t>0;++n<t;)f[n]=n+"";for(var p in e)d&&a(p,t)||"constructor"==p&&(l||!c.call(e,p))||f.push(p);return f}var o=r(47),i=r(48),a=r(49),s=r(45),u=r(40),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){return null==t?e:o(t,i(t),e)}var o=r(52),i=r(36);e.exports=n},function(e,t){function r(e,t,r){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n];r[i]=e[i]}return r}e.exports=r},function(e,t,r){function n(e){return a(function(t,r){var n=-1,a=null==t?0:r.length,s=a>2?r[a-2]:void 0,u=a>2?r[2]:void 0,l=a>1?r[a-1]:void 0;for("function"==typeof s?(s=o(s,l,5),a-=2):(s="function"==typeof l?l:void 0,a-=s?1:0),u&&i(r[0],r[1],u)&&(s=3>a?void 0:s,a=1);++n<a;){var c=r[n];c&&e(t,c,s)}return t})}var o=r(54),i=r(56),a=r(57);e.exports=n},function(e,t,r){function n(e,t,r){if("function"!=typeof e)return o;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,a){return e.call(t,r,n,o,i,a)}}return function(){return e.apply(t,arguments)}}var o=r(55);e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){function n(e,t,r){if(!a(r))return!1;var n=typeof t;if("number"==n?o(r)&&i(t,r.length):"string"==n&&t in r){var s=r[t];return e===e?e===s:s!==s}return!1}var o=r(42),i=r(49),a=r(40);e.exports=n},function(e,t){function r(e,t){if("function"!=typeof e)throw new TypeError(n);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=o(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var s=Array(t+1);for(n=-1;++n<t;)s[n]=r[n];return s[t]=a,e.apply(this,s)}}var n="Expected a function",o=Math.max;e.exports=r},function(e,t){function r(e,t){return void 0===e?t:e}e.exports=r},function(e,t,r){function n(e,t){return o(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(void 0,r))})}var o=r(57);e.exports=n},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;var a=e[r[i]],s=t[r[i]];if(a!==s)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(62),a=n(i),s=r(72),u=n(s),l=function(){function e(){o(this,e),this.entered=[]}return e.prototype.enter=function(e){var t=this.entered.length;return this.entered=a["default"](this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=u["default"](this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t["default"]=l,e.exports=t["default"]},function(e,t,r){var n=r(63),o=r(65),i=r(57),a=i(function(e){return o(n(e,!1,!0))});e.exports=a},function(e,t,r){function n(e,t,r,l){l||(l=[]);for(var c=-1,f=e.length;++c<f;){var d=e[c];u(d)&&s(d)&&(r||a(d)||i(d))?t?n(d,t,r,l):o(l,d):r||(l[l.length]=d)}return l}var o=r(64),i=r(47),a=r(48),s=r(42),u=r(41);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e,t){var r=-1,n=o,u=e.length,l=!0,c=l&&u>=s,f=c?a():null,d=[];f?(n=i,l=!1):(c=!1,f=t?[]:d);e:for(;++r<u;){var p=e[r],h=t?t(p,r,e):p;if(l&&p===p){for(var g=f.length;g--;)if(f[g]===h)continue e;t&&f.push(h),d.push(p)}else n(f,h,0)<0&&((t||c)&&f.push(h),d.push(p))}return d}var o=r(66),i=r(68),a=r(69),s=200;e.exports=n},function(e,t,r){function n(e,t,r){if(t!==t)return o(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var o=r(67);e.exports=n},function(e,t){function r(e,t,r){for(var n=e.length,o=t+(r?0:-1);r?o--:++o<n;){var i=e[o];if(i!==i)return o}return-1}e.exports=r},function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||o(t)?r.set.has(t):r.hash[t];return n?0:-1}var o=r(40);e.exports=n},function(e,t,r){(function(t){function n(e){return s&&a?new o(e):null}var o=r(70),i=r(37),a=i(t,"Set"),s=i(Object,"create");e.exports=n}).call(t,function(){return this}())},function(e,t,r){(function(t){function n(e){var t=e?e.length:0;for(this.data={hash:s(null),set:new a};t--;)this.push(e[t])}var o=r(71),i=r(37),a=i(t,"Set"),s=i(Object,"create");n.prototype.push=o,e.exports=n}).call(t,function(){return this}())},function(e,t,r){function n(e){var t=this.data;"string"==typeof e||o(e)?t.set.add(e):t.hash[e]=!0}var o=r(40);e.exports=n},function(e,t,r){var n=r(73),o=r(42),i=r(57),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a},function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var u=-1,l=o,c=!0,f=c&&t.length>=s?a(t):null,d=t.length;f&&(l=i,c=!1,t=f);e:for(;++u<r;){var p=e[u];if(c&&p===p){for(var h=d;h--;)if(t[h]===p)continue e;n.push(p)}else l(t,p,0)<0&&n.push(p)}return n}var o=r(66),i=r(68),a=r(69),s=200;e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(75),i=n(o),a=i["default"](function(){return/firefox/i.test(navigator.userAgent)});t.isFirefox=a;var s=i["default"](function(){return Boolean(window.safari)});t.isSafari=s},function(e,t,r){function n(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new n.Cache,r}var o=r(76),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){function n(){this.__data__={}}var o=r(77),i=r(78),a=r(79),s=r(80);n.prototype["delete"]=o,n.prototype.get=i,n.prototype.has=a,n.prototype.set=s,e.exports=n},function(e,t){function r(e){return this.has(e)&&delete this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"==e?void 0:this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"!=e&&o.call(this.__data__,e)}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t){function r(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=e.nodeType===c?e:e.parentElement;if(!t)return null;var r=t.getBoundingClientRect(),n=r.top,o=r.left;return{x:o,y:n}}function i(e){return{x:e.clientX,y:e.clientY}}function a(e,t,r,n){var i="IMG"===t.nodeName&&(s.isFirefox()||!document.documentElement.contains(t)),a=i?e:t,u=o(a),c={x:r.x-u.x,y:r.y-u.y},f=e.offsetWidth,d=e.offsetHeight,p=n.anchorX,h=n.anchorY,g=i?t.width:f,m=i?t.height:d;s.isSafari()&&i?(m/=window.devicePixelRatio,g/=window.devicePixelRatio):s.isFirefox()&&!i&&(m*=window.devicePixelRatio,g*=window.devicePixelRatio);var y=new l["default"]([0,.5,1],[c.x,c.x/f*g,c.x+g-f]),v=new l["default"]([0,.5,1],[c.y,c.y/d*m,c.y+m-d]),b=y.interpolate(p),w=v.interpolate(h);return s.isSafari()&&i&&(w+=(window.devicePixelRatio-1)*m),{x:b,y:w}}t.__esModule=!0,t.getNodeClientOffset=o,t.getEventClientOffset=i,t.getDragPreviewOffset=a;var s=r(74),u=r(82),l=n(u),c=1},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(t,n){r(this,e);for(var o=t.length,i=[],a=0;o>a;a++)i.push(a);i.sort(function(e,r){return t[e]<t[r]?-1:1});for(var s=[],u=[],l=[],c=void 0,f=void 0,a=0;o-1>a;a++)c=t[a+1]-t[a],f=n[a+1]-n[a],u.push(c),s.push(f),l.push(f/c);for(var d=[l[0]],a=0;a<u.length-1;a++){var p=l[a],h=l[a+1];if(0>=p*h)d.push(0);else{c=u[a];var g=u[a+1],m=c+g;d.push(3*m/((m+g)/p+(m+c)/h))}}d.push(l[l.length-1]);for(var y=[],v=[],b=void 0,a=0;a<d.length-1;a++){b=l[a];var w=d[a],_=1/u[a],m=w+d[a+1]-b-b;y.push((b-w-m)*_),v.push(m*_*_)}this.xs=t,this.ys=n,this.c1s=d,this.c2s=y,this.c3s=v}return e.prototype.interpolate=function(e){var t=this.xs,r=this.ys,n=this.c1s,o=this.c2s,i=this.c3s,a=t.length-1;if(e===t[a])return r[a];for(var s=0,u=i.length-1,l=void 0;u>=s;){l=Math.floor(.5*(s+u));var c=t[l];if(e>c)s=l+1;else{if(!(c>e))return r[l];u=l-1}}a=Math.max(0,u);var f=e-t[a],d=f*f;return r[a]+n[a]*f+o[a]*d+i[a]*f*d},e}();t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e,t,r){var n=t.reduce(function(t,r){return t||e.getData(r)},null);return null!=n?n:r}function s(e){var t=d[e],r=t.exposeProperty,n=t.matchesTypes,a=t.getData;return function(){function e(){o(this,e),this.item=Object.defineProperties({},i({},r,{get:function(){return console.warn("Browser doesn't allow reading \""+r+'" until the drop event.'),null},configurable:!0,enumerable:!0}))}return e.prototype.mutateItemByReadingDataTransfer=function(e){delete this.item[r],this.item[r]=a(e,n)},e.prototype.canDrag=function(){return!0},e.prototype.beginDrag=function(){return this.item},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}()}function u(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(d).filter(function(e){var r=d[e].matchesTypes;return r.some(function(e){return t.indexOf(e)>-1})})[0]||null}t.__esModule=!0;var l;t.createNativeDragSource=s,t.matchNativeItemType=u;var c=r(84),f=n(c),d=(l={},i(l,f.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),i(l,f.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return a(e,t,"").split("\n")}}),i(l,f.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return a(e,t,"")}}),l)},function(e,t){"use strict";t.__esModule=!0;var r="__NATIVE_FILE__";t.FILE=r;var n="__NATIVE_URL__";t.URL=n;var o="__NATIVE_TEXT__";t.TEXT=o},function(e,t){"use strict";function r(){return n||(n=new Image,n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),n}t.__esModule=!0,t["default"]=r;var n=void 0;e.exports=t["default"]},function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var o=r(87);t.DragDropContext=n(o);var i=r(110);t.DragLayer=n(i);var a=r(118);t.DragSource=n(a);var s=r(133);t.DropTarget=n(s),"production"!==e.env.NODE_ENV&&Object.defineProperty(t,"default",{get:function(){console.error("React DnD does not provide a default export. You are probably missing the curly braces in the import statement. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#react-dnd-does-not-provide-a-default-export")}})}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){m["default"].apply(void 0,["DragDropContext","backend"].concat(u.call(arguments)));var t=void 0;t="object"==typeof e&&"function"==typeof e["default"]?e["default"]:e,h["default"]("function"==typeof t,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://gaearon.github.io/react-dnd/docs-drag-drop-context.html");var r={dragDropManager:new d.DragDropManager(t)};return function(e){var t=e.displayName||e.name||"Component";return function(n){function a(){o(this,a),n.apply(this,arguments)}return i(a,n),a.prototype.getDecoratedComponentInstance=function(){return this.refs.child},a.prototype.getManager=function(){return r.dragDropManager},a.prototype.getChildContext=function(){return r},a.prototype.render=function(){return f["default"].createElement(e,s({},this.props,{ref:"child"}))},l(a,null,[{key:"DecoratedComponent",value:e,enumerable:!0},{key:"displayName",value:"DragDropContext("+t+")",enumerable:!0},{key:"childContextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),a}(c.Component)}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=Array.prototype.slice,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=a;var c=r(5),f=n(c),d=r(88),p=r(108),h=n(p),g=r(109),m=n(g);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var o=r(89);t.DragDropManager=n(o);var i=r(104);t.DragSource=n(i);var a=r(105);t.DropTarget=n(a);var s=r(106);t.createTestBackend=n(s)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(20),s=o(a),u=r(90),l=o(u),c=r(92),f=n(c),d=r(101),p=o(d),h=r(102),g=(o(h),function(){function e(t){i(this,e);var r=s["default"](l["default"]);this.store=r,this.monitor=new p["default"](r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return e.prototype.handleRefCountChange=function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.registry},e.prototype.getActions=function(){function e(e){return function(){var n=e.apply(t,arguments);"undefined"!=typeof n&&r(n)}}var t=this,r=this.store.dispatch;return Object.keys(f).filter(function(e){return"function"==typeof f[e]}).reduce(function(t,r){return t[r]=e(f[r]),t},{})},e}());t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(91),i=n(o),a=r(95),s=n(a),u=r(97),l=n(u),c=r(98),f=n(c);t["default"]=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:f["default"](e.dirtyHandlerIds,t,e.dragOperation),dragOffset:i["default"](e.dragOffset,t),refCount:l["default"](e.refCount,t),dragOperation:s["default"](e.dragOperation,t)}},e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){return e===t?!0:e&&t&&e.x===t.x&&e.y===t.y}function o(e,t){switch(void 0===e&&(e=l),t.type){case u.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case u.HOVER:return n(e.clientOffset,t.clientOffset)?e:s({},e,{clientOffset:t.clientOffset});case u.END_DRAG:case u.DROP:return l;default:return e}}function i(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return t&&r&&n?{x:t.x+n.x-r.x,y:t.y+n.y-r.y}:null}function a(e){var t=e.clientOffset,r=e.initialClientOffset;return t&&r?{x:t.x-r.x,y:t.y-r.y}:null}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o,t.getSourceClientOffset=i,t.getDifferenceFromInitialOffset=a;var u=r(92),l={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.publishSource,n=void 0===r?!0:r,o=t.clientOffset,i=void 0===o?null:o,a=t.getSourceClientOffset;d["default"](h["default"](e),"Expected sourceIds to be an array.");var s=this.getMonitor(),u=this.getRegistry();d["default"](!s.isDragging(),"Cannot call beginDrag while dragging.");for(var l=0;l<e.length;l++)d["default"](u.getSource(e[l]),"Expected sourceIds to be registered.");for(var c=null,l=e.length-1;l>=0;l--)if(s.canDragSource(e[l])){c=e[l];break}if(null!==c){var f=null;i&&(d["default"]("function"==typeof a,"When clientOffset is provided, getSourceClientOffset must be a function."),f=a(c));var p=u.getSource(c),g=p.beginDrag(s,c);d["default"](m["default"](g),"Item must be an object."),u.pinSource(c);var v=u.getSourceType(c);return{type:y,itemType:v,item:g,sourceId:c,clientOffset:i,sourceClientOffset:f,isSourcePublic:n}}}function i(e){var t=this.getMonitor();if(t.isDragging())return{type:v}}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.clientOffset,n=void 0===r?null:r;d["default"](h["default"](e),"Expected targetIds to be an array."),e=e.slice(0);var o=this.getMonitor(),i=this.getRegistry();d["default"](o.isDragging(),"Cannot call hover while not dragging."),d["default"](!o.didDrop(),"Cannot call hover after drop.");for(var a=o.getItemType(),s=0;s<e.length;s++){var u=e[s];d["default"](e.lastIndexOf(u)===s,"Expected targetIds to be unique in the passed array.");var l=i.getTarget(u);d["default"](l,"Expected targetIds to be registered.");var f=i.getTargetType(u);c["default"](f,a)&&l.hover(o,u)}return{type:b,targetIds:e,clientOffset:n}}function s(){var e=this,t=this.getMonitor(),r=this.getRegistry();d["default"](t.isDragging(),"Cannot call drop while not dragging."),d["default"](!t.didDrop(),"Cannot call drop twice during one drag operation.");
var n=t.getTargetIds().filter(t.canDropOnTarget,t);n.reverse(),n.forEach(function(n,o){var i=r.getTarget(n),a=i.drop(t,n);d["default"]("undefined"==typeof a||m["default"](a),"Drop result must either be an object or undefined."),"undefined"==typeof a&&(a=0===o?{}:t.getDropResult()),e.store.dispatch({type:w,dropResult:a})})}function u(){var e=this.getMonitor(),t=this.getRegistry();d["default"](e.isDragging(),"Cannot call endDrag while not dragging.");var r=e.getSourceId(),n=t.getSource(r,!0);return n.endDrag(e,r),t.unpinSource(),{type:_}}t.__esModule=!0,t.beginDrag=o,t.publishDragSource=i,t.hover=a,t.drop=s,t.endDrag=u;var l=r(93),c=n(l),f=r(94),d=n(f),p=r(48),h=n(p),g=r(40),m=n(g),y="dnd-core/BEGIN_DRAG";t.BEGIN_DRAG=y;var v="dnd-core/PUBLISH_DRAG_SOURCE";t.PUBLISH_DRAG_SOURCE=v;var b="dnd-core/HOVER";t.HOVER=b;var w="dnd-core/DROP";t.DROP=w;var _="dnd-core/END_DRAG";t.END_DRAG=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](e)?e.some(function(e){return e===t}):e===t}t.__esModule=!0,t["default"]=o;var i=r(48),a=n(i);e.exports=t["default"]},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){switch(void 0===e&&(e=c),t.type){case a.BEGIN_DRAG:return i({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case a.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case a.HOVER:return i({},e,{targetIds:t.targetIds});case a.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case s.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:i({},e,{targetIds:l["default"](e.targetIds,t.targetId)});case a.DROP:return i({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case a.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var a=r(92),s=r(96),u=r(72),l=n(u),c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};e.exports=t["default"]},function(e,t){"use strict";function r(e){return{type:a,sourceId:e}}function n(e){return{type:s,targetId:e}}function o(e){return{type:u,sourceId:e}}function i(e){return{type:l,targetId:e}}t.__esModule=!0,t.addSource=r,t.addTarget=n,t.removeSource=o,t.removeTarget=i;var a="dnd-core/ADD_SOURCE";t.ADD_SOURCE=a;var s="dnd-core/ADD_TARGET";t.ADD_TARGET=s;var u="dnd-core/REMOVE_SOURCE";t.REMOVE_SOURCE=u;var l="dnd-core/REMOVE_TARGET";t.REMOVE_TARGET=l},function(e,t,r){"use strict";function n(e,t){switch(void 0===e&&(e=0),t.type){case o.ADD_SOURCE:case o.ADD_TARGET:return e+1;case o.REMOVE_SOURCE:case o.REMOVE_TARGET:return e-1;default:return e}}t.__esModule=!0,t["default"]=n;var o=r(96);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){switch(void 0===e&&(e=d),t.type){case c.HOVER:break;case f.ADD_SOURCE:case f.ADD_TARGET:case f.REMOVE_TARGET:case f.REMOVE_SOURCE:return d;case c.BEGIN_DRAG:case c.PUBLISH_DRAG_SOURCE:case c.END_DRAG:case c.DROP:default:return p}var n=t.targetIds,o=r.targetIds,i=s["default"](n,o),a=!1;if(0===i.length){for(var u=0;u<n.length;u++)if(n[u]!==o[u]){a=!0;break}}else a=!0;if(!a)return d;var l=o[o.length-1],h=n[n.length-1];return l!==h&&(l&&i.push(l),h&&i.push(h)),i}function i(e,t){return e===d?!1:e===p||"undefined"==typeof t?!0:l["default"](t,e).length>0}t.__esModule=!0,t["default"]=o,t.areDirty=i;var a=r(99),s=n(a),u=r(100),l=n(u),c=r(92),f=r(96),d=[],p=[]},function(e,t,r){function n(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(s(r))var n=n?o(i(n,r),i(r,n)):r}return n?a(n):[]}var o=r(64),i=r(73),a=r(65),s=r(42);e.exports=n},function(e,t,r){var n=r(66),o=r(68),i=r(69),a=r(42),s=r(57),u=s(function(e){for(var t=e.length,r=t,s=Array(h),u=n,l=!0,c=[];r--;){var f=e[r]=a(f=e[r])?f:[];s[r]=l&&f.length>=120?i(r&&f):null}var d=e[0],p=-1,h=d?d.length:0,g=s[0];e:for(;++p<h;)if(f=d[p],(g?o(g,f):u(c,f,0))<0){for(var r=t;--r;){var m=s[r];if((m?o(m,f):u(e[r],f,0))<0)continue e}g&&g.push(f),c.push(f)}return c});e.exports=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(94),a=n(i),s=r(93),u=n(s),l=r(48),c=n(l),f=r(102),d=n(f),p=r(91),h=r(98),g=function(){function e(t){o(this,e),this.store=t,this.registry=new d["default"](t)}return e.prototype.subscribeToStateChange=function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.handlerIds;a["default"]("function"==typeof e,"listener must be a function."),a["default"]("undefined"==typeof n||c["default"](n),"handlerIds, when specified, must be an array of strings.");var o=function(){h.areDirty(t.store.getState().dirtyHandlerIds,n)&&e()};return this.store.subscribe(o)},e.prototype.subscribeToOffsetChange=function(e){var t=this;a["default"]("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset,n=function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())};return this.store.subscribe(n)},e.prototype.canDragSource=function(e){var t=this.registry.getSource(e);return a["default"](t,"Expected to find a valid source."),this.isDragging()?!1:t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){var t=this.registry.getTarget(e);if(a["default"](t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(e),n=this.getItemType();return u["default"](r,n)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){var t=this.registry.getSource(e,!0);if(a["default"](t,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var r=this.registry.getSourceType(e),n=this.getItemType();return r!==n?!1:t.isDragging(this,e)},e.prototype.isOverTarget=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.shallow,n=void 0===r?!1:r;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(!u["default"](o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var s=a.indexOf(e);return n?s===a.length-1:s>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return p.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return p.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e&&e.constructor===Symbol?"symbol":typeof e}function a(e){d["default"]("function"==typeof e.canDrag,"Expected canDrag to be a function."),d["default"]("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),d["default"]("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function s(e){d["default"]("function"==typeof e.canDrop,"Expected canDrop to be a function."),d["default"]("function"==typeof e.hover,"Expected hover to be a function."),d["default"]("function"==typeof e.drop,"Expected beginDrag to be a function.")}function u(e,t){return t&&h["default"](e)?void e.forEach(function(e){return u(e,!1)}):void d["default"]("string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":i(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function l(e){var t=m["default"]().toString();switch(e){case v.SOURCE:return"S"+t;case v.TARGET:return"T"+t;default:d["default"](!1,"Unknown role: "+e)}}function c(e){switch(e[0]){case"S":return v.SOURCE;case"T":return v.TARGET;default:d["default"](!1,"Cannot parse handler ID: "+e)}}t.__esModule=!0;var f=r(94),d=n(f),p=r(48),h=n(p),g=r(103),m=n(g),y=r(96),v={SOURCE:"SOURCE",TARGET:"TARGET"},b=function(){function e(t){o(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){u(e),a(t);var r=this.addHandler(v.SOURCE,e,t);return this.store.dispatch(y.addSource(r)),r},e.prototype.addTarget=function(e,t){u(e,!0),s(t);var r=this.addHandler(v.TARGET,e,t);return this.store.dispatch(y.addTarget(r)),r},e.prototype.addHandler=function(e,t,r){var n=l(e);return this.types[n]=t,this.handlers[n]=r,n},e.prototype.containsHandler=function(e){var t=this;return Object.keys(this.handlers).some(function(r){return t.handlers[r]===e})},e.prototype.getSource=function(e,t){d["default"](this.isSourceId(e),"Expected a valid source ID.");var r=t&&e===this.pinnedSourceId,n=r?this.pinnedSource:this.handlers[e];return n},e.prototype.getTarget=function(e){return d["default"](this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]},e.prototype.getSourceType=function(e){return d["default"](this.isSourceId(e),"Expected a valid source ID."),this.types[e]},e.prototype.getTargetType=function(e){return d["default"](this.isTargetId(e),"Expected a valid target ID."),this.types[e]},e.prototype.isSourceId=function(e){var t=c(e);return t===v.SOURCE},e.prototype.isTargetId=function(e){var t=c(e);return t===v.TARGET},e.prototype.removeSource=function(e){d["default"](this.getSource(e),"Expected an existing source."),this.store.dispatch(y.removeSource(e)),delete this.handlers[e],delete this.types[e]},e.prototype.removeTarget=function(e){d["default"](this.getTarget(e),"Expected an existing target."),this.store.dispatch(y.removeTarget(e)),delete this.handlers[e],delete this.types[e]},e.prototype.pinSource=function(e){var t=this.getSource(e);d["default"](t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){d["default"](this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e}();t["default"]=b,e.exports=t["default"]},function(e,t){"use strict";function r(){return n++}t.__esModule=!0,t["default"]=r;var n=0;e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(){r(this,e)}return e.prototype.canDrag=function(){return!0},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(){r(this,e)}return e.prototype.canDrop=function(){return!0},e.prototype.hover=function(){},e.prototype.drop=function(){},e}();t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new u(e)}t.__esModule=!0,t["default"]=i;var a=r(107),s=n(a),u=function(){function e(t){o(this,e),this.actions=t.getActions()}return e.prototype.setup=function(){this.didCallSetup=!0},e.prototype.teardown=function(){this.didCallTeardown=!0},e.prototype.connectDragSource=function(){return s["default"]},e.prototype.connectDragPreview=function(){return s["default"]},e.prototype.connectDropTarget=function(){return s["default"]},e.prototype.simulateBeginDrag=function(e,t){this.actions.beginDrag(e,t)},e.prototype.simulatePublishDragSource=function(){this.actions.publishDragSource()},e.prototype.simulateHover=function(e,t){this.actions.hover(e,t)},e.prototype.simulateDrop=function(){this.actions.drop()},e.prototype.simulateEndDrag=function(){this.actions.endDrag()},e}();e.exports=t["default"]},function(e,t){function r(){}e.exports=r},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(15))},function(e,t,r){(function(r){"use strict";function n(e,t){if("production"!==r.env.NODE_ENV){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;n>i;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var s=o[a];if(s&&s.prototype&&s.prototype.render)return void console.error("You seem to be applying the arguments in the wrong order. "+("It should be "+e+"("+t+")(Component), not the other way around. ")+"Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order")}}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return _["default"].apply(void 0,["DragLayer","collect[, options]"].concat(u.call(arguments))),b["default"]("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html",e),b["default"](y["default"](t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html',t),function(r){var n=t.arePropsEqual,a=void 0===n?g["default"]:n,u=r.displayName||r.name||"Component";return function(t){function n(e,r){o(this,n),t.call(this,e),this.handleChange=this.handleChange.bind(this),this.manager=r.dragDropManager,b["default"]("object"==typeof this.manager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",u,u),this.state=this.getCurrentState()}return i(n,t),n.prototype.getDecoratedComponentInstance=function(){return this.refs.child},n.prototype.shouldComponentUpdate=function(e,t){return!a(e,this.props)||!p["default"](t,this.state)},l(n,null,[{key:"DecoratedComponent",value:r,enumerable:!0},{key:"displayName",value:"DragLayer("+u+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),n.prototype.componentDidMount=function(){var e=this.manager.getMonitor();this.unsubscribe=e.subscribeToOffsetChange(this.handleChange)},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.handleChange=function(){var e=this.getCurrentState();p["default"](e,this.state)||this.setState(e)},n.prototype.getCurrentState=function(){var t=this.manager.getMonitor();return e(t)},n.prototype.render=function(){return f["default"].createElement(r,s({},this.props,this.state,{ref:"child"}))},n}(c.Component)}}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=Array.prototype.slice,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=a;var c=r(5),f=n(c),d=r(111),p=n(d),h=r(112),g=n(h),m=r(113),y=n(m),v=r(108),b=n(v),w=r(109),_=n(w);e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;var a=e[r[i]],s=t[r[i]];if(a!==s)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i]))return!1;var a=e[r[i]],s=t[r[i]];if(a!==s||"object"==typeof a||"object"==typeof s)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){function n(e){var t;if(!a(e)||c.call(e)!=s||i(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return o(e,function(e,t){r=t}),void 0===r||l.call(e,r)}var o=r(114),i=r(47),a=r(41),s="[object Object]",u=Object.prototype,l=u.hasOwnProperty,c=u.toString;e.exports=n},function(e,t,r){function n(e,t){return o(e,t,i)}var o=r(115),i=r(50);e.exports=n},function(e,t,r){var n=r(116),o=n();e.exports=o},function(e,t,r){function n(e){return function(t,r,n){for(var i=o(t),a=n(t),s=a.length,u=e?s:-1;e?u--:++u<s;){var l=a[u];if(r(i[l],l,i)===!1)break}return t}}var o=r(117);e.exports=n},function(e,t,r){function n(e){return o(e)?e:Object(e)}var o=r(40);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];f["default"].apply(void 0,["DragSource","type, spec, collect[, options]"].concat(i.call(arguments)));var o=e;"function"!=typeof e&&(s["default"](D["default"](e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',e),o=function(){return e}),s["default"](l["default"](t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',t);var a=y["default"](t);return s["default"]("function"==typeof r,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',r),s["default"](l["default"](n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',r),function(e){return p["default"]({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:a,registerHandler:g["default"],createMonitor:b["default"],createConnector:_["default"],DecoratedComponent:e,getType:o,collect:r,options:n})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=o;var a=r(108),s=n(a),u=r(113),l=n(u),c=r(109),f=n(c),d=r(119),p=n(d),h=r(128),g=n(h),m=r(129),y=n(m),v=r(130),b=n(v),w=r(131),_=n(w),x=r(132),D=n(x);e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=e.DecoratedComponent,r=e.createHandler,o=e.createMonitor,s=e.createConnector,p=e.registerHandler,g=e.containerDisplayName,y=e.getType,b=e.collect,_=e.options,D=_.arePropsEqual,T=void 0===D?m["default"]:D,O=t.displayName||t.name||"Component";return function(e){function m(t,n){i(this,m),e.call(this,t,n),this.handleChange=this.handleChange.bind(this),this.handleChildRef=this.handleChildRef.bind(this),w["default"]("object"==typeof this.context.dragDropManager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",O,O),this.manager=this.context.dragDropManager,this.handlerMonitor=o(this.manager),this.handler=r(this.handlerMonitor),this.disposable=new d.SerialDisposable,this.receiveProps(t),this.state=this.getCurrentState()}return a(m,e),m.prototype.getHandlerId=function(){return this.handlerId},m.prototype.getDecoratedComponentInstance=function(){return this.decoratedComponentInstance},m.prototype.shouldComponentUpdate=function(e,t){return!T(e,this.props)||!h["default"](t,this.state)},l(m,null,[{key:"DecoratedComponent",value:t,enumerable:!0},{key:"displayName",value:g+"("+O+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),m.prototype.componentWillReceiveProps=function(e){T(e,this.props)||(this.receiveProps(e),this.handleChange())},m.prototype.componentWillUnmount=function(){this.disposable.dispose()},m.prototype.receiveProps=function(e){this.handler.receiveProps(e),this.receiveType(y(e))},m.prototype.receiveType=function(e){if(e!==this.currentType){this.currentType=e;var t=p(e,this.handler,this.manager),r=t.handlerId,n=t.unregister,o=s(this.manager.getBackend()),i=x["default"](o,r),a=i.handlerConnector,u=i.disposable;this.handlerId=r,this.handlerConnector=a,this.handlerMonitor.receiveHandlerId(r);var l=this.manager.getMonitor(),c=l.subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new d.CompositeDisposable(new d.Disposable(c),new d.Disposable(n),u))}},m.prototype.handleChange=function(){var e=this.getCurrentState();h["default"](e,this.state)||this.setState(e)},m.prototype.handleChildRef=function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)},m.prototype.getCurrentState=function(){var e=b(this.handlerConnector,this.handlerMonitor);return"production"!==n.env.NODE_ENV&&w["default"](v["default"](e),"Expected `collect` specified as the second argument to %s for %s to return a plain object of props to inject. Instead, received %s.",g,O,e),e},m.prototype.render=function(){return f["default"].createElement(t,u({},this.props,this.state,{ref:this.handleChildRef}))},m}(c.Component)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=s;var c=r(5),f=o(c),d=r(120),p=r(111),h=o(p),g=r(112),m=o(g),y=r(113),v=o(y),b=r(108),w=o(b),_=r(125),x=o(_);e.exports=t["default"]}).call(t,r(15))},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var o=r(121),i=n(o);t.isDisposable=i["default"];var a=r(122),s=n(a);t.Disposable=s["default"];var u=r(123),l=n(u);t.CompositeDisposable=l["default"];var c=r(124),f=n(c);t.SerialDisposable=f["default"]},function(e,t){"use strict";function r(e){return Boolean(e&&"function"==typeof e.dispose)}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";var r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.__esModule=!0;var o=function(){},i=function(){function e(t){r(this,e),this.isDisposed=!1,this.action=t||o}return e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},n(e,null,[{key:"empty",enumerable:!0,value:{dispose:o}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=r(121),a=n(i),s=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];o(this,e),Array.isArray(r[0])&&1===r.length&&(r=r[0]);for(var i=0;i<r.length;i++)if(!a["default"](r[i]))throw new Error("Expected a disposable");this.disposables=r,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1===t?!1:(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),r=0;e>r;r++)t[r]=this.disposables[r];this.isDisposed=!0,this.disposables=[],this.length=0;for(var r=0;e>r;r++)t[r].dispose()}},e}();t["default"]=s,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=r(121),a=n(i),s=function(){function e(){o(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=void 0===arguments[0]?null:arguments[0];if(null!=e&&!a["default"](e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,r=void 0;t||(r=this.current,this.current=e),r&&r.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t["default"]=s,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=new s.CompositeDisposable,n={};return Object.keys(e).forEach(function(o){var i=a["default"](t,e[o]),s=i.disposable,u=i.ref;r.add(s),n[o]=function(){return u}}),{disposable:r,handlerConnector:n}}t.__esModule=!0,t["default"]=o;var i=r(126),a=n(i),s=r(120);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return e===t?!0:null!==e&&null!==t&&s["default"](e,t)}function i(e,t){function r(){var s=arguments.length<=0||void 0===arguments[0]?null:arguments[0],u=arguments.length<=1||void 0===arguments[1]?null:arguments[1];if(f.isValidElement(s)){if("string"!=typeof s.type){var d=s.type.displayName||s.type.name||"the component";throw new Error("Only native element nodes can now be passed to "+t.name+"(). "+("You can either wrap "+d+" into a <div>, or turn it into a ")+"drag source or a drop target itself.")}var p=s;return l["default"](p,function(e){return r(e,u)})}var h=s;if(h!==i||!o(a,u)){if(i=h,a=u,!h)return void n.setDisposable(null);var g=t(e,h,u);n.setDisposable(new c.Disposable(g))}}var n=new c.SerialDisposable,i=null,a=null;return{ref:r,disposable:n}}t.__esModule=!0,t["default"]=i;var a=r(111),s=n(a),u=r(127),l=n(u),c=r(120),f=r(5);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=e.ref;return a["default"]("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),s.cloneElement(e,{ref:function(e){t(e),r&&r(e)}})}t.__esModule=!0,t["default"]=o;var i=r(108),a=n(i),s=r(5);e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r){function n(){o.removeSource(i)}var o=r.getRegistry(),i=o.addSource(e,t);return{handlerId:i,unregister:n}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){u["default"](f.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',f.join(", "),t),u["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),d.forEach(function(t){u["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrag=function(){return e.canDrag?e.canDrag(this.props,this.monitor):!0},t.prototype.isDragging=function(t,r){return e.isDragging?e.isDragging(this.props,this.monitor):r===t.getSourceId()},t.prototype.beginDrag=function(){var t=e.beginDrag(this.props,this.monitor,this.component);return"production"!==n.env.NODE_ENV&&u["default"](c["default"](t),"beginDrag() must return a plain object that represents the dragged item. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t),t},t.prototype.endDrag=function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component);
},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=a;var s=r(108),u=o(s),l=r(113),c=o(l),f=["canDrag","beginDrag","canDrag","isDragging","endDrag"],d=["beginDrag"];e.exports=t["default"]}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new c(e)}t.__esModule=!0,t["default"]=i;var a=r(108),s=n(a),u=!1,l=!1,c=function(){function e(t){o(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.canDrag=function(){s["default"](!u,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");try{return u=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{u=!1}},e.prototype.isDragging=function(){s["default"](!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t){"use strict";function r(e){return{dragSource:function(){return e.connectDragSource.apply(e,arguments)},dragPreview:function(){return e.connectDragPreview.apply(e,arguments)}}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return"string"==typeof e||"symbol"==typeof e||t&&a["default"](e)&&e.every(function(e){return o(e,!1)})}t.__esModule=!0,t["default"]=o;var i=r(48),a=n(i);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];f["default"].apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(i.call(arguments)));var o=e;"function"!=typeof e&&(s["default"](D["default"](e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',e),o=function(){return e}),s["default"](l["default"](t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',t);var a=y["default"](t);return s["default"]("function"==typeof r,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',r),s["default"](l["default"](n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',r),function(e){return p["default"]({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:a,registerHandler:g["default"],createMonitor:b["default"],createConnector:_["default"],DecoratedComponent:e,getType:o,collect:r,options:n})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=o;var a=r(108),s=n(a),u=r(113),l=n(u),c=r(109),f=n(c),d=r(119),p=n(d),h=r(134),g=n(h),m=r(135),y=n(m),v=r(136),b=n(v),w=r(137),_=n(w),x=r(132),D=n(x);e.exports=t["default"]},function(e,t){"use strict";function r(e,t,r){function n(){o.removeTarget(i)}var o=r.getRegistry(),i=o.addTarget(e,t);return{handlerId:i,unregister:n}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){u["default"](f.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',f.join(", "),t),u["default"]("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveMonitor=function(e){this.monitor=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrop=function(){return e.canDrop?e.canDrop(this.props,this.monitor):!0},t.prototype.hover=function(){e.hover&&e.hover(this.props,this.monitor,this.component)},t.prototype.drop=function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return"production"!==n.env.NODE_ENV&&u["default"]("undefined"==typeof t||c["default"](t),"drop() must either return undefined, or an object that represents the drop result. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t),t}},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=a;var s=r(108),u=o(s),l=r(113),c=o(l),f=["canDrop","hover","drop"];e.exports=t["default"]}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new l(e)}t.__esModule=!0,t["default"]=i;var a=r(108),s=n(a),u=!1,l=function(){function e(t){o(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.canDrop=function(){s["default"](!u,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drop-target-monitor.html");try{return u=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{u=!1}},e.prototype.isOver=function(e){return this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t){"use strict";function r(e){return{dropTarget:function(){return e.connectDropTarget.apply(e,arguments)}}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return null==t?null:e[t.id]||e[t.datasource_id]}function a(e,t){var r=i(e,t);return null==r?null:null!=r.tables?g["default"].find(r.tables,function(e){return e.name===t.name}):r}function s(e,t,r){if(null==r)return null;var n=a(e,t);return null==n?null:n.schema[r]}function u(e){return{type:T,tableId:e}}function l(e){return{type:x,tableId:e}}function c(e,t){return{type:D,tableId:e,data:t}}function f(e){return function(t,r){var n=a(r().datasources.BY_ID,e);return t(l(e)),(0,b["default"])(n.url).then(function(e){switch(n.settings.format){case"csv":return e.text();default:return e.json()}}).then(function(r){r=_["default"].read(r,{type:n.settings.format,parse:"auto"}),t(c(e,r))})}}function d(e){return function(t,r){var n=a(r().datasources.BY_ID,e);return null==n.url||n.isLoading||null!=n.schema?void 0:t(f(e))}}function p(e,t){void 0===e&&(e=O);var r=void 0,n=void 0;switch(t.type){case x:return r=a(e.BY_ID,t.tableId),(0,y["default"])({BY_ID:o({},r.id,{isLoading:!0})},e);case D:return r=a(e.BY_ID,t.tableId),n=(0,g["default"])(t.data.__types__).map(function(e,t){return{name:t,type:e}}).each(function(e,t){return e.__id__=t}).value(),(0,y["default"])({BY_ID:o({},r.id,{isLoading:!1,data:function(){return t.data},schema:function(){return n}})},e);case T:return(0,y["default"])({selectedTable:function(){return t.tableId}},e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDatasource=i,t.getTable=a,t.getField=s,t.selectTable=u,t.requestTableData=l,t.receiveTableData=c,t.connectTable=f,t.connectTableIfNecessary=d,t["default"]=p;var h=r(9),g=n(h),m=r(139),y=n(m),v=r(195),b=n(v),w=r(8),_=n(w),x="explorer/datasources/REQUEST_TABLE_DATA";t.REQUEST_TABLE_DATA=x;var D="explorer/datasources/RECEIVE_TABLE_DATA";t.RECEIVE_TABLE_DATA=D;var T="explorer/datasources/SELECT_TABLE";t.SELECT_TABLE=T;var O={IDS:[],BY_ID:{}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(140),i=n(o),a=r(141),s=n(a),u=r(142),l=n(u),c=r(173),f=n(c),d=r(174),p=n(d),h=r(179),g=n(h),m=r(188),y=n(m),v=r(192),b=n(v),w=r(175),_=n(w),x=r(193),D=n(x),T=r(194),O=n(T),k=r(172),C=_["default"];C._=k._,C.constant=i["default"],C["if"]=f["default"],C.ifElse=p["default"],C.is=l["default"],C.freeze=s["default"],C.map=g["default"],C.omit=y["default"],C.reject=b["default"],C.update=_["default"],C.updateIn=D["default"],C.withDefault=O["default"],t["default"]=C,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"](e);return function(){return t}}t.__esModule=!0;var i=r(141),a=n(i);t["default"]=o,e.exports=t["default"]},function(e,t,r){(function(r){"use strict";function n(e){return null===e?!1:Array.isArray(e)||"object"==typeof e}function o(e){return n(e)&&!Object.isFrozen(e)}function i(e){return Object.freeze(e),Object.keys(e).forEach(function(t){var r=e[t];o(r)&&i(r)}),e}function a(e){return"production"===r.env.NODE_ENV?e:(o(e)&&i(e),e)}t.__esModule=!0,t["default"]=a,e.exports=t["default"]}).call(t,r(15))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){for(var n=a["default"](e),o=r,i=void 0,s=n,u=Array.isArray(s),l=0,s=u?s:s[Symbol.iterator]();;){if(u){if(l>=s.length)break;i=s[l++]}else{if(l=s.next(),l.done)break;i=l.value}if("undefined"==typeof o)return!1;o=o[i]}return"function"==typeof t?t(o):t===o}t.__esModule=!0;var i=r(143),a=n(i),s=r(172),u=n(s);t["default"]=u["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Array.isArray(e)?e:a["default"](e.split("."),function(e){return!e})}t.__esModule=!0,t["default"]=o;var i=r(144),a=n(i);e.exports=t["default"]},function(e,t,r){function n(e,t,r){var n=s(e)?o:a;return t=i(t,r,3),n(e,function(e,r,n){return!t(e,r,n)})}var o=r(145),i=r(146),a=r(168),s=r(48);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length,o=-1,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[++o]=a)}return i}e.exports=r},function(e,t,r){function n(e,t,r){var n=typeof e;return"function"==n?void 0===t?e:a(e,t,r):null==e?s:"object"==n?o(e):void 0===t?u(e):i(e,t)}var o=r(147),i=r(159),a=r(54),s=r(55),u=r(166);e.exports=n},function(e,t,r){function n(e){var t=i(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(void 0!==n||r in a(e))}}return function(e){return o(e,t)}}var o=r(148),i=r(156),a=r(117);e.exports=n},function(e,t,r){function n(e,t,r){var n=t.length,a=n,s=!r;if(null==e)return!a;for(e=i(e);n--;){var u=t[n];if(s&&u[2]?u[1]!==e[u[0]]:!(u[0]in e))return!1}for(;++n<a;){u=t[n];var l=u[0],c=e[l],f=u[1];if(s&&u[2]){if(void 0===c&&!(l in e))return!1}else{var d=r?r(c,f,l):void 0;if(!(void 0===d?o(f,c,r,!0):d))return!1}}return!0}var o=r(149),i=r(117);e.exports=n},function(e,t,r){function n(e,t,r,s,u,l){return e===t?!0:null==e||null==t||!i(e)&&!a(t)?e!==e&&t!==t:o(e,t,n,r,s,u,l)}var o=r(150),i=r(40),a=r(41);e.exports=n},function(e,t,r){function n(e,t,r,n,d,g,m){var y=s(e),v=s(t),b=c,w=c;y||(b=h.call(e),b==l?b=f:b!=f&&(y=u(e))),v||(w=h.call(t),w==l?w=f:w!=f&&(v=u(t)));var _=b==f,x=w==f,D=b==w;if(D&&!y&&!_)return i(e,t,b);if(!d){var T=_&&p.call(e,"__wrapped__"),O=x&&p.call(t,"__wrapped__");if(T||O)return r(T?e.value():e,O?t.value():t,n,d,g,m)}if(!D)return!1;g||(g=[]),m||(m=[]);for(var k=g.length;k--;)if(g[k]==e)return m[k]==t;g.push(e),m.push(t);var C=(y?o:a)(e,t,r,n,d,g,m);return g.pop(),m.pop(),C}var o=r(151),i=r(153),a=r(154),s=r(48),u=r(155),l="[object Arguments]",c="[object Array]",f="[object Object]",d=Object.prototype,p=d.hasOwnProperty,h=d.toString;e.exports=n},function(e,t,r){function n(e,t,r,n,i,a,s){var u=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++u<l;){var f=e[u],d=t[u],p=n?n(i?d:f,i?f:d,u):void 0;if(void 0!==p){if(p)continue;return!1}if(i){if(!o(t,function(e){return f===e||r(f,e,n,i,a,s)}))return!1}else if(f!==d&&!r(f,d,n,i,a,s))return!1}return!0}var o=r(152);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},function(e,t){function r(e,t,r){switch(r){case n:case o:return+e==+t;case i:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case s:case u:return e==t+""}return!1}var n="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",s="[object RegExp]",u="[object String]";e.exports=r},function(e,t,r){function n(e,t,r,n,i,s,u){var l=o(e),c=l.length,f=o(t),d=f.length;if(c!=d&&!i)return!1;for(var p=c;p--;){var h=l[p];if(!(i?h in t:a.call(t,h)))return!1}for(var g=i;++p<c;){h=l[p];var m=e[h],y=t[h],v=n?n(i?y:m,i?m:y,h):void 0;if(!(void 0===v?r(m,y,n,i,s,u):v))return!1;g||(g="constructor"==h)}if(!g){var b=e.constructor,w=t.constructor;if(b!=w&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof w&&w instanceof w))return!1}return!0}var o=r(36),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e.length)&&!!S[M.call(e)]}var o=r(45),i=r(41),a="[object Arguments]",s="[object Array]",u="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",d="[object Map]",p="[object Number]",h="[object Object]",g="[object RegExp]",m="[object Set]",y="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",w="[object Float32Array]",_="[object Float64Array]",x="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",k="[object Uint8ClampedArray]",C="[object Uint16Array]",E="[object Uint32Array]",S={};S[w]=S[_]=S[x]=S[D]=S[T]=S[O]=S[k]=S[C]=S[E]=!0,S[a]=S[s]=S[b]=S[u]=S[l]=S[c]=S[f]=S[d]=S[p]=S[h]=S[g]=S[m]=S[y]=S[v]=!1;var R=Object.prototype,M=R.toString;e.exports=n},function(e,t,r){function n(e){for(var t=i(e),r=t.length;r--;)t[r][2]=o(t[r][1]);return t}var o=r(157),i=r(158);e.exports=n},function(e,t,r){function n(e){return e===e&&!o(e)}var o=r(40);e.exports=n},function(e,t,r){function n(e){e=i(e);for(var t=-1,r=o(e),n=r.length,a=Array(n);++t<n;){var s=r[t];a[t]=[s,e[s]]}return a}var o=r(36),i=r(117);e.exports=n},function(e,t,r){function n(e,t){var r=s(e),n=u(e)&&l(t),p=e+"";return e=d(e),function(s){if(null==s)return!1;var u=p;if(s=f(s),(r||!n)&&!(u in s)){if(s=1==e.length?s:o(s,a(e,0,-1)),null==s)return!1;u=c(e),s=f(s)}return s[u]===t?void 0!==t||u in s:i(t,s[u],void 0,!0)}}var o=r(160),i=r(149),a=r(161),s=r(48),u=r(162),l=r(157),c=r(163),f=r(117),d=r(164);e.exports=n},function(e,t,r){function n(e,t,r){if(null!=e){void 0!==r&&r in o(e)&&(t=[r]);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:void 0}}var o=r(117);e.exports=n},function(e,t){function r(e,t,r){var n=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),r=void 0===r||r>o?o:+r||0,0>r&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}e.exports=r},function(e,t,r){function n(e,t){var r=typeof e;if("string"==r&&s.test(e)||"number"==r)return!0;if(o(e))return!1;var n=!a.test(e);return n||null!=t&&e in i(t)}var o=r(48),i=r(117),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=n},function(e,t){function r(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=r},function(e,t,r){function n(e){if(i(e))return e;var t=[];return o(e).replace(a,function(e,r,n,o){t.push(n?o.replace(s,"$1"):r||e)}),t}var o=r(165),i=r(48),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,s=/\\(\\)?/g;e.exports=n},function(e,t){function r(e){return null==e?"":e+""}e.exports=r},function(e,t,r){function n(e){return a(e)?o(e):i(e)}var o=r(44),i=r(167),a=r(162);e.exports=n},function(e,t,r){function n(e){var t=e+"";return e=i(e),function(r){return o(r,e,t)}}var o=r(160),i=r(164);e.exports=n},function(e,t,r){function n(e,t){var r=[];return o(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}var o=r(169);e.exports=n},function(e,t,r){var n=r(170),o=r(171),i=o(n);e.exports=i},function(e,t,r){function n(e,t){return o(e,t,i)}var o=r(115),i=r(36);e.exports=n},function(e,t,r){function n(e,t){return function(r,n){var s=r?o(r):0;if(!i(s))return e(r,n);for(var u=t?s:-1,l=a(r);(t?u--:++u<s)&&n(l[u],u,l)!==!1;);return r}}var o=r(43),i=r(45),a=r(117);e.exports=n},function(e,t){"use strict";function r(e,t){var r=e.length;for(r>t&&(r=t);e[r-1]===u;)r--;return r}function n(e){return function t(n){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;o>a;a++)i[a-1]=arguments[a];var s=i[0],u=i[1],l=r(arguments);return l>=1?e(n,s,u):t}}function o(e){return function t(o,i){for(var a=arguments.length,s=Array(a>2?a-2:0),l=2;a>l;l++)s[l-2]=arguments[l];var c=s[0],f=s[1],d=r(arguments,2);if(i===u||c===u||f===u)throw new Error("Can only use placeholder on first argument of this function.");return d>=2?o===u?n(function(t,r,n){return e(t,i,r,n)}):e(o,i,c,f):1===d?n(function(t,r,n){return e(o,t,r,n)}):t}}function i(e){return function t(i,a,s){for(var l=arguments.length,c=Array(l>3?l-3:0),f=3;l>f;f++)c[f-3]=arguments[f];var d=c[0],p=c[1],h=r(arguments,3);if(s===u||d===u||p===u)throw new Error("Can only use placeholder on first or second argument of this function.");return h>=3?i===u?a===u?o(function(t,r,n,o){return e(t,r,s,n,o)}):n(function(t,r,n){return e(t,a,s,r,n)}):a===u?n(function(t,r,n){return e(i,t,s,r,n)}):e(i,a,s,d,p):2===h?i===u?o(function(t,r,n,o){return e(t,a,r,n,o)}):n(function(t,r,n){return e(i,a,t,r,n)}):1===h?o(function(t,r,n,o){return e(i,t,r,n,o)}):t}}function a(e){return function t(a,s,l,c){for(var f=arguments.length,d=Array(f>4?f-4:0),p=4;f>p;p++)d[p-4]=arguments[p];var h=d[0],g=d[1],m=r(arguments,4);if(c===u||h===u||g===u)throw new Error("Can only use placeholder on first, second or third argument of this function.");return m>=4?a===u?s===u?l===u?i(function(t,r,n,o,i){return e(t,r,n,c,o,i)}):o(function(t,r,n,o){return e(t,r,l,c,n,o)}):l===u?o(function(t,r,n,o){return e(t,s,r,c,n,o)}):n(function(t,r,n){return e(t,s,l,c,r,n)}):s===u?l===u?o(function(t,r,n,o){return e(a,t,r,c,n,o)}):n(function(t,r,n){return e(a,t,l,c,r,n)}):l===u?n(function(t,r,n){return e(a,s,t,c,r,n)}):e(a,s,l,c,h,g):3===m?a===u?s===u?i(function(t,r,n,o,i){return e(t,r,l,n,o,i)}):o(function(t,r,n,o){return e(t,s,l,r,n,o)}):s===u?o(function(t,r,n,o){return e(a,t,l,r,n,o)}):n(function(t,r,n){return e(a,s,l,t,r,n)}):2===m?a===u?i(function(t,r,n,o,i){return e(t,s,r,n,o,i)}):o(function(t,r,n,o){return e(a,s,t,r,n,o)}):1===m?i(function(t,r,n,o,i){return e(a,t,r,n,o,i)}):t}}function s(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return[e,n,o,i,a][t](e)}()}t.__esModule=!0,t.curry1=n,t.curry2=o,t.curry3=i,t.curry4=a,t["default"]=s;var u="@@updeep/placeholder";t._=u},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(174),i=n(o),a=r(172),s=n(a);t["default"]=s["default"](function(e,t,r){return i["default"](e,t,function(e){return e},r)}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,n){var o="function"==typeof e?e(n):e,i=o?t:r;return a["default"](i,n)}t.__esModule=!0;var i=r(175),a=n(i),s=r(176),u=n(s);t["default"]=u["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return Object.keys(e).reduce(function(r,n){return t(r,e[n],n)},r)}function i(e,t){return o(e,function(e,r,n){var o=r;return Array.isArray(r)||null===r||"object"!=typeof r?"function"==typeof r&&(o=r(t[n])):o=s(r,t[n]),t[n]!==o&&(e[n]=o),e},{})}function a(e,t){var r=[].concat(t);return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function s(e,t){if("function"==typeof e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return e.apply(void 0,[t].concat(n))}if(!m["default"](e))return e;var s=h["default"](t,e),l=i(e,s);return d["default"](l)?s:Array.isArray(s)?a(l,s):u({},s,l)}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(176),c=n(l),f=r(177),d=n(f),p=r(178),h=n(p),g=r(113),m=n(g);t["default"]=c["default"](s,2),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return a["default"](function(){return u["default"](e.apply(void 0,arguments))},t)}()}t.__esModule=!0,t["default"]=o;var i=r(172),a=n(i),s=r(141),u=n(s);e.exports=t["default"]},function(e,t){"use strict";function r(e){return!Object.keys(e).length}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t}function i(e){for(var t=Object.keys(e),r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var a=i;if(!o(a))return!1}return!0}function a(e){return!l["default"](e)&&i(e)?[]:{}}function s(e,t){return"undefined"==typeof e||null===e?a(t):e}t.__esModule=!0;var u=r(177),l=n(u);t["default"]=s,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=!0;return f["default"](t,function(t,n){return t!==e[n]?(r=!1,!1):void 0}),r}function i(e,t){var r="function"==typeof e?e:s["default"](e),n=Array.isArray(t)?p["default"]:g["default"],i=n(t,r),a=o(t,i);return a?t:i}t.__esModule=!0;var a=r(175),s=n(a),u=r(176),l=n(u),c=r(180),f=n(c),d=r(183),p=n(d),h=r(186),g=n(h);t["default"]=l["default"](i),e.exports=t["default"]},function(e,t,r){var n=r(181),o=r(169),i=r(182),a=i(n,o);e.exports=a},function(e,t){function r(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}e.exports=r},function(e,t,r){function n(e,t){return function(r,n,a){return"function"==typeof n&&void 0===a&&i(r)?e(r,n):t(r,o(n,a,3))}}var o=r(54),i=r(48);e.exports=n},function(e,t,r){function n(e,t,r){var n=s(e)?o:a;return t=i(t,r,3),n(e,t)}var o=r(184),i=r(146),a=r(185),s=r(48);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t,r){function n(e,t){var r=-1,n=i(e)?Array(e.length):[];return o(e,function(e,o,i){n[++r]=t(e,o,i)}),n}var o=r(169),i=r(42);e.exports=n},function(e,t,r){var n=r(187),o=n();e.exports=o},function(e,t,r){function n(e){return function(t,r,n){var a={};return r=o(r,n,3),i(t,function(t,n,o){var i=r(t,n,o);n=e?i:n,t=e?t:i,a[n]=t}),a}}var o=r(146),i=r(170);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](t,e)}t.__esModule=!0;var i=r(189),a=n(i),s=r(176),u=n(s);t["default"]=u["default"](o),e.exports=t["default"]},function(e,t,r){var n=r(184),o=r(73),i=r(63),a=r(54),s=r(50),u=r(190),l=r(191),c=r(57),f=c(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=n(i(t),String);return u(e,o(s(e),t))}var r=a(t[0],t[1],3);return l(e,function(e,t,n){return!r(e,t,n)})});e.exports=f},function(e,t,r){function n(e,t){e=o(e);for(var r=-1,n=t.length,i={};++r<n;){var a=t[r];a in e&&(i[a]=e[a])}return i}var o=r(117);e.exports=n},function(e,t,r){function n(e,t){var r={};return o(e,function(e,n,o){t(e,n,o)&&(r[n]=e)}),r}var o=r(114);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](t,e)}t.__esModule=!0;var i=r(144),a=n(i),s=r(176),u=n(s);t["default"]=u["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r;return t===h?function(t){var r;return Object.prototype.hasOwnProperty.call(t,h)?l["default"]((r={},r[h]=e,r),t):f["default"](e,t)}:(r={},r[t]=e,r)}function i(e,t,r){var n=p["default"](e),i=n.reduceRight(o,t);return l["default"](i,r)}t.__esModule=!0;var a=r(172),s=n(a),u=r(175),l=n(u),c=r(179),f=n(c),d=r(143),p=n(d),h="*";t["default"]=s["default"](i),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return"undefined"==typeof r?a["default"](t,e):a["default"](t,r)}t.__esModule=!0;var i=r(175),a=n(i),s=r(172),u=n(s);t["default"]=u["default"](o),e.exports=t["default"]},function(e,t,r){r(196),e.exports=self.fetch.bind(self)},function(e,t){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function r(e){this.map={};var t=this;e instanceof r?e.forEach(function(e,r){r.forEach(function(r){t.append(e,r)})}):e&&Object.getOwnPropertyNames(e).forEach(function(r){t.append(r,e[r])})}function n(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function a(e){var t=new FileReader;return t.readAsText(e),o(t)}function s(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(p.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(p.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},p.blob?(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=n(this);return e?e:Promise.resolve(this._bodyText)},p.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function u(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function l(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new r(t.headers),this.method=u(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function c(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function f(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();t.append(n,o)}),t}function d(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(r){e(r,t.map[r])})};var p={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];s.call(l.prototype),s.call(d.prototype),self.Headers=r,self.Request=l,self.Response=d,self.fetch=function(e,t){var r;return r=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t),new Promise(function(e,t){function n(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var o=new XMLHttpRequest;o.onload=function(){var r=1223===o.status?204:o.status;if(100>r||r>599)return void t(new TypeError("Network request failed"));var i={status:r,statusText:o.statusText,headers:f(o),url:n()},a="response"in o?o.response:o.responseText;e(new d(a,i))},o.onerror=function(){t(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&p.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){t.forEach(function(t){o.setRequestHeader(e,t)})}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},self.fetch.polyfill=!0}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return["row","col"].concat(O.TABLE_ENCODINGS[e].properties||[])}function s(e,t,r){return(0,_["default"])(t).mapValues(function(t){return _["default"].map(t,function(t){return(0,_["default"])({}).merge(t,null!=t.fieldId?e(t.fieldId):null).tap(function(e){return _["default"].merge(e,{algebraType:(0,T.getAlgebraType)(e),
accessor:(0,T.getAccessorName)(e)})}).value()})}).pick(a(r)).omit(_["default"].isEmpty).value()}function u(e,t,r){return{type:k,shelf:e,position:t,field:r}}function l(e,t){return{type:C,shelf:e,field:t}}function c(e,t,r,n){return{type:E,shelf:e,position:t,newshelf:r,newposition:n}}function f(e,t,r){return{type:S,shelf:e,position:t,newshelf:r}}function d(e,t,r){return{type:E,shelf:e,position:t,newshelf:e,newposition:r}}function p(e,t){return{type:R,shelf:e,field:t}}function h(e,t){return{type:M,shelf:e,position:t}}function g(e){return{type:A,shelf:e}}function m(){return{type:P}}function y(e,t,r){return{type:N,shelf:e,position:t,typecast:r}}function v(e,t,r){return{type:I,shelf:e,position:t,func:r}}function b(e,t){var r=!0;e:for(;r;){var n=e,a=t;switch(void 0===n&&(n=j),r=!1,a.type){case k:return(0,D["default"])(i({},a.shelf,[].concat(o(n[a.shelf].slice(0,a.position)),[a.field],o(n[a.shelf].slice(a.position)))),n);case C:return(0,D["default"])(i({},a.shelf,[a.field]),n);case E:e=b(n,h(a.shelf,a.position)),t=u(a.newshelf,a.newposition,n[a.shelf][a.position]),r=!0;continue e;case S:e=b(n,h(a.shelf,a.position)),t=l(a.newshelf,n[a.shelf][a.position]),r=!0;continue e;case R:return(0,D["default"])(i({},a.shelf,function(e){return e.concat([a.field])}),n);case M:return(0,D["default"])(i({},a.shelf,D["default"].reject(function(e,t){return t===a.position})),n);case A:return(0,D["default"])(i({},a.shelf,function(){return[]}),n);case P:return j;case N:return(0,D["default"])(i({},a.shelf,i({},a.position,D["default"].omit("func"))),D["default"].updateIn([a.shelf],i({},a.position,null!=a.typecast?{typecast:a.typecast}:D["default"].omit("typecast")),n));case I:return D["default"].updateIn([a.shelf],i({},a.position,null!=a.func?{func:a.func}:D["default"].omit("func")),n);default:return n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFullQueryspec=s,t.insertFieldAtPosition=u,t.replaceFieldOnShelf=l,t.moveFieldTo=c,t.moveAndReplaceField=f,t.updateFieldPosition=d,t.addField=p,t.removeField=h,t.clearFields=g,t.clearQuery=m,t.updateFieldTypecast=y,t.updateFieldFunction=v,t["default"]=b;var w=r(9),_=n(w),x=r(139),D=n(x),T=r(198),O=r(199),k="explorer/queryspec/INSERT_FIELD_AT_POSITION";t.INSERT_FIELD_AT_POSITION=k;var C="explorer/queryspec/REPLACE_FIELD_ON_SHELF";t.REPLACE_FIELD_ON_SHELF=C;var E="explorer/queryspec/MOVE_FIELD_TO";t.MOVE_FIELD_TO=E;var S="explorer/queryspec/MOVE_AND_REPLACE_FIELD";t.MOVE_AND_REPLACE_FIELD=S;var R="explorer/queryspec/ADD_FIELD";t.ADD_FIELD=R;var M="explorer/queryspec/REMOVE_FIELD";t.REMOVE_FIELD=M;var A="explorer/queryspec/CLEAR_FIELDS";t.CLEAR_FIELDS=A;var P="explorer/queryspec/CLEAR_QUERY";t.CLEAR_QUERY=P;var I="explorer/queryspec/UPDATE_FIELD_FUNCTION";t.UPDATE_FIELD_FUNCTION=I;var N="explorer/queryspec/UPDATE_FIELD_TYPECAST";t.UPDATE_FIELD_TYPECAST=N;var j={filter:[],row:[],col:[],size:[],x:[],y:[],x2:[],y2:[],color:[],shape:[],background:[],opacity:[],orientation:[],schema:[],text:[]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return e.func?(w["default"].contains(e.func,"bin")?"bin":e.func)+"_"+e.name:e.op?e.op:e.name}function i(e){var t=null!=e.typecast?e.typecast:e.type;return d(t)}function a(e){switch(i(e)){case"text":return"O";default:return"Q"}}function s(e){return"text"==i(e)||w["default"].contains(e.func,"bin")||w["default"].contains(["year","month","day","date","hour","minute","second"],e.func)?"groupby":"aggregate"==e.type?"operator":e.func&&w["default"].contains(["count","sum","min","max","mean","median"],e.func.toLowerCase())?"aggregate":"value"}function u(e){return w["default"].contains(["operator","aggregate"],s(e))}function l(e){return"groupby"==s(e)}function c(e){return e&&("aggregate"==e.type||e.func&&w["default"].contains(["sum","count"],e.func.toLowerCase()))}function f(e){return e&&e.func&&(w["default"].contains(e.func,"bin")||w["default"].contains(["year","month","day","date","hour","minute","second"],e.func))}function d(e){switch(e){case"date":case"timestamp":return"time";case"string":return"text";case"integer":return"number";default:return e}}function p(e){switch(e){case"bin[ms]":return"Millisecond";case"bin[s]":return"Second";case"bin[m]":return"Minute";case"bin[h]":return"Hour";case"bin[d]":return"Day";case"bin[w]":return"Week";case"bin[M]":return"Month";case"bin[Q]":return"Quarter";case"bin[6M]":return"6 Month";case"bin[Y]":return"Year";case"bin[5Y]":return"5 Year";case"bin[10Y]":return"10 Year";case"text":case"time":case"number":return w["default"].capitalize(e);default:return e&&e.toUpperCase()}}function h(e){switch(e){case"bin[ms]":return"by Millisecond";case"bin[s]":return"by Second";case"bin[m]":return"by Minute";case"bin[h]":return"by Hour";case"bin[d]":return"by Day";case"bin[w]":return"by Week";case"bin[M]":return"by Month";case"bin[Q]":return"by Quarter";case"bin[6M]":return"by 6 Month";case"bin[Y]":return"by Year";case"bin[5Y]":return"by 5 Year";case"bin[10Y]":return"by 10 Year";default:return p(e)}}function g(e){switch(e){case"bin[ms]":case"bin[s]":return"second";case"bin[m]":return"minute";case"bin[h]":return"hour";case"bin[d]":case"bin[w]":return"day";case"bin[M]":case"bin[Q]":case"bin[6M]":return"month";default:return"year"}}function m(e){switch(e){case"bin[ms]":case"bin[s]":case"bin[m]":case"bin[h]":case"bin[d]":return 1;case"bin[w]":return 7;case"bin[M]":return 1;case"bin[Q]":return 3;case"bin[6M]":return 6;case"bin[Y]":return 1;case"bin[5Y]":return 5;case"bin[10Y]":return 10;default:return 1}}function y(e,t){if(!w["default"].contains(t.func,"bin"))return w["default"].contains(["year","month","day","date","hour","minute","second"],t.func)?x["default"]["$"+t.func](t.name):t.name;if("time"==i(t)){var r=function(){var e=x["default"].bins.date({type:"date",maxbins:50,unit:g(t.func)});e.step=m(t.func);var r=x["default"].$func("bin",function(t){return e.value(e.unit.unit(t))})(x["default"].$(t.name));return t.binner=r,t.binSettings=e,{v:r}}();if("object"==typeof r)return r.v}else{var n=function(){var r=x["default"].$(t.name),n=x["default"].extent(e,r),o=v(n,2),i=o[0],a=o[1],s=x["default"].bins({maxbins:50,min:i,max:a,minstep:"integer"==t.type?1:0}),u=x["default"].$func("bin",function(e){return s.value(e)})(r);return t.binSettings=s,t.binner=u,{v:u}}();if("object"==typeof n)return n.v}}Object.defineProperty(t,"__esModule",{value:!0});var v=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.getAccessorName=o,t.getFieldType=i,t.getAlgebraType=a,t.getFieldQueryType=s,t.isAggregateType=u,t.isGroupByField=l,t.isStackableField=c,t.isBinField=f,t.getExternalType=d,t.getFieldFunctionSelectDisplayName=p,t.getFieldFunctionDisplayName=h,t.getBinStepUnit=g,t.getBinStep=m,t.getFieldGroupByName=y;var b=r(9),w=n(b),_=r(8),x=n(_),D=[{id:"agg_count",name:"COUNT",type:"aggregate",op:"count"}];t.AGGREGATES=D},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bar:{name:"Bar",icon:[{className:"fa fa-bar-chart"}],properties:["color","opacity"]},point:{name:"Symbol",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:22}},"grain"],properties:["size","color","opacity","shape"]},line:{name:"Line",icon:[{className:"fa fa-line-chart"}],properties:["color"]},area:{name:"Area",icon:[{className:"fa fa-area-chart"}],properties:["color"]},rect:{name:"Gantt Bar",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:22}},"clear_all"],properties:["x","x2","y","y2","size","color"]},box:{name:"Box Plot",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:18}},"tune"],properties:["color"]},pie:{name:"Pie",icon:[{className:"fa fa-pie-chart"}],properties:["color"]},donut:{name:"Donut",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:18}},"data_usage"],properties:["color"]}};t.TABLE_ENCODINGS=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return{type:p,encoding:e}}function a(e,t,r){return{type:h,property:e,setting:t,value:r}}function s(e,t){switch(void 0===e&&(e=g),t.type){case p:return(0,f["default"])({type:t.encoding},e);default:return e}}function u(e,t){switch(void 0===e&&(e=m),t.type){case h:return(0,f["default"])(o({},t.property,o({},t.setting,t.value)),e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTableEncoding=i,t.setPropertySetting=a;var l=r(9),c=(n(l),r(139)),f=n(c),d=r(19),p="explorer/visualspec/SET_TABLE_ENCODING";t.SET_TABLE_ENCODING=p;var h="explorer/visualspec/SET_PROPERTY_SETTING";t.SET_PROPERTY_SETTING=h;var g={type:"bar"},m={size:{ordinalRange:[30,50,80,120,170,230,300],"default":30,scaleRangeMin:25,scaleRangeMax:625},shape:{ordinalRange:["circle","cross","diamond","square","triangle-down","triangle-up"],"default":"circle"},color:{palette:"category10","default":"#356CA7",scale:"linear",scaleZero:!0,scaleManualDomain:!1,scaleManualRange:!1,scaleRangeMin:"#d6ead1",scaleRangeMax:"#0c541f"},background:{palette:"category10","default":"#356CA7",scale:"linear",scaleZero:!0,scaleManualDomain:!1,scaleManualRange:!1,scaleRangeMin:"#d6ead1",scaleRangeMax:"#0c541f"},opacity:{"default":1,ordinalRange:[.2,.4,.6,.8,1],scaleRangeMin:.1,scaleRangeMax:1},orientation:{},x:{},x2:{},y:{},y2:{},text:{}},y=(0,d.combineReducers)({table:s,properties:u});t["default"]=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(5),c=n(l),f=r(30),d=n(f),p=r(9),h=n(p),g=r(202),m=r(198),y=r(138),v=r(203),b=c["default"].DOM,w=b.div,_=b.i,x=(b.span,function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this;switch(this.props.type){case"table":case"dataframe":return w({className:"datasource-name",onClick:function(){return e.props.onSelect(h["default"].pick(e.props,["id","datasource_id","name"]))}},_({className:"fa fa-table"}),this.props.name);case"db":return w({className:"datasource-db"},w({className:"datasource-db-name"},_({className:"fa fa-database"}),this.props.name),w({className:"datasource-db-tables"},this.props.tables.map(function(r,n){return c["default"].createElement(t,a({key:n},r,{onSelect:e.props.onSelect}))})))}}}]),t}(c["default"].Component)),D=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"onSelect",value:function(e){this.props.onSelectTable(e),this.props.closeDropdown()}},{key:"render",value:function(){var e=this,t=this.props.isDropdownOpen,r=t?w({className:"datasource-dropdown"},w({className:"datasource-list"},this.props.sourceIds.map(function(t){return c["default"].createElement(x,a({key:t},e.props.sources[t],{onSelect:e.onSelect.bind(e)}))})),w({className:"datasource-add"},_({className:"fa fa-plus"}),"Add data source")):null,n=(0,y.getTable)(this.props.sources,this.props.tableId);return w({className:"datasource-select"},w({className:"datasource-title",onClick:this.props.toggleDropdown},_({className:"fa fa-table"}),n?n.name:"Connect data source...",_({className:(0,d["default"])("fa",{"fa-caret-down":!t,"fa-caret-up":t})})),r)}}]),t}(c["default"].Component);t.DataSourceSelect=D=(0,g.createDropdownComponent)(D);var T=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.tableId,r=e.onSelectField;if(null==t)return null;var n=(0,y.getTable)(this.props.sources,t);return n.isLoading?w({className:"datasource-table-fields"},"Loading..."):w({className:"datasource-table-fields"},m.AGGREGATES.map(function(e){return c["default"].createElement(v.TableField,a({key:e.id},e,{onClick:function(){return r(e)}}))}),n.schema.map(function(e,n){return c["default"].createElement(v.TableField,a({key:e.__id__,tableId:t},e,{onClick:function(){return r({tableId:t,fieldId:e.__id__})}}))}))}}]),t}(c["default"].Component);t.DataSourceSelect=D,t.TableSchema=T},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){for(var r=t.parentNode;null!=r;){if(r==e)return!0;r=r.parentNode}return!1}function s(e){var t=function(t){function r(e){o(this,r),f(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.bindOuterClickHandler=this.bindOuterClickHandler.bind(this),this.unbindOuterClickHandler=this.unbindOuterClickHandler.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}return i(r,t),c(r,[{key:"handleDocumentClick",value:function(e){var t=this;return function(r){var n=r.target||r.srcElement;null==n.parentNode||a(m(t),n)||e()}}},{key:"bindOuterClickHandler",value:function(e){window.addEventListener("click",e)}},{key:"unbindOuterClickHandler",value:function(e){window.removeEventListener("click",e)}},{key:"render",value:function(){return p["default"].createElement(e,l({},this.props,{handleDocumentClick:this.handleDocumentClick,bindOuterClickHandler:this.bindOuterClickHandler,unbindOuterClickHandler:this.unbindOuterClickHandler}))}}]),r}(p["default"].Component);return t}function u(e){var t=function(t){function r(e){o(this,r),f(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={open:!1},this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.onOuterClick=this.props.handleDocumentClick(this.closeDropdown)}return i(r,t),c(r,[{key:"componentDidUpdate",value:function(e,t){this.state.open?this.props.bindOuterClickHandler(this.onOuterClick):this.props.unbindOuterClickHandler(this.onOuterClick)}},{key:"componentWillUnmount",value:function(){this.props.unbindOuterClickHandler(this.onOuterClick)}},{key:"openDropdown",value:function(){this.setState({open:!0})}},{key:"closeDropdown",value:function(){this.setState({open:!1})}},{key:"toggleDropdown",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){return p["default"].createElement(e,l({},this.props,{isDropdownOpen:this.state.open,toggleDropdown:this.toggleDropdown.bind(this),openDropdown:this.openDropdown.bind(this),closeDropdown:this.closeDropdown.bind(this)}))}}]),r}(p["default"].Component);return s(t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}};t.handleOuterClick=s,t.createDropdownComponent=u;var d=r(5),p=n(d),h=r(6),g=n(h),m=g["default"].findDOMNode},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=S(e).getBoundingClientRect(),r=e.props.fields.map(function(t,r){return S(e.refs["field:"+r]).getBoundingClientRect()});return{shelfBounds:t,fieldBounds:r}}function s(e,t){var r=a(e),n=r.shelfBounds,o=r.fieldBounds,i=t.x-n.left,s=(0,g["default"])(o).map(function(e){return e.left-n.left}).sortedIndex(i),u=(s>=o.length?g["default"].last(o).left+g["default"].last(o).width+6:o[s].left)-n.left;return u}function u(e,t){var r=a(e),n=r.shelfBounds,o=r.fieldBounds,i=t.x-n.left,s=(0,g["default"])(o).map(function(e){return e.left-n.left}).sortedIndex(i);return s}function l(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),dropOffset:t.getSourceClientOffset()}}function c(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),d=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.calculateDropMarkPosition=s,t.calculateDropPosition=u,t.fieldDropCollector=l;var h=r(9),g=n(h),m=r(30),y=n(m),v=r(5),b=n(v),w=r(6),_=n(w),x=r(86),D=r(31),T=r(198),O=r(204),k=b["default"].DOM,C=k.div,E=k.i,S=(k.span,_["default"].findDOMNode),R={canDrop:function(e){return!0},hover:function(e,t,r){r.setState({hoverDropOffset:t.getSourceClientOffset()})},drop:function(e,t,r){var n=t.getItem(),o=n.shelf,i=n.position,a=n.dropField,s=g["default"].pick(e,"insertFieldAtPosition","moveFieldTo","removeField","replaceFieldOnShelf","moveAndReplaceField"),l=e.shelf,c=u(r,t.getSourceClientOffset());return o!=l||null==i||i!=c&&i+1!=c||(c=i),g["default"].extend(s,{shelf:o,position:i,newshelf:l,newposition:c,dropField:a})}};t.FieldDropHandler=R;var M={beginDrag:function(e,t,r){var n=void 0;return n=null!=e.tableId?{tableId:e.tableId,fieldId:e.__id__}:e.field?e.field:g["default"].pick(e,"id","name","type","op"),p({},e,{dropField:n})},endDrag:function(e,t,r){if(t.didDrop()){var n=r.constructor.displayName,o="TableField"==n,i="ShelfField"==n,a=t.getDropResult(),s=a.removeField,u=a.replaceFieldOnShelf,l=a.insertFieldAtPosition,c=a.moveFieldTo,f=a.moveAndReplaceField,d=a.shelf,p=a.position,h=a.dropField,m=a.newshelf,y=a.newposition,v=a.droppedOnBody,b=g["default"].contains(["row","col"],m);o?b?l(m,y,h):u(m,h):i&&(v?s(d,p):b?c(d,p,m,y):f(d,p,m))}}},A=function(e){function t(){o(this,t),d(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,D.getEmptyImage)(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props.connectDragSource;return e(C({className:"field-wrap datasource-table-field",onClick:this.props.onClick},C({className:"icon-wrap"},b["default"].createElement(O.FieldIcon,{type:this.props.type})),C({className:"name-wrap"},this.props.name)))}}]),t}(b["default"].Component);A.displayName="TableField",t.TableField=A=(0,x.DragSource)("TableField",M,c)(A);var P=function(e){function t(){o(this,t),d(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview((0,D.getEmptyImage)(),{captureDraggingState:!0})}},{key:"handleOptionClick",value:function(e){e.stopPropagation();var t=S(this);this.props.setOptionField(this.props.shelf,this.props.position,t.getBoundingClientRect())}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.type,n=e.remove,o=e.isDragging,i=e.connectDragSource,a=this.props.field,s=a.typecast,u=a.func;return i(C({className:"field-wrap querybuilder-field",style:{opacity:o?.3:1}},C({className:"icon-wrap"},b["default"].createElement(O.FieldIcon,{type:r,typecast:s})),C({className:"func-wrap"},(0,T.getFieldFunctionDisplayName)(u)),C({className:(0,y["default"])("name-wrap",{"has-func":null!=u})},t),C({className:"option-wrap",onClick:"aggregate"==r?function(){return n()}:this.handleOptionClick.bind(this)},E("aggregate"==r?{className:"fa fa-times remove-link"}:{className:"fa fa-caret-down"}))))}}]),t}(b["default"].Component);P.displayName="ShelfField",t.ShelfField=P=(0,x.DragSource)("ShelfField",M,c)(P),t.TableField=A,t.ShelfField=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(5),l=n(u),c=r(30),f=n(c),d=r(198),p=l["default"].DOM,h=p.div,g=p.i,m=p.span,y=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,r=e.type,n=e.typecast;if(null!=n&&(0,d.getExternalType)(n)!=(0,d.getExternalType)(r))return h({},l["default"].createElement(t,{type:r}),g({className:"fa fa-long-arrow-right"}),l["default"].createElement(t,{type:n}));var o=void 0;if("aggregate"==r)o="bar-chart";else if(["date","timestamp","time"].indexOf(r)>=0)o="clock-o";else{if(!(["string","text"].indexOf(r)>=0))return["integer","number"].indexOf(r)>=0?m({},"#"):m({},r);o="font"}return g({className:(0,f["default"])("fa","fa-"+o)})}}]),t}(l["default"].Component);t.FieldIcon=y},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e){var t=function(t){function r(e){i(this,r),c(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={optionField:null},this.setOptionField=this.setOptionField.bind(this),this.clearOptionField=this.clearOptionField.bind(this)}return a(r,t),l(r,[{key:"componentWillReceiveProps",value:function(e){e.isDropdownOpen?e.isDragging&&(this.props.closeDropdown(),this.setState({optionField:null})):this.setState({optionField:null})}},{key:"setOptionField",value:function(e,t,r){if(null!=this.state.optionField&&v["default"].eq(v["default"].pick(this.state.optionField,"shelf","position"),{shelf:e,position:t}))this.props.closeDropdown(),this.setState({optionField:null});else{var n=E(this).getBoundingClientRect();this.props.openDropdown(),this.setState({optionField:{shelf:e,position:t,top:r.bottom-n.top-1,left:r.left-n.left}})}}},{key:"clearOptionField",value:function(){this.props.closeDropdown(),this.setState({optionField:null})}},{key:"render",value:function(){return h["default"].createElement(e,u({},this.props,this.state,{setOptionField:this.setOptionField,clearOptionField:this.clearOptionField}))}}]),r}(h["default"].Component);return(0,w.createDropdownComponent)(t)}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},f=r(30),d=n(f),p=r(5),h=n(p),g=r(6),m=n(g),y=r(9),v=n(y),b=(r(86),r(206)),w=r(202),_=r(207),x=r(199),D=h["default"].createFactory(_.Shelf),T=h["default"].DOM,O=T.div,k=T.i,C=(T.label,T.pre,T.a),E=(T.input,m["default"].findDOMNode),S=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.queryspec,r=e.fieldActionCreators,n=e.isDropdownOpen,o=e.closeDropdown,i=e.isDragging,a=e.optionField,s=e.setOptionField,l=e.getField,c=t.row,f=t.col,d={closeDropdown:o,setOptionField:s},p=v["default"].extend({getField:l},r);return O({className:"querybuilder-type-spec col"},h["default"].createElement(b.FieldOptionsDropdown,u({isOpen:n&&!i,field:a&&t[a.shelf][a.position]},a,p,{close:o})),D(u({name:"Rows",shelf:"row",fields:c},p,{dropdownProps:d})),D(u({name:"Columns",shelf:"col",fields:f},p,{dropdownProps:d})))}}]),t}(h["default"].Component);t.TableLayoutSpecBuilder=S=s(S);var R={size:"Size",shape:"Shape",color:"Color",background:"Background",opacity:"Opacity",orientation:"Orientation",x:"X Start",x2:"X End",y:"Y Start",y2:"Y End",text:"Text"},M=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.setPreview,n=e.setTableEncoding;return O({className:"tablebuilder-type-select"},v["default"].map(x.TABLE_ENCODINGS,function(e,i){return O({key:i,onMouseEnter:function(e){return r(i)},onMouseLeave:function(e){return r(null)},onClick:function(e){return n(i)},className:(0,d["default"])("tablebuilder-type-choice",{active:t==i})},C({},k.apply(void 0,o(e.icon))))}))}}]),t}(h["default"].Component),A=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={previewTableType:null,visualOptionDropdown:null},this.setPreview=this.setPreview.bind(this)}return a(t,e),l(t,[{key:"setPreview",value:function(e){this.setState({previewTableType:e}),this.props.clearOptionField()}},{key:"render",value:function(){var e=this,t=this.props,r=t.queryspec,n=t.fieldActionCreators,o=t.vizActionCreators,i=t.scales,a=t.isDropdownOpen,s=t.closeDropdown,l=t.isDragging,c=t.optionField,f=t.setOptionField,d=t.getField,p={isDropdownOpen:a,closeDropdown:s,setOptionField:f},g=v["default"].extend({getField:d},n),m=this.state.previewTableType,y=x.TABLE_ENCODINGS[m||this.props.table.type].properties;return O({className:"pane shelf-pane"},h["default"].createElement(b.FieldOptionsDropdown,u({isOpen:a&&!l,field:c&&r[c.shelf][c.position]},c,g,{close:s})),h["default"].createElement(M,u({active:this.props.table.type},this.props.vizActionCreators,{setPreview:this.setPreview})),O({className:"container-flex-fill-wrap"},O({className:"container-flex-fill"},h["default"].createElement("label",{className:"tablebuilder-encoding-title"},x.TABLE_ENCODINGS[m||this.props.table.type].name),y.map(function(t){return D(u({key:t,name:R[t],shelf:t,properties:e.props.properties[t],fields:r[t],dropdownProps:p,vizActionCreators:o,legend:i&&i[t]},g))}))))}}]),t}(h["default"].Component);t.TableVisualSpecBuilder=A=s(A),t.TableLayoutSpecBuilder=S,t.TableVisualSpecBuilder=A},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(5),c=n(l),f=r(30),d=(n(f),r(9)),p=n(d),h=r(198),g=(r(204),c["default"].DOM),m=g.div,y=g.i,v=g.label,b=(g.pre,g.a),w=g.input,_=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.choice,r=e.options,n=e.onChoiceChange;return m({className:"querybuilder-field-settings-options"},r.map(function(e){return m({key:e,className:"querybuilder-field-settings-option-value",
style:{width:"bin"==e?"100%":null}},v({},w({key:e,type:"radio",value:e,checked:e===t,onChange:function(){e!==t&&n(e)}}),(0,h.getFieldFunctionSelectDisplayName)(e)))}))}}]),t}(c["default"].Component),x=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.func,r=e.type,n=e.updateFieldFunction;return"number"==r?m({className:"querybuilder-field-options querybuilder-func"},v({},"Functions",t?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(_,{name:"func",choice:t,options:["bin","count","sum","mean","median","min","max"],onChoiceChange:n})):"time"==r?m({className:"querybuilder-field-options querybuilder-func"},v({},"Function",t&&!p["default"].contains(t,"bin")?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(_,{name:"func",choice:t,options:["year","month","day","date","hour","minute","second"],onChoiceChange:n}),v({},"BIN",t&&p["default"].contains(t,"bin")?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(_,{name:"func",choice:t,options:["bin[ms]","bin[s]","bin[m]","bin[h]","bin[d]","bin[w]","bin[M]","bin[Q]","bin[6M]","bin[Y]","bin[5Y]","bin[10Y]"],onChoiceChange:n})):null}}]),t}(c["default"].Component),D=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.func,r=e.type,n=e.typecast,o=e.typeOptions,i=e.updateFieldTypecast,a=e.updateFieldFunction,s=(0,h.getExternalType)(r),u=n||s;return m({className:"querybuilder-field-options"},v({},"Type"),c["default"].createElement(_,{name:"typecast",choice:u,options:o,onChoiceChange:function(e){return i(e===s?null:e)}}),c["default"].createElement(x,{type:u,func:t,updateFieldFunction:a}))}}]),t}(c["default"].Component),T=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.field,r=e.fieldSettings,n=e.updateFieldTypecast,o=e.updateFieldFunction,i=r.type,s={type:i,typecast:t.typecast,func:t.func,updateFieldTypecast:n,updateFieldFunction:o};return["date","timestamp","time"].indexOf(i)>=0?c["default"].createElement(D,a({},s,{typeOptions:["time","number","text"]})):["string","text"].indexOf(i)>=0?c["default"].createElement(D,a({},s,{typeOptions:["text","number"]})):["integer","number"].indexOf(i)>=0?c["default"].createElement(D,a({},s,{typeOptions:["number","text"]})):m({className:"querybuilder-field-options"},v({},"No Settings"))}}]),t}(c["default"].Component),O=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.isOpen,n=t.shelf,o=t.field,i=t.position,a=t.top,s=t.left,u=t.removeField,l=t.updateFieldTypecast,f=t.updateFieldFunction;if(!r)return null;var d=this.props.getField(o.tableId,o.fieldId);return m({className:"querybuilder-field-settings",style:{top:a,left:s}},y({className:"fa fa-times remove-link",onClick:this.props.close}),c["default"].createElement(T,{position:i,field:o,fieldSettings:d,updateFieldFunction:p["default"].curry(f,3)(n,i),updateFieldTypecast:p["default"].curry(l,3)(n,i)}),m({className:"querybuilder-field-remove",onClick:function(){e.props.close(),u(n,i)}},"Remove"))}}]),t}(c["default"].Component);t.FieldOptionsDropdown=O},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(208),c=n(l),f=r(30),d=n(f),p=r(5),h=n(p),g=r(6),m=n(g),y=r(86),v=r(9),b=n(v),w=r(213),_=(r(206),r(202)),x=r(203),D=r(198),T=h["default"].DOM,O=T.div,k=T.i,C=(T.a,T.pre,T.svg),E=m["default"].findDOMNode,S=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"componentDidUpdate",value:function(e,t){this.hasDropMarker()&&(E(this.refs.dropMarker).style.left=(0,x.calculateDropMarkPosition)(this,this.state.hoverDropOffset)+"px")}},{key:"hasDropMarker",value:function(){return b["default"].contains(["row","col"],this.props.shelf)&&this.props.fields.length>0&&this.props.isOver&&this.props.dropOffset}},{key:"render",value:function(){var e=this.props,t=e.shelf,r=e.fields,n=e.getField,o=e.removeField,i=e.dropdownProps,s=this.props,u=s.isOver,l=s.canDrop,c=s.connectDropTarget,f=this.hasDropMarker(),p=f?O({ref:"dropMarker",className:"field-position-marker"}):null,g=r.map(function(e,r){var s="aggregate"==e.type?e:n(e.tableId,e.fieldId);return h["default"].createElement(x.ShelfField,a({ref:"field:"+r,key:r+":"+("aggregate"==e.type?e.id:e.fieldId),shelf:t,field:e,position:r},s,{remove:function(){return o(t,r)}},i))});return c(O({className:(0,d["default"])("querybuilder-field-container-wrap",{"field-drop-target":l,"field-drop-over":u,"field-contained":!b["default"].isEmpty(r),"field-empty":b["default"].isEmpty(r),"field-drop-marker":f}),onScroll:i.closeDropdown},O({className:"querybuilder-field-container"},p,g)))}}]),t}(h["default"].Component);S=(0,y.DropTarget)(["TableField","ShelfField"],x.FieldDropHandler,x.fieldDropCollector)(S);var R={color:"color",opacity:"color",shape:"symbol",size:"size"},M=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"_d3Remove",value:function(){c["default"].select(this.refs.d3LegendContainer).selectAll("*").remove()}},{key:"_d3Render",value:function(){this._d3Remove();var e=this.props,t=e.fields,r=e.legend,n=e.shelf;if(!b["default"].isEmpty(t)){var o=r[(0,D.getAccessorName)(t[0])];if(null!=o){var i=o.type,a=o.domain,s=o.range,u=c["default"].scale[i]().domain(a).range(s);switch(n){case"shape":u.range(b["default"].map(u.range(),function(e){return c["default"].svg.symbol().type(e)()}));break;case"size":u.range(b["default"].map(u.range(),function(e){return Math.sqrt(e/Math.PI)}));break;case"opacity":u.range(b["default"].map(s,function(e){return c["default"].rgb(255*(1-e),255*(1-e),255*(1-e))}))}var l=c["default"].legend[R[n]]().scale(u);switch(n){case"size":l.shape("circle").shapePadding(5)}switch(i){case"linear":case"log":case"pow":case"sqrt":var f=u.ticks(5);"linear"==i&&(0,D.isAggregateType)(t[0])&&(f=b["default"].unique(b["default"].sortBy(f.concat([0])))),"log"==i&&(f=b["default"].at(f,b["default"].range(0,f.length,Math.floor(f.length/5)))),l.cells(f).labelFormat(c["default"].format(",f"));break;case"quantile":l.cells(u.quantiles()).labelFormat(c["default"].format(",f"))}var d=c["default"].select(this.refs.d3LegendContainer),p=(E(this),d.append("g").attr("transform",b["default"].contains(["shape","size"],n)?"translate(15, 5)":null).call(l)),h=p[0][0].getBoundingClientRect();d.attr("width",h.width+5).attr("height",h.height+5)}}}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"componentWillUnmount",value:function(){this._d3Remove()}},{key:"render",value:function(){return b["default"].isEmpty(this.props.fields)?null:O({className:"querybuilder-shelf-legend"},C({ref:"d3LegendContainer"}))}}]),t}(h["default"].Component),A=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.name,n=t.shelf,o=t.fields,i=t.legend,s=t.getField,u=t.removeField,l=t.clearFields,c=t.insertFieldAtPosition,f=t.moveFieldTo,d=t.replaceFieldOnShelf,p=t.moveAndReplaceField,g=t.dropdownProps,m=t.vizActionCreators,y={shelf:n,fields:o,getField:s,removeField:u,clearFields:l,insertFieldAtPosition:c,moveFieldTo:f,replaceFieldOnShelf:d,moveAndReplaceField:p,dropdownProps:g},v=a({property:n,fields:o,getField:s,settings:this.props.properties,isOpen:this.props.isDropdownOpen&&!g.isDropdownOpen,close:this.props.closeDropdown},m),_=b["default"].contains(["row","col"],this.props.shelf),x=b["default"].contains(["color","background"],this.props.shelf),D=_?k({className:"fa fa-times remove-link",onClick:function(){g.closeDropdown(),l(n)}}):x?k({className:"fa fa-caret-down"}):null;return O({className:"querybuilder-shelf"},h["default"].createElement("label",{onClick:x?function(){g.isDropdownOpen?e.props.openDropdown():e.props.toggleDropdown(),g.closeDropdown()}:null,style:{cursor:x?"pointer":null}},r,D),h["default"].createElement(w.VisualPropertiesDropdown,v),h["default"].createElement(S,y),!_&&i?h["default"].createElement(M,{shelf:n,legend:i,fields:b["default"].map(o,function(e){return b["default"].extend({},e,s(e.tableId,e.fieldId))})}):null)}}]),t}(h["default"].Component);t.Shelf=A=(0,_.createDropdownComponent)(A),t.Shelf=A},function(e,t,r){var n=r(7);n.legend={color:r(209),size:r(211),symbol:r(212)},e.exports=n},function(e,t,r){var n=r(210);e.exports=function(){function e(e){var b=n.d3_calcType(r,y,l,c,d,g),w=e.selectAll(".cell").data(b.data),_=w.enter().append("g",".cell").attr("class","cell").style("opacity",1e-6);shapeEnter=_.append(o).attr("class","swatch"),shapes=w.select("g.cell "+o),n.d3_addEvents(_,v),w.exit().transition().style("opacity",0).remove(),n.d3_drawShapes(o,shapes,a,i,s,t),n.d3_addText(e,_,b.labels);var x=w.select("text"),D=shapes[0].map(function(e){return e.getBBox()});f?shapes.attr("class",function(e){return"swatch "+b.feature(e)}):"line"==o?shapes.style("stroke",b.feature):shapes.style("fill",b.feature);var T,O,k="start"==h?0:"middle"==h?.5:1;"vertical"===m?(T=function(e,t){return"translate(0, "+t*(D[t].height+u)+")"},O=function(e,t){return"translate("+(D[t].width+D[t].x+p)+","+(D[t].y+D[t].height/2+5)+")"}):"horizontal"===m&&(T=function(e,t){return"translate("+t*(D[t].width+u)+",0)"},O=function(e,t){return"translate("+(D[t].width*k+D[t].x)+","+(D[t].height+D[t].y+p+8)+")"}),n.d3_placement(m,w,T,x,O,h),w.transition().style("opacity",1)}var t,r=d3.scale.linear(),o="rect",i=15,a=15,s=10,u=2,l=[5],c=[],f=!1,d=d3.format(".01f"),p=10,h="middle",g="to",m="vertical",y=!1,v=d3.dispatch("cellover","cellout","cellclick");return e.scale=function(t){return arguments.length?(r=t,e):e},e.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(l=t),e):e},e.shape=function(r,n){return arguments.length?(("rect"==r||"circle"==r||"line"==r||"path"==r&&"string"==typeof n)&&(o=r,t=n),e):e},e.shapeWidth=function(t){return arguments.length?(i=+t,e):e},e.shapeHeight=function(t){return arguments.length?(a=+t,e):e},e.shapeRadius=function(t){return arguments.length?(s=+t,e):e},e.shapePadding=function(t){return arguments.length?(u=+t,e):e},e.labels=function(t){return arguments.length?(c=t,e):e},e.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(h=t),e):e},e.labelFormat=function(t){return arguments.length?(d=t,e):e},e.labelOffset=function(t){return arguments.length?(p=+t,e):e},e.labelDelimiter=function(t){return arguments.length?(g=t,e):e},e.useClass=function(t){return arguments.length?((t===!0||t===!1)&&(f=t),e):e},e.orient=function(t){return arguments.length?(t=t.toLowerCase(),("horizontal"==t||"vertical"==t)&&(m=t),e):e},e.ascending=function(t){return arguments.length?(y=!!t,e):e},d3.rebind(e,v,"on"),e}},function(e,t){e.exports={d3_identity:function(e){return e},d3_mergeLabels:function(e,t){if(0===t.length)return e;e=e?e:[];for(var r=t.length;r<e.length;r++)t.push(e[r]);return t},d3_linearLegend:function(e,t,r){var n=[];if(t.length>1)n=t;else for(var o=e.domain(),i=(o[o.length-1]-o[0])/(t-1),a=0;t>a;a++)n.push(o[0]+a*i);var s=n.map(r);return{data:n,labels:s,feature:function(t){return e(t)}}},d3_quantLegend:function(e,t,r){var n=e.range().map(function(n){var o=e.invertExtent(n);t(o[0]),t(o[1]);return t(o[0])+" "+r+" "+t(o[1])});return{data:e.range(),labels:n,feature:this.d3_identity}},d3_ordinalLegend:function(e){return{data:e.domain(),labels:e.domain(),feature:function(t){return e(t)}}},d3_drawShapes:function(e,t,r,n,o,i){"rect"===e?t.attr("height",r).attr("width",n):"circle"===e?t.attr("r",o):"line"===e?t.attr("x1",0).attr("x2",n).attr("y1",0).attr("y2",0):"path"===e&&t.attr("d",i)},d3_addText:function(e,t,r){t.append("text").attr("class","label"),e.selectAll("g.cell text").data(r).text(this.d3_identity)},d3_calcType:function(e,t,r,n,o,i){var a=e.ticks?this.d3_linearLegend(e,r,o):e.invertExtent?this.d3_quantLegend(e,o,i):this.d3_ordinalLegend(e);return a.labels=this.d3_mergeLabels(a.labels,n),t&&(a.labels=this.d3_reverse(a.labels),a.data=this.d3_reverse(a.data)),a},d3_reverse:function(e){for(var t=[],r=0,n=e.length;n>r;r++)t[r]=e[n-r-1];return t},d3_placement:function(e,t,r,n,o,i){t.attr("transform",r),n.attr("transform",o),"horizontal"===e&&n.style("text-anchor",i)},d3_addEvents:function(e,t){var r=this;e.on("mouseover.legend",function(e){r.d3_cellOver(t,e,this)}).on("mouseout.legend",function(e){r.d3_cellOut(t,e,this)}).on("click.legend",function(e){r.d3_cellClick(t,e,this)})},d3_cellOver:function(e,t,r){e.cellover.call(r,t)},d3_cellOut:function(e,t,r){e.cellout.call(r,t)},d3_cellClick:function(e,t,r){e.cellclick.call(r,t)}}},function(e,t,r){var n=r(210);e.exports=function(){function e(e){var m=n.d3_calcType(r,h,s,u,l,d),y=e.selectAll(".cell").data(m.data),v=y.enter().append("g",".cell").attr("class","cell").style("opacity",1e-6);shapeEnter=v.append(o).attr("class","swatch"),shapes=y.select("g.cell "+o),n.d3_addEvents(v,g),y.exit().transition().style("opacity",0).remove(),"line"===o?(n.d3_drawShapes(o,shapes,0,i),shapes.attr("stroke-width",m.feature)):n.d3_drawShapes(o,shapes,m.feature,m.feature,m.feature,t),n.d3_addText(e,v,m.labels);var b,w,_=y.select("text"),x=shapes[0].map(function(e,t){var n=e.getBBox(),i=r(m.data[t]);return"line"===o&&"horizontal"===p?n.height=n.height+i:"line"===o&&"vertical"===p&&(n.width=n.width),n}),D=d3.max(x,function(e){return e.height+e.y}),T=d3.max(x,function(e){return e.width+e.x}),O="start"==f?0:"middle"==f?.5:1;"vertical"===p?(b=function(e,t){var r=d3.sum(x.slice(0,t+1),function(e){return e.height});return"translate(0, "+(r+t*a)+")"},w=function(e,t){return"translate("+(T+c)+","+(x[t].y+x[t].height/2+5)+")"}):"horizontal"===p&&(b=function(e,t){var r=d3.sum(x.slice(0,t+1),function(e){return e.width});return"translate("+(r+t*a)+",0)"},w=function(e,t){return"translate("+(x[t].width*O+x[t].x)+","+(D+c)+")"}),n.d3_placement(p,y,b,_,w,f),y.transition().style("opacity",1)}var t,r=d3.scale.linear(),o="rect",i=15,a=2,s=[5],u=[],l=d3.format(".01f"),c=10,f="middle",d="to",p="vertical",h=!1,g=d3.dispatch("cellover","cellout","cellclick");return e.scale=function(t){return arguments.length?(r=t,e):e},e.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(s=t),e):e},e.shape=function(r,n){return arguments.length?(("rect"==r||"circle"==r||"line"==r)&&(o=r,t=n),e):e},e.shapeWidth=function(t){return arguments.length?(i=+t,e):e},e.shapePadding=function(t){return arguments.length?(a=+t,e):e},e.labels=function(t){return arguments.length?(u=t,e):e},e.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(f=t),e):e},e.labelFormat=function(t){return arguments.length?(l=t,e):e},e.labelOffset=function(t){return arguments.length?(c=+t,e):e},e.labelDelimiter=function(t){return arguments.length?(d=t,e):e},e.orient=function(t){return arguments.length?(t=t.toLowerCase(),("horizontal"==t||"vertical"==t)&&(p=t),e):e},e.ascending=function(t){return arguments.length?(h=!!t,e):e},d3.rebind(e,g,"on"),e}},function(e,t,r){var n=r(210);e.exports=function(){function e(e){var y=n.d3_calcType(t,g,u,l,c,p),v=e.selectAll(".cell").data(y.data),b=v.enter().append("g",".cell").attr("class","cell").style("opacity",1e-6);shapeEnter=b.append(r).attr("class","swatch"),shapes=v.select("g.cell "+r),n.d3_addEvents(b,m),v.exit().transition().style("opacity",0).remove(),n.d3_drawShapes(r,shapes,i,o,a,y.feature),n.d3_addText(e,b,y.labels);var w,_,x=v.select("text"),D=shapes[0].map(function(e){return e.getBBox()}),T=d3.max(D,function(e){return e.height}),O=d3.max(D,function(e){return e.width}),k="start"==f?0:"middle"==f?.5:1;"vertical"===h?(w=function(e,t){return"translate(0, "+t*(T+s)+")"},_=function(e,t){return"translate("+(O+d)+","+(D[t].y+D[t].height/2+5)+")"}):"horizontal"===h&&(w=function(e,t){return"translate("+t*(O+s)+",0)"},_=function(e,t){return"translate("+(D[t].width*k+D[t].x)+","+(T+d)+")"}),n.d3_placement(h,v,w,x,_,f),v.transition().style("opacity",1)}var t=d3.scale.linear(),r="path",o=15,i=15,a=10,s=5,u=[5],l=[],c=d3.format(".01f"),f="middle",d=10,p="to",h="vertical",g=!1,m=d3.dispatch("cellover","cellout","cellclick");return e.scale=function(r){return arguments.length?(t=r,e):e},e.cells=function(t){return arguments.length?((t.length>1||t>=2)&&(u=t),e):e},e.shapePadding=function(t){return arguments.length?(s=+t,e):e},e.labels=function(t){return arguments.length?(l=t,e):e},e.labelAlign=function(t){return arguments.length?(("start"==t||"end"==t||"middle"==t)&&(f=t),e):e},e.labelFormat=function(t){return arguments.length?(c=t,e):e},e.labelOffset=function(t){return arguments.length?(d=+t,e):e},e.labelDelimiter=function(t){return arguments.length?(p=t,e):e},e.orient=function(t){return arguments.length?(t=t.toLowerCase(),("horizontal"==t||"vertical"==t)&&(h=t),e):e},e.ascending=function(t){return arguments.length?(g=!!t,e):e},d3.rebind(e,m,"on"),e}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(5),l=n(u),c=r(9),f=n(c),d=r(198),p=r(214),h=l["default"].DOM,g=h.div,m=h.i,y=(h.a,h.label),v=h.pre,b=h.input,w=h.select,_=h.option,x=(h.img,h.span),D=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.settings,n=e.setPropertySetting;return r.scaleManualRange?g({},y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Min:",b({type:"color",value:r.scaleRangeMin,onChange:function(e){n(t,"scaleRangeMin",e.target.value)}})),y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Max:",b({type:"color",value:r.scaleRangeMax,onChange:function(e){n(t,"scaleRangeMax",e.target.value)}}))):null}}]),t}(l["default"].Component),T=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.settings,n=e.setPropertySetting;return r.scaleManualDomain?g({},y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Min:",b({type:"number",value:r.scaleDomainMin,onChange:function(e){n(t,"scaleDomainMin",e.target.value)}})),y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Max:",b({type:"number",value:r.scaleDomainMax,onChange:function(e){n(t,"scaleDomainMax",e.target.value)}}))):y({className:"querybuilder-color-sub-settings"},b({type:"checkbox",checked:r.scaleZero,onChange:function(e){n(t,"scaleZero",e.target.checked)}}),"Zero?")}}]),t}(l["default"].Component),O=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,n=e.fields,o=e.fieldTypes,i=e.settings,a=e.setPropertySetting,s=!f["default"].isEmpty(n),u=s?null!=n[0].op?"number":(0,d.getExternalType)(n[0].typecast||o[0].type):null;if(!s)return y({className:"querybuilder-color-static"},"Default",b({type:"color",value:i["default"],onChange:function(e){a(t,"default",e.target.value)}}));switch(u){case"text":return g({},y({},"Palette"),g({className:"querybuilder-color-settings"},f["default"].map(p.COLOR_PALETTES,function(e,n){return y({key:n},b({type:"radio",value:n,checked:n===i.palette,onChange:function(){n!==i.palette&&a(t,"palette",n)}}),g({dangerouslySetInnerHTML:{__html:r(215)("./"+n+".svg")}}))})));default:return g({},y({className:"querybuilder-color-static",style:{marginBottom:5}},x({style:{marginTop:4}},"Scale"),w({value:i.scale,onChange:function(e){a(t,"scale",e.target.value)}},_({value:"linear"},"linear"),_({value:"log"},"log"),_({value:"pow"},"pow"),_({value:"sqrt"},"sqrt"),_({value:"quantile"},"quantile"))),y({className:"querybuilder-color-settings"},b({type:"checkbox",checked:!i.scaleManualDomain,onChange:function(e){a(t,"scaleManualDomain",!e.target.checked)}}),"Auto Domain"),l["default"].createElement(T,{property:t,settings:i,setPropertySetting:a}),y({className:"querybuilder-color-settings"},b({type:"checkbox",checked:!i.scaleManualRange,onChange:function(e){a(t,"scaleManualRange",!e.target.checked)}}),"Auto Range"),l["default"].createElement(D,{property:t,settings:i,setPropertySetting:a}))}}}]),t}(l["default"].Component),k=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.fields,n=e.settings,o=e.getField,i=e.setPropertySetting,a=r.map(function(e){return o(e.tableId,e.fieldId)});switch(t){case"color":case"background":return l["default"].createElement(O,{property:t,fields:r,fieldTypes:a,settings:n,setPropertySetting:i});default:return g({},v({},JSON.stringify(r,null,2)),v({},JSON.stringify(a,null,2)),v({},JSON.stringify(n,null,2)))}}}]),t}(l["default"].Component),C=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,r=e.property,n=e.fields,o=e.settings,i=e.getField,a=e.close,s=e.setPropertySetting;return t?g({className:"querybuilder-field-settings querybuilder-property-settings"},m({className:"fa fa-times remove-link",onClick:a}),l["default"].createElement(k,{property:r,fields:n,settings:o,getField:i,setPropertySetting:s})):null}}]),t}(l["default"].Component);t.VisualPropertiesDropdown=C},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={category10:["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],category20:["#1f77b4","#aec7e8","#ff7f0e","#ffbb78","#2ca02c","#98df8a","#d62728","#ff9896","#9467bd","#c5b0d5","#8c564b","#c49c94","#e377c2","#f7b6d2","#7f7f7f","#c7c7c7","#bcbd22","#dbdb8d","#17becf","#9edae5"],category20b:["#393b79","#5254a3","#6b6ecf","#9c9ede","#637939","#8ca252","#b5cf6b","#cedb9c","#8c6d31","#bd9e39","#e7ba52","#e7cb94","#843c39","#ad494a","#d6616b","#e7969c","#7b4173","#a55194","#ce6dbd","#de9ed6"],category20c:["#3182bd","#6baed6","#9ecae1","#c6dbef","#e6550d","#fd8d3c","#fdae6b","#fdd0a2","#31a354","#74c476","#a1d99b","#c7e9c0","#756bb1","#9e9ac8","#bcbddc","#dadaeb","#636363","#969696","#bdbdbd","#d9d9d9"],pastel1:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"],pastel2:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"],set1:["#377eb8","#4daf4a","#984ea3","#ff7f0","#ffff33","#a65628","#f781bf","#999999"],set2:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"],set3:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]};t.COLOR_PALETTES=r},function(e,t,r){function n(e){return r(o(e))}function o(e){return i[e]||function(){throw new Error("Cannot find module '"+e+"'.")}()}var i={"./category10.svg":216,"./category20.svg":217,"./category20b.svg":218,"./category20c.svg":219,"./pastel1.svg":220,"./pastel2.svg":221,"./set1.svg":222,"./set2.svg":223,"./set3.svg":224};n.keys=function(){return Object.keys(i)},n.resolve=o,e.exports=n,n.id=215},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="#1f77b4" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="0" y="0" width="10" height="60" />\n    </g>\n    <g fill="#ff7f0e" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="10" y="0" width="10" height="60" />\n    </g>\n    <g fill="#2ca02c" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="20" y="0" width="10" height="60" />\n    </g>\n    <g fill="#d62728" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="30" y="0" width="10" height="60" />\n    </g>\n    <g fill="#9467bd" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="40" y="0" width="10" height="60" />\n    </g>\n    <g fill="#8c564b" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="50" y="0" width="10" height="60" />\n    </g>\n    <g fill="#e377c2" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="60" y="0" width="10" height="60" />\n    </g>\n    <g fill="#7f7f7f" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="70" y="0" width="10" height="60" />\n    </g>\n    <g fill="#bcbd22" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="80" y="0" width="10" height="60" />\n    </g>\n    <g fill="#17becf" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="90" y="0" width="10" height="60" />\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n    "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="#1f77b4" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="0" y="0" width="5" height="60" />\n    </g>\n    <g fill="#aec7e8" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="5" y="0" width="5" height="60" />\n    </g>\n    <g fill="#ff7f0e" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="10" y="0" width="5" height="60" />\n    </g>\n    <g fill="#ffbb78" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="15" y="0" width="5" height="60" />\n    </g>\n    <g fill="#2ca02c" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="20" y="0" width="5" height="60" />\n    </g>\n    <g fill="#98df8a" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="25" y="0" width="5" height="60" />\n    </g>\n    <g fill="#d62728" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="30" y="0" width="5" height="60" />\n    </g>\n    <g fill="#ff9896" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="35" y="0" width="5" height="60" />\n    </g>\n    <g fill="#9467bd" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="40" y="0" width="5" height="60" />\n    </g>\n    <g fill="#c5b0d5" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="45" y="0" width="5" height="60" />\n    </g>\n    <g fill="#8c564b" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="50" y="0" width="5" height="60" />\n    </g>\n    <g fill="#c49c94" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="55" y="0" width="5" height="60" />\n    </g>\n    <g fill="#e377c2" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="60" y="0" width="5" height="60" />\n    </g>\n    <g fill="#f7b6d2" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="65" y="0" width="5" height="60" />\n    </g>\n    <g fill="#7f7f7f" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="70" y="0" width="5" height="60" />\n    </g>\n    <g fill="#c7c7c7" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="75" y="0" width="5" height="60" />\n    </g>\n    <g fill="#bcbd22" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="80" y="0" width="5" height="60" />\n    </g>\n    <g fill="#dbdb8d" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="85" y="0" width="5" height="60" />\n    </g>\n    <g fill="#17becf" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="90" y="0" width="5" height="60" />\n    </g>\n    <g fill="#9edae5" fill-opacity="1.0" stroke-width="0.0">\n      <rect x="95" y="0" width="5" height="60" />\n    </g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n    "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="#393b79" fill-opacity="1.0" stroke-width="0.0"><rect x="0" y="0" width="5" height="60"/></g>\n    <g fill="#5254a3" fill-opacity="1.0" stroke-width="0.0"><rect x="5" y="0" width="5" height="60"/></g>\n    <g fill="#6b6ecf" fill-opacity="1.0" stroke-width="0.0"><rect x="10" y="0" width="5" height="60"/></g>\n    <g fill="#9c9ede" fill-opacity="1.0" stroke-width="0.0"><rect x="15" y="0" width="5" height="60"/></g>\n    <g fill="#637939" fill-opacity="1.0" stroke-width="0.0"><rect x="20" y="0" width="5" height="60"/></g>\n    <g fill="#8ca252" fill-opacity="1.0" stroke-width="0.0"><rect x="25" y="0" width="5" height="60"/></g>\n    <g fill="#b5cf6b" fill-opacity="1.0" stroke-width="0.0"><rect x="30" y="0" width="5" height="60"/></g>\n    <g fill="#cedb9c" fill-opacity="1.0" stroke-width="0.0"><rect x="35" y="0" width="5" height="60"/></g>\n    <g fill="#8c6d31" fill-opacity="1.0" stroke-width="0.0"><rect x="40" y="0" width="5" height="60"/></g>\n    <g fill="#bd9e39" fill-opacity="1.0" stroke-width="0.0"><rect x="45" y="0" width="5" height="60"/></g>\n    <g fill="#e7ba52" fill-opacity="1.0" stroke-width="0.0"><rect x="50" y="0" width="5" height="60"/></g>\n    <g fill="#e7cb94" fill-opacity="1.0" stroke-width="0.0"><rect x="55" y="0" width="5" height="60"/></g>\n    <g fill="#843c39" fill-opacity="1.0" stroke-width="0.0"><rect x="60" y="0" width="5" height="60"/></g>\n    <g fill="#ad494a" fill-opacity="1.0" stroke-width="0.0"><rect x="65" y="0" width="5" height="60"/></g>\n    <g fill="#d6616b" fill-opacity="1.0" stroke-width="0.0"><rect x="70" y="0" width="5" height="60"/></g>\n    <g fill="#e7969c" fill-opacity="1.0" stroke-width="0.0"><rect x="75" y="0" width="5" height="60"/></g>\n    <g fill="#7b4173" fill-opacity="1.0" stroke-width="0.0"><rect x="80" y="0" width="5" height="60"/></g>\n    <g fill="#a55194" fill-opacity="1.0" stroke-width="0.0"><rect x="85" y="0" width="5" height="60"/></g>\n    <g fill="#ce6dbd" fill-opacity="1.0" stroke-width="0.0"><rect x="90" y="0" width="5" height="60"/></g>\n    <g fill="#de9ed6" fill-opacity="1.0" stroke-width="0.0"><rect x="95" y="0" width="5" height="60"/></g>\n  </g>\n</svg>\n';
},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="#3182bd" fill-opacity="1.0" stroke-width="0.0"><rect x="0" y="0" width="5" height="60"/></g>\n    <g fill="#6baed6" fill-opacity="1.0" stroke-width="0.0"><rect x="5" y="0" width="5" height="60"/></g>\n    <g fill="#9ecae1" fill-opacity="1.0" stroke-width="0.0"><rect x="10" y="0" width="5" height="60"/></g>\n    <g fill="#c6dbef" fill-opacity="1.0" stroke-width="0.0"><rect x="15" y="0" width="5" height="60"/></g>\n    <g fill="#e6550d" fill-opacity="1.0" stroke-width="0.0"><rect x="20" y="0" width="5" height="60"/></g>\n    <g fill="#fd8d3c" fill-opacity="1.0" stroke-width="0.0"><rect x="25" y="0" width="5" height="60"/></g>\n    <g fill="#fdae6b" fill-opacity="1.0" stroke-width="0.0"><rect x="30" y="0" width="5" height="60"/></g>\n    <g fill="#fdd0a2" fill-opacity="1.0" stroke-width="0.0"><rect x="35" y="0" width="5" height="60"/></g>\n    <g fill="#31a354" fill-opacity="1.0" stroke-width="0.0"><rect x="40" y="0" width="5" height="60"/></g>\n    <g fill="#74c476" fill-opacity="1.0" stroke-width="0.0"><rect x="45" y="0" width="5" height="60"/></g>\n    <g fill="#a1d99b" fill-opacity="1.0" stroke-width="0.0"><rect x="50" y="0" width="5" height="60"/></g>\n    <g fill="#c7e9c0" fill-opacity="1.0" stroke-width="0.0"><rect x="55" y="0" width="5" height="60"/></g>\n    <g fill="#756bb1" fill-opacity="1.0" stroke-width="0.0"><rect x="60" y="0" width="5" height="60"/></g>\n    <g fill="#9e9ac8" fill-opacity="1.0" stroke-width="0.0"><rect x="65" y="0" width="5" height="60"/></g>\n    <g fill="#bcbddc" fill-opacity="1.0" stroke-width="0.0"><rect x="70" y="0" width="5" height="60"/></g>\n    <g fill="#dadaeb" fill-opacity="1.0" stroke-width="0.0"><rect x="75" y="0" width="5" height="60"/></g>\n    <g fill="#636363" fill-opacity="1.0" stroke-width="0.0"><rect x="80" y="0" width="5" height="60"/></g>\n    <g fill="#969696" fill-opacity="1.0" stroke-width="0.0"><rect x="85" y="0" width="5" height="60"/></g>\n    <g fill="#bdbdbd" fill-opacity="1.0" stroke-width="0.0"><rect x="90" y="0" width="5" height="60"/></g>\n    <g fill="#d9d9d9" fill-opacity="1.0" stroke-width="0.0"><rect x="95" y="0" width="5" height="60"/></g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n    "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100.00000000000001" height="61.804697156983934" font-size="1" viewBox="0 0 100 62">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="rgb(242,242,242)" fill-opacity="1.0" stroke-width="0.0"><rect x="88" y="0" width="11" height="60"/></g>\n    <g fill="rgb(253,218,236)" fill-opacity="1.0" stroke-width="0.0"><rect x="77" y="0" width="11" height="60"/></g>\n    <g fill="rgb(229,216,189)" fill-opacity="1.0" stroke-width="0.0"><rect x="66" y="0" width="11" height="60"/></g>\n    <g fill="rgb(255,255,204)" fill-opacity="1.0" stroke-width="0.0"><rect x="55" y="0" width="11" height="60"/></g>\n    <g fill="rgb(254,217,166)" fill-opacity="1.0" stroke-width="0.0"><rect x="44" y="0" width="11" height="60"/></g>\n    <g fill="rgb(222,203,228)" fill-opacity="1.0" stroke-width="0.0"><rect x="33" y="0" width="11" height="60"/></g>\n    <g fill="rgb(204,235,197)" fill-opacity="1.0" stroke-width="0.0"><rect x="22" y="0" width="11" height="60"/></g>\n    <g fill="rgb(179,205,227)" fill-opacity="1.0" stroke-width="0.0"><rect x="11" y="0" width="11" height="60"/></g>\n    <g fill="rgb(251,180,174)" fill-opacity="1.0" stroke-width="0.0"><rect x="0" y="0" width="11" height="60"/></g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100.0" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="rgb(204,204,204)" fill-opacity="1.0" stroke-width="0.0"><rect x="87.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(241,226,204)" fill-opacity="1.0" stroke-width="0.0"><rect x="75.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(255,242,174)" fill-opacity="1.0" stroke-width="0.0"><rect x="62.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(230,245,201)" fill-opacity="1.0" stroke-width="0.0"><rect x="50.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(244,202,228)" fill-opacity="1.0" stroke-width="0.0"><rect x="37.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(203,213,232)" fill-opacity="1.0" stroke-width="0.0"><rect x="25.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(253,205,172)" fill-opacity="1.0" stroke-width="0.0"><rect x="12.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(179,226,205)" fill-opacity="1.0" stroke-width="0.0"><rect x="0.0" y="0" width="12.5" height="60"/></g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n<g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n  <g fill="rgb(153,153,153)" fill-opacity="1.0" stroke-width="0.0"><rect x="0.0" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(247,129,191)" fill-opacity="1.0" stroke-width="0.0"><rect x="12.5" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(166,86,40)" fill-opacity="1.0" stroke-width="0.0">  <rect x="25.0" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(255,255,51)" fill-opacity="1.0" stroke-width="0.0"> <rect x="37.5" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(255,127,0)" fill-opacity="1.0" stroke-width="0.0">  <rect x="50.0" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(152,78,163)" fill-opacity="1.0" stroke-width="0.0"> <rect x="62.5" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(77,175,74)" fill-opacity="1.0" stroke-width="0.0">  <rect x="75.0" y="0" width="12.5" height="60"/></g>\n  <g fill="rgb(55,126,184)" fill-opacity="1.0" stroke-width="0.0"> <rect x="87.5" y="0" width="12.5" height="60"/></g>\n</g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN"\n"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n  <g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n    <g fill="rgb(179,179,179)" fill-opacity="1.0" stroke-width="0.0"><rect x="87.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(229,196,148)" fill-opacity="1.0" stroke-width="0.0"><rect x="75.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(255,217,47)" fill-opacity="1.0" stroke-width="0.0"><rect x="62.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(166,216,84)" fill-opacity="1.0" stroke-width="0.0"><rect x="50.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(231,138,195)" fill-opacity="1.0" stroke-width="0.0"><rect x="37.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(141,160,203)" fill-opacity="1.0" stroke-width="0.0"><rect x="25.0" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(252,141,98)" fill-opacity="1.0" stroke-width="0.0"><rect x="12.5" y="0" width="12.5" height="60"/></g>\n    <g fill="rgb(102,194,165)" fill-opacity="1.0" stroke-width="0.0"><rect x="0.0" y="0" width="12.5" height="60"/></g>\n  </g>\n</svg>\n'},function(e,t){e.exports='<?xml version="1.0" encoding="UTF-8"?>\n<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">\n<svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" width="100" height="60" font-size="1" viewBox="0 0 100 60">\n<g stroke="rgb(0,0,0)" stroke-opacity="1.0" fill="rgb(0,0,0)" fill-opacity="0.0" stroke-width="1.0e-2" stroke-linecap="butt" stroke-linejoin="miter" font-size="1.0em" stroke-miterlimit="10.0">\n  <g fill="rgb(255,237,111)" fill-opacity="1.0" stroke-width="0.0"><rect x="0" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(204,235,197)" fill-opacity="1.0" stroke-width="0.0"><rect x="8.333" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(188,128,189)" fill-opacity="1.0" stroke-width="0.0"><rect x="16.666" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(217,217,217)" fill-opacity="1.0" stroke-width="0.0"><rect x="25" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(252,205,229)" fill-opacity="1.0" stroke-width="0.0"><rect x="33.333" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(179,222,105)" fill-opacity="1.0" stroke-width="0.0"><rect x="41.666" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(253,180,98)" fill-opacity="1.0" stroke-width="0.0"> <rect x="50" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(128,177,211)" fill-opacity="1.0" stroke-width="0.0"><rect x="58.333" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(251,128,114)" fill-opacity="1.0" stroke-width="0.0"><rect x="66.666" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(190,186,218)" fill-opacity="1.0" stroke-width="0.0"><rect x="75" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(255,255,179)" fill-opacity="1.0" stroke-width="0.0"><rect x="83.333" y="0" width="8.3" height="60"/></g>\n  <g fill="rgb(141,211,199)" fill-opacity="1.0" stroke-width="0.0"><rect x="91.666" y="0" width="8.3" height="60"/></g>\n</g>\n</svg>\n'},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(30),c=n(l),f=r(5),d=n(f),p=r(6),h=n(p),g=r(226),m=r(245),y=n(m),v=h["default"].findDOMNode,b=d["default"].DOM,w=b.div,x=(b.pre,1),D=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getTableSettings",value:function(e){if(null==e)return{};var t={rowsCount:e.row.length,hasRowNumericAxes:!!e.row[0].field,rowHeight:e.row[0].field?300:30,colWidth:e.col[0].field?300:e.row[0].field?60:100,headerHeight:Math.max(e.row[0].key.length>0?30:0,30*e.col[0].key.length),footerHeight:e.col[0].field?60:0,fixedQuantAxisWidth:120,fixedOrdinalAxisWidth:200};return _.extend(t,{bodyHeight:t.rowsCount*t.rowHeight,bodyWidth:e.col.length*t.colWidth,fixedWidth:e.row[0].key.length*t.fixedOrdinalAxisWidth+(e.row[0].field?t.fixedQuantAxisWidth:0)})}},{key:"render",value:function(){var e=this.props.axes,t=this.getTableSettings(e);return d["default"].createElement(T,a({},t,this.props))}}]),t}(d["default"].Component);t.TableContainer=D;var T=function(e){function t(e){var r=this;o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).call(this,e),this.state={renderTable:!1,width:500,height:500},_.extend(this,_(this).pick("_update","_onResize").mapValues(function(e){return e.bind(r)}).value())}return i(t,e),s(t,[{key:"componentDidMount",value:function(){this._update(),window.addEventListener("resize",this._onResize,!1)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._updateTimer),window.removeEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(this._update,16)}},{key:"_update",value:function(){var e=v(this),t=e.offsetWidth,r=e.offsetHeight;this.setState({renderTable:!0,width:t,height:this.getTableHeight(t,r)})}},{key:"getTableHeight",value:function(e,t){var r=this.props,n=r.headerHeight,o=r.footerHeight,i=r.bodyHeight,a=r.fixedWidth,s=r.bodyWidth;if(null==i)return t;var u=n+i+o+2*x,l=a+s;return l>e&&(u+=y["default"].SIZE),u>t&&(u=t),u}},{key:"getScaleFunction",value:function(e,t,r){if("__default__"==r)return function(e){return t["default"]};var n="time"==t.type?d3.time.scale().domain(_.map(t.domain,function(e){return new Date(e)})):d3.scale[t.type]().domain(t.domain);switch(e){case"row":return n.range([this.props.rowHeight,0]);case"col":return n.range([0,this.props.colWidth]);default:return n.range(t.range)}}},{key:"render",value:function(){var e=this,t=_.mapValues(this.props.scales,function(t,r){return _.mapValues(t,function(t,n){return e.getScaleFunction(r,t,n)})}),r=t?_(this.props.queryspec).map(function(e,r){return _.map(e,function(e){return{field:e,shelf:r,scale:t[r][e.accessor]}})}).flatten().value():null;return w({className:(0,c["default"])("container-flex-fill",{"table-no-header":0==this.props.headerHeight,"table-no-footer":0==this.props.footerHeight,"table-row-bottom-border":this.props.hasRowNumericAxes})},d["default"].createElement(g.TableLayout,a({},this.state,this.props,{fieldScales:r,visScales:t})))}}]),t}(d["default"].Component);t.TableResizeWrapper=T},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}};r(227),r(229);var l=r(5),c=n(l),f=r(9),d=n(f),p=r(231),h=n(p),g=r(198),m=c["default"].createFactory(r(281).Axis),y=c["default"].createFactory(r(282).Pane),v=h["default"].Table,b=h["default"].Column,w=h["default"].Cell,_=c["default"].createFactory(v),x=c["default"].createFactory(b),D=c["default"].createFactory(w),T=c["default"].DOM.div,O=function(){return""},k=function(e){var t=e.axisIndex,r=e.rowAxis,n=e.scaleLookup,i=e.markType;o(e,["axisIndex","rowAxis","scaleLookup","markType"]);return function(e){var a=e.rowIndex,s=e.height,u=e.width;o(e,["rowIndex","height","width"]);if("Q"==t){var l=r[a].field,c=l.accessor;return m({orient:"left",scale:n[c],name:c,field:l,height:s,width:u,markType:i})}return D({},T({className:"table-row-label"},r[a].key[t]))}},C=function(e){var t=e.paneData,r=e.colAxis,n=e.colIndex,i=e.rowAxisLookup,a=e.scales,s=e.fieldScales,u=e.markType;o(e,["paneData","colAxis","colIndex","rowAxisLookup","scales","fieldScales","markType"]);return function(e){var l=e.rowIndex,c=e.height,f=e.width,d=(o(e,["rowIndex","height","width"]),t[l][n]);return null==d?T({}):y({paneData:d,rowAxis:i[l],colAxis:r,width:f,height:c,markType:u,fieldScales:s,scales:a})}},E=function(e){var t=e.height,r=e.colAxis,n=e.colScaleLookup,i=e.markType;o(e,["height","colAxis","colScaleLookup","markType"]);return function(e){var a=(e.rowIndex,e.width),s=(o(e,["rowIndex","width"]),r.field),u=s.accessor;return m({scale:n[u],name:u,field:s,height:t,width:a,markType:i})}},S=function(e){function t(){i(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),s(t,[{key:"getFixedColumns",value:function(e,t){return e.map(function(e,r){var n="O"==e.algebraType;return x({fixed:!0,key:(0,g.getAccessorName)(e),width:n?t.fixedOrdinalAxisWidth:t.fixedQuantAxisWidth,header:D({},T({},n?e.name:"")),cell:k({markType:t.visualspec.table.type,axisIndex:r,rowAxis:t.axes.row,scaleLookup:t.visScales.row}),footer:O})})}},{key:"getScrollableColumns",value:function(e,t){return d["default"].map(e,function(e,r){return x({fixed:!1,key:r,width:t.colWidth,height:t.rowHeight,header:D({},T({},d["default"].map(e.key,function(e){return T({key:e},e)}))),cell:C({paneData:t.panes,colIndex:r,colAxis:e,rowAxisLookup:t.axes.row,markType:t.visualspec.table.type,scales:t.visScales,fieldScales:t.fieldScales}),footer:E({colAxis:e,colScaleLookup:t.visScales.col,height:t.footerHeight,markType:t.visualspec.table.type}),allowCellsRecycling:!0})})}},{key:"render",value:function(){var e=this.props,t=e.renderTable,r=e.width,n=e.height,o=e.rowHeight,i=e.rowsCount,a=e.headerHeight,s=e.footerHeight,u=e.error,l=e.result,c=e.queryspec,f=e.axes;return!t||u||null==c||null==l?T({},(u?"Error: ":"")+"No Chart"):_({width:r,maxHeight:n,height:n,rowHeight:o,rowsCount:i,headerHeight:a,footerHeight:s},this.getFixedColumns(f.row[0],this.props),this.getScrollableColumns(f.col,this.props))}}]),t}(c["default"].Component);t.TableLayout=S},function(e,t,r){var n=r(228);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,".public_Scrollbar_main.public_Scrollbar_mainActive,.public_Scrollbar_main:hover{background-color:hsla(0,0%,100%,.8)}.public_Scrollbar_mainOpaque,.public_Scrollbar_mainOpaque.public_Scrollbar_mainActive,.public_Scrollbar_mainOpaque:hover{background-color:#fff}.public_Scrollbar_face:after{background-color:#c2c2c2}.public_Scrollbar_faceActive:after,.public_Scrollbar_main:hover .public_Scrollbar_face:after,.public_Scrollbar_mainActive .public_Scrollbar_face:after{background-color:#7d7d7d}.public_fixedDataTable_hasBottomBorder,.public_fixedDataTable_header,.public_fixedDataTable_main{border-color:#d3d3d3}.public_fixedDataTable_header .public_fixedDataTableCell_main{font-weight:700}.public_fixedDataTable_header,.public_fixedDataTable_header .public_fixedDataTableCell_main{background-color:#f6f7f8;background-image:-webkit-linear-gradient(#fff,#efefef);background-image:linear-gradient(#fff,#efefef)}.public_fixedDataTable_footer .public_fixedDataTableCell_main{background-color:#f6f7f8;border-color:#d3d3d3}.public_fixedDataTable_topShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAF0lEQVR4AWPUkNeSBhHCjJoK2twgFisAFagCCp3pJlAAAAAASUVORK5CYII=) repeat-x}.public_fixedDataTable_bottomShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAHElEQVQI12MwNjZmZdAT1+Nm0JDWEGZQk1GTBgAWkwIeAEp52AAAAABJRU5ErkJggg==) repeat-x}.public_fixedDataTable_horizontalScrollbar .public_Scrollbar_mainHorizontal{background-color:#fff}.public_fixedDataTableCell_main{background-color:#fff;border-color:#d3d3d3}.public_fixedDataTableCell_highlighted{background-color:#f4f4f4}.public_fixedDataTableCell_cellContent{padding:8px}.public_fixedDataTableCell_columnResizerKnob{background-color:#0284ff}.public_fixedDataTableColumnResizerLine_main{border-color:#0284ff}.public_fixedDataTableRow_main{background-color:#fff}.public_fixedDataTableRow_highlighted,.public_fixedDataTableRow_highlighted .public_fixedDataTableCell_main{background-color:#f6f7f8}.public_fixedDataTableRow_fixedColumnsDivider{border-color:#d3d3d3}.public_fixedDataTableRow_columnsShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==) repeat-y}.ScrollbarLayout_main{box-sizing:border-box;outline:none;overflow:hidden;position:absolute;-webkit-transition-duration:.25s;transition-duration:.25s;-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ScrollbarLayout_mainVertical{bottom:0;right:0;top:0;-webkit-transition-property:background-color width;transition-property:background-color width;width:15px}.ScrollbarLayout_mainVertical.public_Scrollbar_mainActive,.ScrollbarLayout_mainVertical:hover{width:17px}.ScrollbarLayout_mainHorizontal{bottom:0;height:15px;left:0;-webkit-transition-property:background-color height;transition-property:background-color height}.ScrollbarLayout_mainHorizontal.public_Scrollbar_mainActive,.ScrollbarLayout_mainHorizontal:hover{height:17px}.ScrollbarLayout_face{left:0;overflow:hidden;position:absolute;z-index:1}.ScrollbarLayout_face:after{border-radius:6px;content:'';display:block;position:absolute;-webkit-transition:background-color .25s ease;transition:background-color .25s ease}.ScrollbarLayout_faceHorizontal{bottom:0;left:0;top:0}.ScrollbarLayout_faceHorizontal:after{bottom:4px;left:0;top:4px;width:100%}.ScrollbarLayout_faceVertical{left:0;right:0;top:0}.ScrollbarLayout_faceVertical:after{height:100%;left:4px;right:4px;top:0}.fixedDataTableCellGroupLayout_cellGroup{-webkit-backface-visibility:hidden;backface-visibility:hidden;left:0;overflow:hidden;position:absolute;top:0;white-space:nowrap}.fixedDataTableCellGroupLayout_cellGroup>.public_fixedDataTableCell_main{display:inline-block;vertical-align:top;white-space:normal}.fixedDataTableCellGroupLayout_cellGroupWrapper{position:absolute;top:0}.fixedDataTableCellLayout_main{border-right-style:solid;border-right-width:1px;border-width:0 1px 0 0;box-sizing:border-box;display:block;overflow:hidden;position:absolute;white-space:normal}.fixedDataTableCellLayout_lastChild{border-width:0 1px 1px 0}.fixedDataTableCellLayout_alignRight{text-align:right}.fixedDataTableCellLayout_alignCenter{text-align:center}.fixedDataTableCellLayout_wrap1{display:table}.fixedDataTableCellLayout_wrap2{display:table-row}.fixedDataTableCellLayout_wrap3{display:table-cell;vertical-align:middle}.fixedDataTableCellLayout_columnResizerContainer{position:absolute;right:0;width:6px;z-index:1}.fixedDataTableCellLayout_columnResizerContainer:hover{cursor:ew-resize}.fixedDataTableCellLayout_columnResizerContainer:hover .fixedDataTableCellLayout_columnResizerKnob{visibility:visible}.fixedDataTableCellLayout_columnResizerKnob{position:absolute;right:0;visibility:hidden;width:4px}.fixedDataTableColumnResizerLineLayout_mouseArea{cursor:ew-resize;position:absolute;right:-5px;width:12px}.fixedDataTableColumnResizerLineLayout_main{border-right-style:solid;border-right-width:1px;box-sizing:border-box;position:absolute;z-index:10}.fixedDataTableColumnResizerLineLayout_hiddenElem,body[dir=rtl] .fixedDataTableColumnResizerLineLayout_main{display:none!important}.fixedDataTableLayout_main{border-style:solid;border-width:1px;box-sizing:border-box;overflow:hidden;position:relative}.fixedDataTableLayout_hasBottomBorder,.fixedDataTableLayout_header{border-bottom-style:solid;border-bottom-width:1px}.fixedDataTableLayout_footer .public_fixedDataTableCell_main{border-top-style:solid;border-top-width:1px}.fixedDataTableLayout_bottomShadow,.fixedDataTableLayout_topShadow{height:4px;left:0;position:absolute;right:0;z-index:1}.fixedDataTableLayout_bottomShadow{margin-top:-4px}.fixedDataTableLayout_rowsContainer{overflow:hidden;position:relative}.fixedDataTableLayout_horizontalScrollbar{bottom:0;position:absolute}.fixedDataTableRowLayout_main{box-sizing:border-box;overflow:hidden;position:absolute;top:0}.fixedDataTableRowLayout_body{left:0;position:absolute;top:0}.fixedDataTableRowLayout_fixedColumnsDivider{-webkit-backface-visibility:hidden;backface-visibility:hidden;border-left-style:solid;border-left-width:1px;left:0;position:absolute;top:0;width:0}.fixedDataTableRowLayout_columnsShadow{width:4px}.fixedDataTableRowLayout_rowWrapper{position:absolute;top:0}",""])},function(e,t,r){var n=r(230);"string"==typeof n&&(n=[[e.id,n,""]]);r(4)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(3)(),t.push([e.id,".remove-link{color:#999}.remove-link:hover{color:#f18794;text-decoration:none}.public_fixedDataTable_header,.public_fixedDataTable_header .public_fixedDataTableCell_main{background-color:#fff;background-image:none}.public_fixedDataTable_footer .public_fixedDataTableCell_main,.public_fixedDataTableRow_highlighted,.public_fixedDataTableRow_highlighted .public_fixedDataTableCell_main{background-color:#fff}.public_fixedDataTable_footer .public_fixedDataTableCell_main,.public_fixedDataTableCell_main,.public_fixedDataTableRow_fixedColumnsDivider{border-color:#dfdfdf}.public_fixedDataTable_header .public_fixedDataTableCell_main{font-weight:initial}.public_fixedDataTableRow_main.public_fixedDataTable_hasBottomBorder [data-reactid$=fixed_cells] .public_fixedDataTableCell_main,.public_fixedDataTableRow_main .public_fixedDataTableCell_axis.public_fixedDataTableCell_main,.table-no-footer .public_fixedDataTableRow_main .public_fixedDataTableCell_main,.table-row-bottom-border .public_fixedDataTableRow_main .public_fixedDataTableCell_main{border-bottom-style:solid;border-bottom-width:1px}.public_fixedDataTable_header .fixedDataTableCellLayout_wrap3{vertical-align:bottom}.public_fixedDataTable_footer .fixedDataTableCellLayout_wrap3,.public_fixedDataTableCell_axis .fixedDataTableCellLayout_wrap3{vertical-align:top}.public_fixedDataTableCell_cellContent{padding:0 4px}.public_fixedDataTable_hasBottomBorder,.public_fixedDataTable_main,.public_fixedDataTableRow_fixedColumnsDivider,.table-no-header .public_fixedDataTable_header{border:none}.public_fixedDataTable_footer .fixedDataTableCellLayout_main.public_fixedDataTableCell_main,.public_fixedDataTable_footer .public_fixedDataTableRow_fixedColumnsDivider,.public_fixedDataTable_header .public_fixedDataTableCell_main,.public_fixedDataTable_header .public_fixedDataTableRow_fixedColumnsDivider{border-left:none;border-right:none;border-top:none}.public_fixedDataTable_footer .fixedDataTableCellLayout_main.public_fixedDataTableCell_main,.public_fixedDataTable_footer .public_fixedDataTableRow_fixedColumnsDivider{border-bottom:none}.public_fixedDataTable_header .public_fixedDataTableCell_main{text-align:left;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.public_fixedDataTable_header [data-reactid$=fixed_cells] .public_fixedDataTableCell_main{text-align:left}.public_fixedDataTableCell_main:not(.public_fixedDataTableCell_axis) .table-row-label.public_fixedDataTableCell_cellContent{text-align:right;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}",""])},function(e,t,r){e.exports=r(232)},function(e,t,r){"use strict";var n=r(233),o=r(270),i=r(268),a=r(267),s={Cell:o,Column:i,ColumnGroup:a,Table:n};s.version="0.6.0",e.exports=s},function(e,t,r){(function(t){"use strict";function n(e,r){"production"!==t.env.NODE_ENV&&(g[e]||(console.warn("`"+e+"` will be DEPRECATED in version "+d+" of FixedDataTable and beyond. \n"+r+"\nRead the docs at: "+p),g[e]=!0))}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(234),a=i.Children,s=i.PropTypes,u=r(235),l=r(278),c=r(279),f=r(280),d="0.7.0",p="https://fburl.com/FixedDataTable-v0.6",h={},g={},m=i.createClass({displayName:"TransitionTable",propTypes:{width:s.number.isRequired,height:s.number,maxHeight:s.number,ownerHeight:s.number,overflowX:s.oneOf(["hidden","auto"]),overflowY:s.oneOf(["hidden","auto"]),rowsCount:s.number.isRequired,rowHeight:s.number.isRequired,rowHeightGetter:s.func,rowGetter:s.func,rowClassNameGetter:s.func,groupHeaderHeight:s.number,headerHeight:s.number.isRequired,headerDataGetter:s.func,footerHeight:s.number,footerData:s.oneOfType([s.object,s.array]),footerDataGetter:s.func,scrollLeft:s.number,scrollToColumn:s.number,scrollTop:s.number,scrollToRow:s.number,onScrollStart:s.func,onScrollEnd:s.func,onContentHeightChange:s.func,onRowClick:s.func,onRowDoubleClick:s.func,onRowMouseDown:s.func,onRowMouseEnter:s.func,onRowMouseLeave:s.func,onColumnResizeEndCallback:s.func,isColumnResizing:s.bool},getInitialState:function(){var e={};return e.needsMigration=this._checkDeprecations(),e},_checkDeprecations:function(){var e=!1;return this.props.rowGetter&&(n("rowGetter","Please use the cell API in Column to fetch data for your cells."),e=!0),this.props.headerDataGetter&&n("headerDataGetter","Please use the header API in Column to fetch data for your header cells."),this.props.footerData&&n("footerData","Please use the footer API in Column to fetch data for your footer cells."),this.props.footerDataGetter&&n("footerDataGetter","Please use the footer API in Column to fetch data for your footer cells."),a.forEach(this.props.children,function(e){if(e&&e.props){var t=e.props;t.label&&n("label","Please use `header` instead."),t.dataKey&&n("dataKey","Please use the `cell` API to pass in a dataKey"),t.cellRenderer&&n("cellRenderer","Please use the `cell` API to pass in a React Element instead."),t.headerRenderer&&n("headerRenderer","Please use the `header` API to pass in a React Element instead."),t.columnData&&n("columnData","Please pass data in through props to your header, cell or footer."),t.groupHeaderRenderer&&n("groupHeaderRenderer","Please use the `header` API in ColumnGroup to pass in a React Element instead of a function that creates one."),t.groupHeaderData&&n("groupHeaderData","Please pass in any data through props to your header.")}}),e},_onRowAction:function(e,t){return t?function(r,n){t(r,n,e.rowGetter&&e.rowGetter(n)||h)}:void 0},_transformColumn:function(e,t,r){var n=e.props;return e.type.__TableColumn__?i.createElement(l,o({key:"column_"+r},n,{header:i.createElement(f,{isHeaderCell:!0,label:n.label,width:n.width,dataKey:n.dataKey,className:n.headerClassName,columnData:n.columnData||h,cellRenderer:n.headerRenderer,headerDataGetter:t.headerDataGetter}),columnKey:n.dataKey,cell:i.createElement(f,{dataKey:n.dataKey,className:n.cellClassName,
rowGetter:t.rowGetter,width:n.width,columnData:n.columnData||h,cellDataGetter:n.cellDataGetter,cellRenderer:n.cellRenderer}),footer:i.createElement(f,{isFooterCell:!0,className:n.footerClassName,dataKey:n.dataKey,cellRenderer:n.footerRenderer,footerDataGetter:t.footerDataGetter,footerData:t.footerData||h})})):void 0},_transformColumnGroup:function(e,t,r,n){var s=this,u=e.props,l=0,d=a.map(u.children,function(e){return l++,s._transformColumn(e,t,r+"_"+l)});return i.createElement(c,o({},u,{key:"group_"+r,header:i.createElement(f,{isHeaderCell:!0,label:e.props.label,dataKey:r,groupHeaderRenderer:u.groupHeaderRenderer,groupHeaderLabels:n,groupHeaderData:u.columnGroupData||h})}),d)},_convertedColumns:function(e){var t=this;if(!e)return a.map(this.props.children,function(e){return e?e.type.__TableColumn__?i.createElement(l,e.props):e.type.__TableColumnGroup__?i.createElement(c,e.props):void 0:null});var r=this.props,n=0;return a.map(this.props.children,function(e){if(!e)return null;if(e.type.__TableColumn__&&(e=t._transformColumn(e,r,n)),e.type.__TableColumnGroup__){var o=[];a.forEach(t.props.children,function(e){o.push(e.props.label)}),e=t._transformColumnGroup(e,r,n,o)}return n++,e})},render:function(){var e=this.props;return i.createElement(u,o({},e,{onRowMouseDown:this._onRowAction(e,e.onRowMouseDown),onRowClick:this._onRowAction(e,e.onRowClick),onRowDoubleClick:this._onRowAction(e,e.onRowDoubleClick),onRowMouseEnter:this._onRowAction(e,e.onRowMouseEnter),onRowMouseLeave:this._onRowAction(e,e.onRowMouseLeave)}),this._convertedColumns(this.state.needsMigration))}});e.exports=m}).call(t,r(15))},function(e,t,r){"use strict";e.exports=r(5)},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(234),i=r(236),a=r(237),s=r(245),u=r(258),l=r(272),c=r(263),f=r(273),d=r(275),p=r(252),h=r(276),g=r(238),m=r(257),y=r(271),v=r(277),b=r(253),w=o.PropTypes,_=o.Children,x={},D=1,T="header",O="footer",k="cell",C=o.createClass({displayName:"FixedDataTable",propTypes:{width:w.number.isRequired,height:w.number,maxHeight:w.number,ownerHeight:w.number,overflowX:w.oneOf(["hidden","auto"]),overflowY:w.oneOf(["hidden","auto"]),rowsCount:w.number.isRequired,rowHeight:w.number.isRequired,rowHeightGetter:w.func,rowClassNameGetter:w.func,groupHeaderHeight:w.number,headerHeight:w.number.isRequired,footerHeight:w.number,scrollLeft:w.number,scrollToColumn:w.number,scrollTop:w.number,scrollToRow:w.number,onScrollStart:w.func,onScrollEnd:w.func,onContentHeightChange:w.func,onRowClick:w.func,onRowDoubleClick:w.func,onRowMouseDown:w.func,onRowMouseEnter:w.func,onRowMouseLeave:w.func,onColumnResizeEndCallback:w.func,isColumnResizing:w.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var e=this.props,t=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);return this._scrollHelper=new f(e.rowsCount,e.rowHeight,t,e.rowHeightGetter),e.scrollTop&&this._scrollHelper.scrollTo(e.scrollTop),this._didScrollStop=h(this._didScrollStop,200,this),this._calculateState(this.props)},componentWillMount:function(){var e=this.props.scrollToRow;void 0!==e&&null!==e&&(this._rowToScrollTo=e);var t=this.props.scrollToColumn;void 0!==t&&null!==t&&(this._columnToScrollTo=t),this._wheelHandler=new a(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(e){return"hidden"===this.props.overflowX?!1:(e=Math.round(e),0===e?!1:0>e&&this.state.scrollX>0||e>=0&&this.state.scrollX<this.state.maxScrollX)},_shouldHandleWheelY:function(e){return"hidden"===this.props.overflowY||0===e?!1:(e=Math.round(e),0===e?!1:0>e&&this.state.scrollY>0||e>=0&&this.state.scrollY<this.state.maxScrollY)},_reportContentHeight:function(){var e,t=this.state.scrollContentHeight,r=this.state.reservedHeight,n=t+r,o=void 0===this.props.height;e=o&&this.props.maxHeight>n?n:this.state.height>n&&this.props.ownerHeight?Math.max(n,this.props.ownerHeight):this.state.height+this.state.maxScrollY,e!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(e),this._contentHeight=e},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(e){var t=e.scrollToRow;void 0!==t&&null!==t&&(this._rowToScrollTo=t);var r=e.scrollToColumn;void 0!==r&&null!==r&&(this._columnToScrollTo=r);var n=e.overflowX,o=e.overflowY;(n!==this.props.overflowX||o!==this.props.overflowY)&&(this._wheelHandler=new a(this._onWheel,"hidden"!==n,"hidden"!==o)),(this.props.ownerHeight!==e.ownerHeight||this.props.scrollTop!==e.scrollTop)&&this._didScrollStart(),this._didScrollStop(),this.setState(this._calculateState(e,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var e,t=this.state,r=this.props;t.useGroupHeader&&(e=o.createElement(c,{key:"group_header",isScrolling:this._isScrolling,className:y(p("fixedDataTableLayout/header"),p("public/fixedDataTable/header")),width:t.width,height:t.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:t.scrollX,fixedColumns:t.groupHeaderFixedColumns,scrollableColumns:t.groupHeaderScrollableColumns,onColumnResize:this._onColumnResize}));var n=this.state.maxScrollY,i=t.maxScrollX>0&&"hidden"!==t.overflowX,a=n>0&&"hidden"!==t.overflowY,u=i?s.SIZE:0,f=t.height-u-2*D-t.footerHeight,d=t.useGroupHeader?t.groupHeaderHeight:0,h=d+t.headerHeight;f-=h;var g=0,m=null!=r.maxHeight?h+t.bodyHeight:h+f,v=m+t.footerHeight;void 0!==r.ownerHeight&&r.ownerHeight<t.height&&(g=r.ownerHeight-t.height,m=Math.min(m,r.ownerHeight-t.footerHeight-u),f=Math.max(0,m-h));var b;a&&(b=o.createElement(s,{size:f,contentSize:f+n,onScroll:this._onVerticalScroll,verticalTop:h,position:t.scrollY}));var w;if(i){var _=t.width;w=o.createElement(E,{contentSize:_+t.maxScrollX,offset:g,onScroll:this._onHorizontalScroll,position:t.scrollX,size:_})}var x=o.createElement(l,{height:t.height,initialWidth:t.columnResizingData.width||0,minWidth:t.columnResizingData.minWidth||0,maxWidth:t.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!t.isColumnResizing,leftOffset:t.columnResizingData.left||0,knobHeight:t.headerHeight,initialEvent:t.columnResizingData.initialEvent,onColumnResizeEnd:r.onColumnResizeEndCallback,columnKey:t.columnResizingData.key}),T=null;t.footerHeight&&(T=o.createElement(c,{key:"footer",isScrolling:this._isScrolling,className:y(p("fixedDataTableLayout/footer"),p("public/fixedDataTable/footer")),width:t.width,height:t.footerHeight,index:-1,zIndex:1,offsetTop:m,fixedColumns:t.footFixedColumns,scrollableColumns:t.footScrollableColumns,scrollLeft:t.scrollX}));var O,k,C=this._renderRows(h),S=o.createElement(c,{key:"header",isScrolling:this._isScrolling,className:y(p("fixedDataTableLayout/header"),p("public/fixedDataTable/header")),width:t.width,height:t.headerHeight,index:-1,zIndex:1,offsetTop:d,scrollLeft:t.scrollX,fixedColumns:t.headFixedColumns,scrollableColumns:t.headScrollableColumns,onColumnResize:this._onColumnResize});return t.scrollY&&(O=o.createElement("div",{className:y(p("fixedDataTableLayout/topShadow"),p("public/fixedDataTable/topShadow")),style:{top:h}})),(null!=t.ownerHeight&&t.ownerHeight<t.height&&t.scrollContentHeight+t.reservedHeight>t.ownerHeight||t.scrollY<n)&&(k=o.createElement("div",{className:y(p("fixedDataTableLayout/bottomShadow"),p("public/fixedDataTable/bottomShadow")),style:{top:m}})),o.createElement("div",{className:y(p("fixedDataTableLayout/main"),p("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:t.height,width:t.width}},o.createElement("div",{className:p("fixedDataTableLayout/rowsContainer"),style:{height:v,width:t.width}},x,e,S,C,T,O,k),b,w)},_renderRows:function(e){var t=this.state;return o.createElement(u,{isScrolling:this._isScrolling,defaultRowHeight:t.rowHeight,firstRowIndex:t.firstRowIndex,firstRowOffset:t.firstRowOffset,fixedColumns:t.bodyFixedColumns,height:t.bodyHeight,offsetTop:e,onRowClick:t.onRowClick,onRowDoubleClick:t.onRowDoubleClick,onRowMouseDown:t.onRowMouseDown,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,rowClassNameGetter:t.rowClassNameGetter,rowsCount:t.rowsCount,rowGetter:t.rowGetter,rowHeightGetter:t.rowHeightGetter,scrollLeft:t.scrollX,scrollableColumns:t.bodyScrollableColumns,showLastRowBorder:!0,width:t.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(e,t,r,n,o,i,a){this.setState({isColumnResizing:!0,columnResizingData:{left:t+e-r,width:r,minWidth:n,maxWidth:o,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:g},key:i}})},_areColumnSettingsIdentical:function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!v(e[r].props,t[r].props))return!1;return!0},_populateColumnsAndColumnData:function(e,t,r){var n=!1,o=!1;r&&r.columns&&(n=this._areColumnSettingsIdentical(e,r.columns)),r&&r.columnGroups&&t&&(o=this._areColumnSettingsIdentical(t,r.columnGroups));var i={};if(n)i.bodyFixedColumns=r.bodyFixedColumns,i.bodyScrollableColumns=r.bodyScrollableColumns,i.headFixedColumns=r.headFixedColumns,i.headScrollableColumns=r.headScrollableColumns,i.footFixedColumns=r.footFixedColumns,i.footScrollableColumns=r.footScrollableColumns;else{var a=this._splitColumnTypes(e);i.bodyFixedColumns=a.fixed,i.bodyScrollableColumns=a.scrollable;var s=this._splitColumnTypes(this._selectColumnElement(T,e));i.headFixedColumns=s.fixed,i.headScrollableColumns=s.scrollable;var u=this._splitColumnTypes(this._selectColumnElement(O,e));i.footFixedColumns=u.fixed,i.footScrollableColumns=u.scrollable}if(o)i.groupHeaderFixedColumns=r.groupHeaderFixedColumns,i.groupHeaderScrollableColumns=r.groupHeaderScrollableColumns;else if(t){var l=this._splitColumnTypes(this._selectColumnElement(T,t));i.groupHeaderFixedColumns=l.fixed,i.groupHeaderScrollableColumns=l.scrollable}return i},_calculateState:function(e,t){m(void 0!==e.height||void 0!==e.maxHeight,"You must set either a height or a maxHeight");var r=[];_.forEach(e.children,function(e,t){null!=e&&(m(e.type.__TableColumnGroup__||e.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),r.push(e))});var o=!1;r.length&&r[0].type.__TableColumnGroup__&&(o=!0);var i,a,u=t&&t.firstRowIndex||0,l=t&&t.firstRowOffset||0;i=t&&"hidden"!==e.overflowX?t.scrollX:e.scrollLeft,t&&"hidden"!==e.overflowY?a=t.scrollY:(h=this._scrollHelper.scrollTo(e.scrollTop),u=h.index,l=h.offset,a=h.position),void 0!==this._rowToScrollTo&&(h=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo),u=h.index,l=h.offset,a=h.position,delete this._rowToScrollTo);var c=o?e.groupHeaderHeight:0;if(t&&e.rowsCount!==t.rowsCount){var p=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);this._scrollHelper=new f(e.rowsCount,e.rowHeight,p,e.rowHeightGetter);var h=this._scrollHelper.scrollToRow(u,l);u=h.index,l=h.offset,a=h.position}else t&&e.rowHeightGetter!==t.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(e.rowHeightGetter);var g;g=e.isColumnResizing?t&&t.columnResizingData:x;var y,v;if(o){var b=d.adjustColumnGroupWidths(r,e.width);y=b.columns,v=b.columnGroups}else y=d.adjustColumnWidths(r,e.width);var w=this._populateColumnsAndColumnData(y,v,t);if(void 0!==this._columnToScrollTo){var T=w.bodyFixedColumns.length;if(this._columnToScrollTo>=T){var O,k,C=0;for(O=0;O<w.bodyFixedColumns.length;++O)k=w.bodyFixedColumns[O],C+=k.props.width;var E=Math.min(this._columnToScrollTo-T,w.bodyScrollableColumns.length-1),S=0;for(O=0;E>O;++O)k=w.bodyScrollableColumns[O],S+=k.props.width;var R=e.width-C,M=w.bodyScrollableColumns[E].props.width,A=S+M-R;A>i&&(i=A),i>S&&(i=S)}delete this._columnToScrollTo}var P=void 0===e.height,I=Math.round(P?e.maxHeight:e.height),N=e.footerHeight+e.headerHeight+c+2*D,j=I-N,F=this._scrollHelper.getContentHeight(),L=F+N,H=d.getTotalWidth(y),q=H>e.width&&"hidden"!==e.overflowX;q&&(j-=s.SIZE,L+=s.SIZE,N+=s.SIZE);var z=Math.max(0,H-e.width),B=Math.max(0,F-j);i=Math.min(i,z),a=Math.min(a,B),B||(P&&(I=L),j=L-N),this._scrollHelper.setViewportHeight(j);var U=n({isColumnResizing:t&&t.isColumnResizing},w,e,{columns:y,columnGroups:v,columnResizingData:g,firstRowIndex:u,firstRowOffset:l,horizontalScrollbarVisible:q,maxScrollX:z,maxScrollY:B,reservedHeight:N,scrollContentHeight:F,scrollX:i,scrollY:a,bodyHeight:j,height:I,groupHeaderHeight:c,useGroupHeader:o});return U},_selectColumnElement:function(e,t){for(var r=[],n=0;n<t.length;++n){var i=t[n];r.push(o.cloneElement(i,{cell:e?i.props[e]:i.props[k]}))}return r},_splitColumnTypes:function(e){for(var t=[],r=[],n=0;n<e.length;++n)e[n].props.fixed?t.push(e[n]):r.push(e[n]);return{fixed:t,scrollable:r}},_onWheel:function(e,t){if(this.isMounted()){this._isScrolling||this._didScrollStart();var r=this.state.scrollX;if(Math.abs(t)>Math.abs(e)&&"hidden"!==this.props.overflowY){var n=this._scrollHelper.scrollBy(Math.round(t)),o=Math.max(0,n.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:n.index,firstRowOffset:n.offset,scrollY:n.position,scrollContentHeight:n.contentHeight,maxScrollY:o})}else e&&"hidden"!==this.props.overflowX&&(r+=e,r=0>r?0:r,r=r>this.state.maxScrollX?this.state.maxScrollX:r,this.setState({scrollX:r}));this._didScrollStop()}},_onHorizontalScroll:function(e){this.isMounted()&&e!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:e}),this._didScrollStop())},_onVerticalScroll:function(e){if(this.isMounted()&&e!==this.state.scrollY){this._isScrolling||this._didScrollStart();var t=this._scrollHelper.scrollTo(Math.round(e));this.setState({firstRowIndex:t.index,firstRowOffset:t.offset,scrollY:t.position,scrollContentHeight:t.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.setState({redraw:!0}),this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),E=o.createClass({displayName:"HorizontalScrollbar",mixins:[i],propTypes:{contentSize:w.number.isRequired,offset:w.number.isRequired,onScroll:w.func.isRequired,position:w.number.isRequired,size:w.number.isRequired},render:function(){var e={height:s.SIZE,width:this.props.size},t={height:s.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return b(t,0,this.props.offset),o.createElement("div",{className:y(p("fixedDataTableLayout/horizontalScrollbar"),p("public/fixedDataTable/horizontalScrollbar")),style:e},o.createElement("div",{style:t},o.createElement(s,n({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});e.exports=C},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r;for(r in e)if(e.hasOwnProperty(r)&&(!t.hasOwnProperty(r)||e[r]!==t[r]))return!1;for(r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}var n={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(238),a=r(239),s=r(243),u=function(){function e(t,r,o,a){n(this,e),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!=typeof r&&(r=r?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof o&&(o=o?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof a&&(a=a?i.thatReturnsTrue:i.thatReturnsFalse),this._handleScrollX=r,this._handleScrollY=o,this._stopPropagation=a,this._onWheelCallback=t,this.onWheel=this.onWheel.bind(this)}return o(e,[{key:"onWheel",value:function(e){var t=a(e),r=this._deltaX+t.pixelX,n=this._deltaY+t.pixelY,o=this._handleScrollX(r,n),i=this._handleScrollY(n,r);if(o||i){this._deltaX+=o?t.pixelX:0,this._deltaY+=i?t.pixelY:0,e.preventDefault();var u;(0!==this._deltaX||0!==this._deltaY)&&(this._stopPropagation()&&e.stopPropagation(),u=!0),u===!0&&null===this._animationFrameID&&(this._animationFrameID=s(this._didWheel))}}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),e}();e.exports=u},function(e,t){"use strict";function r(e){return function(){return e}}function n(){}n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";function n(e){var t=0,r=0,n=0,o=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*a,o=r*a,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1==e.deltaMode?(n*=s,o*=s):(n*=u,o*=u)),n&&!t&&(t=1>n?-1:1),o&&!r&&(r=1>o?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:o}}var o=r(240),i=r(241),a=10,s=40,u=800;n.getEventType=function(){return o.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},e.exports=n},function(e,t){"use strict";function r(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),g=/\b(iP[ao]d)/.exec(e),d=/Android/i.exec(e),m=/FBAN\/\w+;/i.exec(e),y=/Mobile/i.exec(e),p=!!/Win64/.exec(e),t){n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);u=b?parseFloat(b[1])+4:n,o=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,a=t[4]?parseFloat(t[4]):NaN,a?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),s=t&&t[1]?parseFloat(t[1]):NaN):s=NaN}else n=o=i=s=a=NaN;if(r){if(r[1]){var w=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l=w?parseFloat(w[1].replace("_",".")):!0}else l=!1;c=!!r[2],f=!!r[3]}else l=c=f=!1}}var n,o,i,a,s,u,l,c,f,d,p,h,g,m,y,v=!1,b={ie:function(){return r()||n},ieCompatibilityMode:function(){return r()||u>n},ie64:function(){return b.ie()&&p},firefox:function(){return r()||o},opera:function(){return r()||i},webkit:function(){return r()||a},safari:function(){return b.webkit()},chrome:function(){return r()||s},windows:function(){return r()||c},osx:function(){return r()||l},linux:function(){return r()||f},iphone:function(){return r()||h},mobile:function(){return r()||h||g||d||y},nativeApp:function(){return r()||m},android:function(){return r()||d},ipad:function(){return r()||g}};e.exports=b},function(e,t,r){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var a=document.createElement("div");a.setAttribute(r,"return;"),n="function"==typeof a[r]}return!n&&o&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var o,i=r(242);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=n},function(e,t,r){(function(t){"use strict";var n=r(238),o=r(244),i=0,a=o||function(e){var r=Date.now(),n=Math.max(0,16-(r-i));return i=r+n,t.setTimeout(function(){e(Date.now())},n)};a(n),e.exports=a}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame;e.exports=r}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(246),o=r(249),i=r(234),a=r(250),s=r(236),u=r(237),l=r(251),c=r(252),f=r(238),d=r(253),p=i.PropTypes,h={position:0,scrollable:!1},g=parseInt(l("scrollbar-face-margin"),10),m=2*g,y=30,v=40,b=null,w=i.createClass({displayName:"Scrollbar",mixins:[s],propTypes:{contentSize:p.number.isRequired,defaultPosition:p.number,isOpaque:p.bool,orientation:p.oneOf(["vertical","horizontal"]),onScroll:p.func,position:p.number,size:p.number.isRequired,trackColor:p.oneOf(["gray"]),zIndex:p.number,verticalTop:p.number},getInitialState:function(){var e=this.props;return this._calculateState(e.position||e.defaultPosition||0,e.size,e.contentSize,e.orientation)},componentWillReceiveProps:function(e){var t=e.position;void 0===t?this._setNextState(this._calculateState(this.state.position,e.size,e.contentSize,e.orientation)):this._setNextState(this._calculateState(t,e.size,e.contentSize,e.orientation),e)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:f,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var e,t,r=this.props.size,n=this.state.isHorizontal,o=!n,a=this.state.focused||this.state.isDragging,s=this.state.faceSize,u=this.props.isOpaque,f=this.props.verticalTop||0,p=c({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":o,"ScrollbarLayout/mainHorizontal":n,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":u,"public/Scrollbar/mainActive":a}),h=c({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":n,"ScrollbarLayout/faceVertical":o,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),y=this.state.position*this.state.scale+g;return n?(e={width:r},t={width:s-m},d(t,y,0)):(e={top:f,height:r},t={height:s-m},d(t,0,y)),e.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(e.backgroundColor=l("fbui-desktop-background-light")),i.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:p,style:e,tabIndex:0},i.createElement("div",{ref:"face",className:h,style:t}))},componentWillMount:function(){var e="horizontal"===this.props.orientation,t=e?this._onWheelX:this._onWheelY;this._wheelHandler=new u(t,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new n(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),b===this&&(b=null),delete this._mouseMoveTracker},scrollBy:function(e){this._onWheel(e)},_shouldHandleX:function(e){return"horizontal"===this.props.orientation?this._shouldHandleChange(e):!1},_shouldHandleY:function(e){return"horizontal"!==this.props.orientation?this._shouldHandleChange(e):!1},_shouldHandleChange:function(e){var t=this._calculateState(this.state.position+e,this.props.size,this.props.contentSize,this.props.orientation);return t.position!==this.state.position},_calculateState:function(e,t,r,n){if(1>t||t>=r)return h;var o=""+e+"_"+t+"_"+r+"_"+n;if(this._stateKey===o)return this._stateForKey;var i="horizontal"===n,a=t/r,s=t*a;y>s&&(a=(t-y)/(r-t),s=y);var u=!0,l=r-t;0>e?e=0:e>l&&(e=l);var c=this._mouseMoveTracker?this._mouseMoveTracker.isDragging():!1,f={faceSize:s,isDragging:c,isHorizontal:i,position:e,scale:a,scrollable:u};return this._stateKey=o,this._stateForKey=f,f},_onWheelY:function(e,t){this._onWheel(t)},_onWheelX:function(e,t){this._onWheel(e)},_onWheel:function(e){var t=this.props;this._setNextState(this._calculateState(this.state.position+e,t.size,t.contentSize,t.orientation))},_onMouseDown:function(e){var t;if(e.target!==a.findDOMNode(this.refs.face)){var r=e.nativeEvent,n=this.state.isHorizontal?r.offsetX||r.layerX:r.offsetY||r.layerY,o=this.props;n/=this.state.scale,t=this._calculateState(n-.5*this.state.faceSize/this.state.scale,o.size,o.contentSize,o.orientation)}else t={};t.focused=!0,this._setNextState(t),this._mouseMoveTracker.captureMouseMoves(e),a.findDOMNode(this).focus()},_onMouseMove:function(e,t){var r=this.props,n=this.state.isHorizontal?e:t;n/=this.state.scale,this._setNextState(this._calculateState(this.state.position+n,r.size,r.contentSize,r.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(e){var t=e.keyCode;if(t!==o.TAB){var r=v,n=0;if(this.state.isHorizontal)switch(t){case o.HOME:n=-1,r=this.props.contentSize;break;case o.LEFT:n=-1;break;case o.RIGHT:n=1;break;default:return}if(!this.state.isHorizontal)switch(t){case o.SPACE:n=e.shiftKey?-1:1;break;case o.HOME:n=-1,r=this.props.contentSize;break;case o.UP:n=-1;break;case o.DOWN:n=1;break;case o.PAGE_UP:n=-1,r=this.props.size;break;case o.PAGE_DOWN:n=1,r=this.props.size;break;default:return}e.preventDefault();var i=this.props;this._setNextState(this._calculateState(this.state.position+r*n,i.size,i.contentSize,i.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),a.findDOMNode(this).blur()}catch(e){}},_setNextState:function(e,t){t=t||this.props;var r=t.position,n=this.state.position!==e.position;if(void 0===r){var o=n?this._didScroll:void 0;this.setState(e,o)}else{if(r!==e.position)return void(void 0!==e.position&&e.position!==this.state.position&&this.props.onScroll(e.position));this.setState(e)}n&&b!==this&&(b&&b._blur(),b=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});w.KEYBOARD_SCROLL_AMOUNT=v,w.SIZE=parseInt(l("scrollbar-size"),10),e.exports=w},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(247),a=r(248),s=r(243),u=function(){function e(t,r,o){n(this,e),this._isDragging=!1,this._animationFrameID=null,this._domNode=o,this._onMove=t,this._onMoveEnd=r,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return o(e,[{key:"captureMouseMoves",value:function(e){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=i.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=i.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=e.clientX,this._y=e.clientY),e.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(a(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(e){var t=e.clientX,r=e.clientY;this._deltaX+=t-this._x,this._deltaY+=r-this._y,null===this._animationFrameID&&(this._animationFrameID=s(this._didMouseMove)),this._x=t,this._y=r,e.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),e}();e.exports=u},function(e,t,r){(function(t){"use strict";var n=r(238),o={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,r,o){return e.addEventListener?(e.addEventListener(r,o,!0),{remove:function(){e.removeEventListener(r,o,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};e.exports=o}).call(t,r(15))},function(e,t){(function(t){"use strict";var r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout;e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t,r){"use strict";e.exports=r(6)},function(e,t){"use strict";function r(e){if(n.hasOwnProperty(e))return n[e];throw new Error('cssVar("'+e+'"): Unexpected class transformation.')}var n={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};r.CSS_VARS=n,e.exports=r},function(e,t){"use strict";function r(e){return i[e]?i[e]:(i[e]=e.replace(o,"_"),i[e])}function n(e){var t;return t="object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):Array.prototype.slice.call(arguments),t.map(r).join(" ")}var o=/\//g,i={};e.exports=n},function(e,t,r){(function(t){"use strict";var n=r(254),o=r(255),i=o("transform"),a=o("backfaceVisibility"),s=function(){if(n.hasCSSTransforms()){var e=t.window?t.window.navigator.userAgent:"UNKNOWN",r=/Safari\//.test(e)&&!/Chrome\//.test(e);return!r&&n.hasCSS3DTransforms()?function(e,t,r){e[i]="translate3d("+t+"px,"+r+"px,0)",e[a]="hidden"}:function(e,t,r){e[i]="translate("+t+"px,"+r+"px)"}}return function(e,t,r){e.left=t+"px",e.top=r+"px"}}();e.exports=s}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(255),o={hasCSSAnimations:function(){return!!n("animationName")},hasCSSTransforms:function(){return!!n("transform")},hasCSS3DTransforms:function(){return!!n("perspective")},hasCSSTransitions:function(){return!!n("transition")}};e.exports=o},function(e,t,r){"use strict";function n(e){for(var t=0;t<l.length;t++){var r=l[t]+e;if(r in f)return r}return null}function o(e){var t=a(e);if(void 0===u[t]){var r=t.charAt(0).toUpperCase()+t.slice(1);c.test(r)&&s(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",e),u[t]=t in f?t:n(r)}return u[t]}var i=r(242),a=r(256),s=r(257),u={},l=["Webkit","ms","Moz","O"],c=new RegExp("^("+l.join("|")+")"),f=i.canUseDOM?document.createElement("div").style:{};e.exports=o},function(e,t){"use strict";function r(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=r},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,s,u){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,s,u],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(15))},function(e,t,r){"use strict";var n=r(234),o=r(259),i=r(263),a=r(252),s=r(238),u=r(271),l=r(253),c=n.PropTypes,f=n.createClass({displayName:"FixedDataTableBufferedRows",propTypes:{isScrolling:c.bool,defaultRowHeight:c.number.isRequired,firstRowIndex:c.number.isRequired,firstRowOffset:c.number.isRequired,fixedColumns:c.array.isRequired,height:c.number.isRequired,offsetTop:c.number.isRequired,onRowClick:c.func,onRowDoubleClick:c.func,onRowMouseDown:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,rowClassNameGetter:c.func,rowsCount:c.number.isRequired,rowHeightGetter:c.func,rowPositionGetter:c.func.isRequired,scrollLeft:c.number.isRequired,scrollableColumns:c.array.isRequired,showLastRowBorder:c.bool,width:c.number.isRequired},getInitialState:function(){return this._rowBuffer=new o(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(e){(e.rowsCount!==this.props.rowsCount||e.defaultRowHeight!==this.props.defaultRowHeight||e.height!==this.props.height)&&(this._rowBuffer=new o(e.rowsCount,e.defaultRowHeight,e.height,this._getRowHeight)),this.props.isScrolling&&!e.isScrolling?this._updateBuffer():this.setState({rowsToRender:this._rowBuffer.getRows(e.firstRowIndex,e.firstRowOffset)})},_updateBuffer:function(){this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var e=this.props,t=e.rowClassNameGetter||s,r=e.rowPositionGetter,o=this.state.rowsToRender;this._staticRowArray.length=o.length;for(var c=0;c<o.length;++c){var f=o[c],d=this._getRowHeight(f),p=r(f),h=f===e.rowsCount-1&&e.showLastRowBorder;this._staticRowArray[c]=n.createElement(i,{key:c,isScrolling:e.isScrolling,index:f,width:e.width,height:d,scrollLeft:Math.round(e.scrollLeft),offsetTop:Math.round(p),fixedColumns:e.fixedColumns,scrollableColumns:e.scrollableColumns,onClick:e.onRowClick,onDoubleClick:e.onRowDoubleClick,onMouseDown:e.onRowMouseDown,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,className:u(t(f),a("public/fixedDataTable/bodyRow"),a({"fixedDataTableLayout/hasBottomBorder":h,"public/fixedDataTable/hasBottomBorder":h}))})}var g=e.rowPositionGetter(e.firstRowIndex),m={position:"absolute",pointerEvents:e.isScrolling?"none":"auto"};return l(m,0,e.firstRowOffset-g+e.offsetTop),n.createElement("div",{style:m},this._staticRowArray)},_getRowHeight:function(e){return this.props.rowHeightGetter?this.props.rowHeightGetter(e):this.props.defaultRowHeight}});e.exports=f},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(260),a=r(262),s=r(257),u=3,l=6,c=function(){function e(t,r,o,c){n(this,e),s(0!==r,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new i,this._defaultRowHeight=r,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(o/r)+1,this._bufferRowsCount=a(Math.floor(this._maxVisibleRowCount/2),u,l),this._rowsCount=t,this._rowHeightGetter=c,this._rows=[],this._viewportHeight=o,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return o(e,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var e=2*this._bufferRowsCount,t=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);t<this._viewportRowsBegin;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;for(t=this._viewportRowsEnd;t<this._rowsCount&&e>0;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;return this._rows}},{key:"getRows",value:function(e,t){var r=t,n=r,o=e,i=Math.min(e+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=e;i>o||n<this._viewportHeight&&o<this._rowsCount;)this._addRowToBuffer(o,e,i-1),n+=this._rowHeightGetter(o),++o,this._viewportRowsEnd=o;return this._rows}},{key:"_addRowToBuffer",value:function(e,t,r){var n=this._bufferSet.getValuePosition(e),o=r-t+1,i=o+2*this._bufferRowsCount;null===n&&this._bufferSet.getSize()>=i&&(n=this._bufferSet.replaceFurthestValuePosition(t,r,e)),null===n?(n=this._bufferSet.getNewPositionForValue(e),this._rows[n]=e):this._rows[n]=e}}]),e}();e.exports=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(261),a=r(257),s=function(){function e(){n(this,e),this._valueToPositionMap={},this._size=0,this._smallValues=new i([],this._smallerComparator),this._largeValues=new i([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return o(e,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(e){return void 0===this._valueToPositionMap[e]?null:this._valueToPositionMap[e]}},{key:"getNewPositionForValue",value:function(e){a(void 0===this._valueToPositionMap[e],"Shouldn't try to find new position for value already stored in BufferSet");var t=this._size;return this._size++,this._pushToHeaps(t,e),this._valueToPositionMap[e]=t,t}},{key:"replaceFurthestValuePosition",value:function(e,t,r){if(a(void 0===this._valueToPositionMap[r],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var n=this._smallValues.peek().value,o=this._largeValues.peek().value;if(n>=e&&t>=o)return null;var i;e-n>o-t?(i=n,this._smallValues.pop()):(i=o,this._largeValues.pop());var s=this._valueToPositionMap[i];return delete this._valueToPositionMap[i],this._valueToPositionMap[r]=s,this._pushToHeaps(s,r),s}},{key:"_pushToHeaps",value:function(e,t){var r={position:e,value:t};this._smallValues.push(r),this._largeValues.push(r)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var e=Math.min(this._smallValues.size(),this._largeValues.size()),t=Math.max(this._smallValues.size(),this._largeValues.size());t>10*e&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var e=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,t=new i([],this._smallerComparator),r=new i([],this._greaterComparator);!e.empty();){var n=e.pop();void 0!==this._valueToPositionMap[n.value]&&(t.push(n),r.push(n))}this._smallValues=t,this._largeValues=r}},{key:"_cleanHeap",value:function(e){for(;!e.empty()&&void 0===this._valueToPositionMap[e.peek().value];)e.pop()}},{key:"_smallerComparator",value:function(e,t){return e.value<t.value}},{key:"_greaterComparator",value:function(e,t){return e.value>t.value}}]),e}();e.exports=s},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return t>e}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,o){r(this,e),this._items=t||[],this._size=this._items.length,this._comparator=o||n,this._heapify()}return o(e,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var e=this._items[0],t=this._items.pop();return this._size--,this._size>0&&(this._items[0]=t,this._sinkDown(0)),e}}},{key:"push",value:function(e){this._items[this._size++]=e,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){return 0!==this._size?this._items[0]:void 0}},{key:"_heapify",value:function(){for(var e=Math.floor((this._size+1)/2);e>=0;e--)this._sinkDown(e)}},{key:"_bubbleUp",value:function(e){for(var t=this._items[e];e>0;){var r=Math.floor((e+1)/2)-1,n=this._items[r];if(this._comparator(n,t))return;this._items[r]=t,this._items[e]=n,e=r}}},{key:"_sinkDown",value:function(e){for(var t=this._items[e];;){var r=2*(e+1)-1,n=2*(e+1),o=-1;if(r<this._size){var i=this._items[r];this._comparator(i,t)&&(o=r)}if(n<this._size){var a=this._items[n];this._comparator(a,t)&&(-1===o||this._comparator(a,this._items[o]))&&(o=n)}if(-1===o)return;this._items[e]=this._items[o],this._items[o]=t,e=o}}}]),e}();e.exports=i},function(e,t){"use strict";function r(e,t,r){return t>e?t:e>r?r:e}e.exports=r},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(234),i=r(264),a=r(252),s=r(271),u=r(253),l=o.PropTypes,c=o.createClass({displayName:"FixedDataTableRowImpl",propTypes:{isScrolling:l.bool,fixedColumns:l.array.isRequired,height:l.number.isRequired,index:l.number.isRequired,scrollableColumns:l.array.isRequired,scrollLeft:l.number.isRequired,width:l.number.isRequired,onClick:l.func,onDoubleClick:l.func,onColumnResize:l.func},render:function(){var e={width:this.props.width,height:this.props.height},t=a({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2===1,"public/fixedDataTableRow/odd":this.props.index%2===1,"public/fixedDataTableRow/even":this.props.index%2===0}),r=this._getColumnsWidth(this.props.fixedColumns),n=o.createElement(i,{key:"fixed_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:0,width:r,zIndex:2,columns:this.props.fixedColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),u=this._renderColumnsShadow(r),l=o.createElement(i,{key:"scrollable_cells",isScrolling:this.props.isScrolling,height:this.props.height,left:this.props.scrollLeft,offsetLeft:r,width:this.props.width-r,zIndex:0,columns:this.props.scrollableColumns,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return o.createElement("div",{className:s(t,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:e},o.createElement("div",{className:a("fixedDataTableRowLayout/body")},n,l,u))},_getColumnsWidth:function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t},_renderColumnsShadow:function(e){if(e>0){var t=a({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),r={left:e,height:this.props.height};return o.createElement("div",{className:t,style:r})}},_onClick:function(e){this.props.onClick(e,this.props.index)},_onDoubleClick:function(e){this.props.onDoubleClick(e,this.props.index)},_onMouseDown:function(e){this.props.onMouseDown(e,this.props.index)},_onMouseEnter:function(e){this.props.onMouseEnter(e,this.props.index)},_onMouseLeave:function(e){this.props.onMouseLeave(e,this.props.index)}}),f=o.createClass({displayName:"FixedDataTableRow",propTypes:{isScrolling:l.bool,height:l.number.isRequired,zIndex:l.number,offsetTop:l.number.isRequired,width:l.number.isRequired},render:function(){var e={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return u(e,0,this.props.offsetTop),o.createElement("div",{style:e,className:a("fixedDataTableRowLayout/rowWrapper")},o.createElement(c,n({},this.props,{offsetTop:void 0,zIndex:void 0})))}});e.exports=f},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(265),a=r(234),s=r(269),u=r(252),l=r(253),c=a.PropTypes,f=i.DIR_SIGN,d=a.createClass({displayName:"FixedDataTableCellGroupImpl",propTypes_DISABLED_FOR_PERFORMANCE:{columns:c.array.isRequired,isScrolling:c.bool,left:c.number,onColumnResize:c.func,rowHeight:c.number.isRequired,rowIndex:c.number.isRequired,width:c.number.isRequired,zIndex:c.number.isRequired},render:function(){for(var e=this.props,t=e.columns,r=new Array(t.length),n=0,o=0,i=t.length;i>o;o++){var s=t[o].props;if(!s.allowCellsRecycling||n-e.left<=e.width&&n-e.left+s.width>=0){var c="cell_"+o;r[o]=this._renderCell(e.rowIndex,e.rowHeight,s,n,c)}n+=s.width}var d=this._getColumnsWidth(t),p={height:e.height,position:"absolute",width:d,zIndex:e.zIndex};return l(p,-1*f*e.left,0),a.createElement("div",{className:u("fixedDataTableCellGroupLayout/cellGroup"),style:p},r)},_renderCell:function(e,t,r,n,o){var i=r.isResizable&&this.props.onColumnResize,u=i?this.props.onColumnResize:null,l=r.cellClassName;return a.createElement(s,{isScrolling:this.props.isScrolling,align:r.align,className:l,height:t,key:o,maxWidth:r.maxWidth,minWidth:r.minWidth,onColumnResize:u,rowIndex:e,columnKey:r.columnKey,width:r.width,left:n,cell:r.cell})},_getColumnsWidth:function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t}}),p=a.createClass({displayName:"FixedDataTableCellGroup",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,height:c.number.isRequired,offsetLeft:c.number,left:c.number,zIndex:c.number.isRequired},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex||this.props.left!==e.left},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var e=this.props,t=e.offsetLeft,r=n(e,["offsetLeft"]),i={height:r.height};1===f?i.left=t:i.right=t;var s=r.onColumnResize?this._onColumnResize:null;return a.createElement("div",{style:i,className:u("fixedDataTableCellGroupLayout/cellGroupWrapper")},a.createElement(d,o({},r,{onColumnResize:s})))},_onColumnResize:function(e,t,r,n,o,i){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,e-this.props.left+t,t,r,n,o,i)}});e.exports=p},function(e,t,r){"use strict";function n(e){return null===e||void 0===e?"":String(e)}function o(e,t){s.Children.forEach(e,function(e){e.type===u?o(e.props.children,t):e.type===l&&t(e)})}function i(e,t){var r=[];return s.Children.forEach(e,function(e){var n=e;if(e.type===u){var i=!1,a=[];o(e.props.children,function(e){var r=t(e);r!==e&&(i=!0),a.push(r)}),i&&(n=s.cloneElement(e,{children:a}))}else e.type===l&&(n=t(e));r.push(n)}),r}var a=r(266),s=r(234),u=r(267),l=r(268),c=a.isRTL()?-1:1,f=5,d={DIR_SIGN:c,CELL_VISIBILITY_TOLERANCE:f,renderToString:n,forEachColumn:o,mapColumns:i};e.exports=d},function(e,t){"use strict";var r={isRTL:function(){return!1},getDirection:function(){return"LTR"}};e.exports=r},function(e,t,r){(function(t){"use strict";var n=r(234),o=n.createClass({displayName:"TransitionColumnGroup",statics:{__TableColumnGroup__:!0},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <TransitionColumnGroup /> should never render");return null}});e.exports=o}).call(t,r(15))},function(e,t,r){(function(t){"use strict";var n=r(234),o=n.createClass({displayName:"TransitionColumn",statics:{__TableColumn__:!0},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <TransitionColumn /> should never render");return null}});e.exports=o}).call(t,r(15))},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=r(270),i=r(265),a=r(234),s=r(252),u=r(271),l=i.DIR_SIGN,c=a.PropTypes,f={align:"left",highlighted:!1},d=a.createClass({displayName:"FixedDataTableCell",propTypes_DISABLED_FOR_PERFORMANCE:{isScrolling:c.bool,align:c.oneOf(["left","center","right"]),className:c.string,highlighted:c.bool,width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,height:c.number.isRequired,cell:c.oneOfType([c.string,c.element,c.func]),columnKey:c.oneOfType([c.string,c.number]),rowIndex:c.number.isRequired,onColumnResize:c.func,left:c.number},shouldComponentUpdate:function(e){return!e.isScrolling||this.props.rowIndex!==e.rowIndex},getDefaultProps:function(){return f},render:function(){var e=this.props,t=e.height,r=e.width,i=e.columnKey,c=n(e,["height","width","columnKey"]),f={height:t,width:r};1===l?f.left=c.left:f.right=c.left;var d,p=u(s({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":c.lastChild,"fixedDataTableCellLayout/alignRight":"right"===c.align,"fixedDataTableCellLayout/alignCenter":"center"===c.align,"public/fixedDataTableCell/alignRight":"right"===c.align,"public/fixedDataTableCell/highlighted":c.highlighted,"public/fixedDataTableCell/main":!0}),c.className);if(c.onColumnResize){var h={height:t};d=a.createElement("div",{className:s("fixedDataTableCellLayout/columnResizerContainer"),style:h,onMouseDown:this._onColumnResizerMouseDown},a.createElement("div",{className:u(s("fixedDataTableCellLayout/columnResizerKnob"),s("public/fixedDataTableCell/columnResizerKnob")),style:h}))}var g={columnKey:i,height:t,width:r};c.rowIndex>=0&&(g.rowIndex=c.rowIndex);var m;return m=a.isValidElement(c.cell)?a.cloneElement(c.cell,g):"function"==typeof c.cell?c.cell(g):a.createElement(o,g,c.cell),a.createElement("div",{className:p,style:f},d,m)},_onColumnResizerMouseDown:function(e){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.columnKey,e)}});e.exports=d},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(234),a=r(252),s=r(271),u=i.PropTypes,l=i.createClass({displayName:"FixedDataTableCellDefault",propTypes:{height:u.number,width:u.number,columnKey:u.oneOfType([u.string,u.number])},render:function(){var e=this.props,t=e.height,r=e.width,u=e.style,l=e.className,c=e.children,f=n(e,["height","width","style","className","children"]),d=o({height:t,width:r},u);return i.createElement("div",o({},f,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),l),
style:d}),i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},i.createElement("div",{className:a("public/fixedDataTableCell/cellContent")},c))))}});e.exports=l},function(e,t){"use strict";function r(e){e||(e="");var t,r=arguments.length;if(r>1)for(var n=1;r>n;n++)t=arguments[n],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,r){"use strict";var n=r(246),o=r(266),i=r(234),a=r(236),s=r(262),u=r(252),l=i.PropTypes,c=i.createClass({displayName:"FixedDataTableColumnResizeHandle",mixins:[a],propTypes:{visible:l.bool.isRequired,height:l.number.isRequired,leftOffset:l.number.isRequired,knobHeight:l.number.isRequired,initialWidth:l.number,minWidth:l.number,maxWidth:l.number,initialEvent:l.object,onColumnResizeEnd:l.func,columnKey:l.oneOfType([l.string,l.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(e){e.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(e.initialEvent),this.setState({width:e.initialWidth,cursorDelta:e.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new n(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var e={width:this.state.width,height:this.props.height};return o.isRTL()?e.right=this.props.leftOffset:e.left=this.props.leftOffset,i.createElement("div",{className:u({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:e},i.createElement("div",{className:u("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(e){o.isRTL()&&(e=-e);var t=this.state.cursorDelta+e,r=s(t,this.props.minWidth,this.props.maxWidth);this.setState({width:r,cursorDelta:t})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});e.exports=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(274),a=r(262),s=5,u={index:0,offset:0,position:0,contentHeight:0},l=function(){function e(t,r,o,a){n(this,e),this._rowOffsets=i.uniform(t,r),this._storedHeights=new Array(t);for(var s=0;t>s;++s)this._storedHeights[s]=r;this._rowCount=t,this._position=0,this._contentHeight=t*r,this._defaultRowHeight=r,this._rowHeightGetter=a?a:function(){return r},this._viewportHeight=o,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return o(e,[{key:"setRowHeightGetter",value:function(e){this._rowHeightGetter=e}},{key:"setViewportHeight",value:function(e){this._viewportHeight=e}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(e,t){for(var r=t,n=e;r<=this._viewportHeight&&n<this._rowCount;)this._updateRowHeight(n),r+=this._storedHeights[n],n++}},{key:"_updateHeightsAboveViewport",value:function(e){for(var t=e-1;t>=0&&t>=e-s;){var r=this._updateRowHeight(t);this._position+=r,t--}}},{key:"_updateRowHeight",value:function(e){if(0>e||e>=this._rowCount)return 0;var t=this._rowHeightGetter(e);if(t!==this._storedHeights[e]){var r=t-this._storedHeights[e];return this._rowOffsets.set(e,t),this._storedHeights[e]=t,this._contentHeight+=r,r}return 0}},{key:"getRowPosition",value:function(e){return this._updateRowHeight(e),this._rowOffsets.sumUntil(e)}},{key:"scrollBy",value:function(e){if(0===this._rowCount)return u;var t=this._rowOffsets.greatestLowerBound(this._position);t=a(t,0,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(t),n=t,o=this._position,i=this._updateRowHeight(n);0!==r&&(o+=i);var s=this._storedHeights[n]-(o-r);if(e>=0)for(;e>0&&n<this._rowCount;)s>e?(o+=e,e=0):(e-=s,o+=s,n++),n<this._rowCount&&(this._updateRowHeight(n),s=this._storedHeights[n]);else if(0>e){e=-e;for(var l=this._storedHeights[n]-s;e>0&&n>=0;)if(l>e?(o-=e,e=0):(o-=l,e-=l,n--),n>=0){var c=this._updateRowHeight(n);l=this._storedHeights[n],o+=c}}var f=this._contentHeight-this._viewportHeight;o=a(o,0,f),this._position=o;var d=this._rowOffsets.greatestLowerBound(o);d=a(d,0,Math.max(this._rowCount-1,0)),r=this._rowOffsets.sumUntil(d);var p=r-o;return this._updateHeightsInViewport(d,p),this._updateHeightsAboveViewport(d),{index:d,offset:p,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(e){this._updateRowHeight(e);for(var t=e,r=this._storedHeights[t];r<this._viewportHeight&&t>=0;)t--,t>=0&&(this._updateRowHeight(t),r+=this._storedHeights[t]);var n=this._rowOffsets.sumTo(e)-this._viewportHeight;return 0>n&&(n=0),n}},{key:"scrollTo",value:function(e){if(0===this._rowCount)return u;if(0>=e)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(e>=this._contentHeight-this._viewportHeight){var t=this._rowCount-1;e=this._getRowAtEndPosition(t)}this._position=e;var r=this._rowOffsets.greatestLowerBound(e);r=a(r,0,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(r),o=n-e;return this._updateHeightsInViewport(r,o),this._updateHeightsAboveViewport(r),{index:r,offset:o,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(e,t){e=a(e,0,Math.max(this._rowCount-1,0)),t=a(t,-this._storedHeights[e],0);var r=this._rowOffsets.sumUntil(e);return this.scrollTo(r-t)}},{key:"scrollRowIntoView",value:function(e){e=a(e,0,Math.max(this._rowCount-1,0));var t=this._rowOffsets.sumUntil(e),r=t+this._storedHeights[e];if(t<this._position)return this.scrollTo(t);if(this._position+this._viewportHeight<r){var n=this._getRowAtEndPosition(e);return this.scrollTo(n)}return this.scrollTo(this._position)}}]),e}();e.exports=l},function(e,t,r){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){for(var t=1;e>t;)t*=2;return t}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(257),s=function(e){return Math.floor(e/2)},u=t.Int32Array||function(e){for(var t=[],r=e-1;r>=0;--r)t[r]=0;return t},l=function(){function e(t){n(this,e),this._size=t.length,this._half=o(this._size),this._heap=new u(2*this._half);var r;for(r=0;r<this._size;++r)this._heap[this._half+r]=t[r];for(r=this._half-1;r>0;--r)this._heap[r]=this._heap[2*r]+this._heap[2*r+1]}return i(e,[{key:"set",value:function(e,t){a(e>=0&&e<this._size,"Index out of range %s",e);var r=this._half+e;for(this._heap[r]=t,r=s(r);0!==r;r=s(r))this._heap[r]=this._heap[2*r]+this._heap[2*r+1]}},{key:"get",value:function(e){a(e>=0&&e<this._size,"Index out of range %s",e);var t=this._half+e;return this._heap[t]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(e){if(a(e>=0&&e<this._size+1,"Index out of range %s",e),0===e)return 0;for(var t=this._half+e-1,r=this._heap[t];1!==t;t=s(t))t%2===1&&(r+=this._heap[t-1]);return r}},{key:"sumTo",value:function(e){return a(e>=0&&e<this._size,"Index out of range %s",e),this.sumUntil(e+1)}},{key:"sum",value:function(e,t){return a(t>=e,"Begin must precede end"),this.sumUntil(t)-this.sumUntil(e)}},{key:"greatestLowerBound",value:function(e){if(0>e)return-1;var t=1;if(this._heap[t]<=e)return this._size;for(;t<this._half;){var r=this._heap[2*t];r>e?t=2*t:(t=2*t+1,e-=r)}return t-this._half}},{key:"greatestStrictLowerBound",value:function(e){if(0>=e)return-1;var t=1;if(this._heap[t]<e)return this._size;for(;t<this._half;){var r=this._heap[2*t];r>=e?t=2*t:(t=2*t+1,e-=r)}return t-this._half}},{key:"leastUpperBound",value:function(e){return this.greatestStrictLowerBound(e)+1}},{key:"leastStrictUpperBound",value:function(e){return this.greatestLowerBound(e)+1}}],[{key:"uniform",value:function(t,r){for(var n=[],o=t-1;o>=0;--o)n[o]=r;return new e(n)}},{key:"empty",value:function(t){return e.uniform(t,0)}}]),e}();e.exports=l}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t}function o(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.flexGrow||0;return t}function i(e,t){if(0>=t)return{columns:e,width:n(e)};for(var r=o(e),i=t,a=[],s=0,l=0;l<e.length;++l){var c=e[l];if(c.props.flexGrow){var f=Math.floor(c.props.flexGrow/r*i),d=Math.floor(c.props.width+f);s+=d,r-=c.props.flexGrow,i-=f,a.push(u.cloneElement(c,{width:d}))}else s+=c.props.width,a.push(c)}return{columns:a,width:s}}function a(e,t){var r,a=[];for(r=0;r<e.length;++r)u.Children.forEach(e[r].props.children,function(e){a.push(e)});var s=n(a),l=o(a),c=Math.max(t-s,0),f=[],d=[];for(r=0;r<e.length;++r){var p=e[r],h=[];u.Children.forEach(p.props.children,function(e){h.push(e)});var g=o(h),m=Math.floor(g/l*c),y=i(h,m);l-=g,c-=m;for(var v=0;v<y.columns.length;++v)f.push(y.columns[v]);d.push(u.cloneElement(p,{width:y.width}))}return{columns:f,columnGroups:d}}function s(e,t){var r=n(e);return t>r?i(e,t-r).columns:e}var u=r(234),l={getTotalWidth:n,getTotalFlexGrow:o,distributeFlexWidth:i,adjustColumnWidths:s,adjustColumnGroupWidths:a};e.exports=l},function(e,t){"use strict";function r(e,t,r,n,o){function i(){for(var o=arguments.length,s=Array(o),u=0;o>u;u++)s[u]=arguments[u];i.reset();var l=function(){e.apply(r,s)};l.__SMmeta=e.__SMmeta,a=n(l,t)}n=n||setTimeout,o=o||clearTimeout;var a;return i.reset=function(){o(a)},i}e.exports=r},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;for(var i=n.bind(t),a=0;a<r.length;a++)if(!i(r[a])||e[r[a]]!==t[r[a]])return!1;return!0}var n=Object.prototype.hasOwnProperty;e.exports=r},function(e,t,r){(function(t){"use strict";var n=r(234),o=n.PropTypes,i=n.createClass({displayName:"FixedDataTableColumn",statics:{__TableColumn__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func]),cell:o.oneOfType([o.node,o.func]),footer:o.oneOfType([o.node,o.func]),columnKey:o.oneOfType([o.string,o.number]),width:o.number.isRequired,minWidth:o.number,maxWidth:o.number,flexGrow:o.number,isResizable:o.bool,allowCellsRecycling:o.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <FixedDataTableColumn /> should never render");return null}});e.exports=i}).call(t,r(15))},function(e,t,r){(function(t){"use strict";var n=r(234),o=n.PropTypes,i=n.createClass({displayName:"FixedDataTableColumnGroup",statics:{__TableColumnGroup__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,header:o.oneOfType([o.node,o.func])},getDefaultProps:function(){return{fixed:!1}},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <FixedDataTableColumnGroup /> should never render");return null}});e.exports=i}).call(t,r(15))},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(234),i=o.PropTypes,a=r(252),s=r(271),u=r(277),l=r(270),c=o.createClass({displayName:"TransitionCell",propTypes:{label:i.string,className:i.string,rowIndex:i.number,rowGetter:i.func,dataKey:i.oneOfType([i.string,i.number]),cellRenderer:i.func,cellDataGetter:i.func,footerDataGetter:i.func,footerData:i.any,columnData:i.any,width:i.number,height:i.number,isHeaderCell:i.bool,isFooterCell:i.bool},shouldComponentUpdate:function(e){var t,r=!1;e.rowGetter&&(t=e.rowGetter(e.rowIndex),this._rowData!==t&&(r=!0));var n;return null!=e.dataKey&&(e.cellDataGetter&&(n=e.cellDataGetter(e.dataKey,t)),!n&&t&&(n=t[e.dataKey])),this._cellData!==n&&(r=!0),this._rowData=t,this._cellData=n,r||!u(e,this.props)},_getCellData:function(e){var t=e.dataKey;if(null==t)return null;var r;return e.rowGetter&&(r=e.rowGetter(e.rowIndex)),e.cellDataGetter?e.cellDataGetter(t,r):r?r[t]:e.footerDataGetter?e.footerDataGetter()[t]:e.footerData?e.footerData[t]:e.headerDataGetter?e.headerDataGetter[t]:void 0},_getRowData:function(e){return e.rowGetter?e.rowGetter(e.rowIndex)||{}:e.footerDataGetter?e.footerDataGetter()||{}:e.footerData?e.footerData||{}:{}},render:function(){var e=this.props,t=this._getCellData(e),r=t,i=this._getRowData(e),u=!(!e.cellRenderer&&!e.groupHeaderRenderer);(e.isHeaderCell||e.isFooterCell)&&(r=r||e.label),e.cellRenderer&&(r=e.isHeaderCell||e.isFooterCell?e.cellRenderer(e.label,e.dataKey,e.columnData,i,e.width)||e.label:e.cellRenderer(t,e.dataKey,i,e.rowIndex,e.columnData,e.width)),e.groupHeaderRenderer&&(r=e.groupHeaderRenderer(e.label,e.dataKey,e.groupHeaderData,e.groupHeaderLabels,e.width)||r);var c=a("public/fixedDataTableCell/cellContent");if(!o.isValidElement(r)||!u)return o.createElement(l,e,r);r=o.cloneElement(r,{className:s(r.props.className,c)});var f=n({height:e.height,width:e.width},e.style);return o.createElement("div",n({},this.props,{className:s(a("fixedDataTableCellLayout/wrap1"),a("public/fixedDataTableCell/wrap1"),this.props.className),style:f}),o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap2"),a("public/fixedDataTableCell/wrap2"))},o.createElement("div",{className:s(a("fixedDataTableCellLayout/wrap3"),a("public/fixedDataTableCell/wrap3"))},r)))}});e.exports=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function s(e,t){var r=e.ticks()[0],n=e.scale(),o=(0,g["default"])(n.ticks(r)).map(Math.floor).uniq().map(function(e){return e+.5}).value();g["default"].last(o)>g["default"].last(n.domain())&&o.pop(),e.tickValues(o).tickSubdivide(o[1]-o[0]-1).tickFormat(function(e){return t(Math.floor(e))})}function u(e){var t=this.getBBox(),r=this.parentElement.transform.baseVal,n=(r[0]||r.getItem(0)).matrix.e+t.x;if(0>n)return 1-n;var o=this.parentElement.parentElement.parentElement.width.baseVal.value,i=n+t.width;if(i>o)return o-i-2;var a=y["default"].select(this).attr("x");return a?a:0}function l(e){var t=this.getBBox(),r=this.parentElement.transform.baseVal,n=(r[0]||r.getItem(0)).matrix.f+t.y;if(0>n)return 1-n;var o=this.parentElement.parentElement.parentElement.height.baseVal.value,i=n+t.height;if(i>o)return o-i-1;var a=y["default"].select(this).attr("y");return a?a:0}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},d=r(30),p=n(d),h=r(9),g=n(h),m=r(7),y=n(m),v=r(5),b=n(v),w=r(198),_=b["default"].DOM,x=_.div,D=_.svg,T=function(e){function t(){i(this,t),f(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),c(t,[{key:"_d3Axis",value:function(){var e=this.props,t=e.orient,r=e.scale,n=e.field,o=e.markType,i=y["default"].svg.axis().scale(r).orient(t).ticks(5);return"bar"==o?"integer"==n.type&&"bin"==n.func&&1==n.binSettings.step?s(i,y["default"].format(",d")):"time"!=(0,w.getFieldType)(n)||g["default"].contains(n.func,"bin")||s(i,y["default"].format("d")):"time"!=(0,w.getFieldType)(n)||g["default"].contains(n.func,"bin")||i.tickFormat(y["default"].format("d")),i}},{key:"_d3Render",value:function(){var e=y["default"].select(this.refs.axisContainer).call(this._d3Axis()).selectAll("text");this.isHorizontalAxis()?e.attr("x",u):e.attr("y",l)}},{key:"_orientTransform",value:function(){var e=this.props,t=e.orient,r=e.width,n=e.height,o="left"==t?r-1:0,i="top"==t?n:0;return"translate("+o+", "+i+")"}},{key:"isHorizontalAxis",value:function(){return"top"==this.props.orient||"bottom"==this.props.orient}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"render",value:function(){var e=this.props,t=(e.domain,e.name),r=e.orient,n=e.width,i=e.height;return x({},D({className:"axis",width:n,height:i},b["default"].createElement("g",{ref:"axisContainer",transform:this._orientTransform()})),x({className:(0,p["default"])("axis-label",o({},r,!0))},t))}}]),t}(b["default"].Component);t.Axis=T,T.defaultProps={orient:"bottom"}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(5),l=n(u),c=(r(198),{bar:l["default"].createFactory(r(283)),line:l["default"].createFactory(r(285)),area:l["default"].createFactory(r(286)),point:l["default"].createFactory(r(287))}),f=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.fieldScales,r=e.paneData,n=e.rowAxis,o=e.colAxis,i=r.markData,a=_.filter(t,function(e){return e.scale&&("col"!=e.shelf&&"row"!=e.shelf||"row"==e.shelf&&n.hasField(e.field)||"col"==e.shelf&&o.hasField(e.field))}),s=c[this.props.markType];return s?s(_.extend({markData:i,transformFields:a},this.props)):null}}]),t}(l["default"].Component);t.Pane=f},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(7),l=n(u),c=r(9),f=n(c),d=r(5),p=n(d),h=r(198),g=r(284),m=p["default"].DOM,y=(m.div,m.svg),v=function(e){return 0},b=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"getDefaultScales",value:function(){var e=this.props,t=e.scales,r=e.width,n=e.height;return{opacity:t.opacity.__default__,fill:t.color.__default__,x:v,y:v,height:function(e){return n-1},width:function(e){return r-1}}}},{key:"getBarScales",value:function(e,t){var r=this.props,n=r.markData,o=(r.width,r.height),i=e.field,a=e.scale,s=e.shelf,u=(0,h.getAccessorName)(i),c=(0,h.isStackableField)(i),d=(0,h.isAggregateType)(i),p=(0,h.isBinField)(i),m="time"==(0,h.getFieldType)(i);switch(s){case"row":if(!c)return d?{y:function(e,t){return a(e[u])},height:function(e){return o-a(e[u])}}:p?m&&f["default"].contains(i.func,"bin")?{y:function(e){return a(l["default"].time[i.binSettings.unit.type].offset(e[u],i.binSettings.step))},height:function(e){var t=l["default"].time[i.binSettings.unit.type].offset(e[u],i.binSettings.step),r=a(e[u])-a(t);return r>1?r-1:r}}:m?{y:function(e){return a(e[u]+1)},height:function(e){return a(e[u])-a(e[u]+1)-1}}:{y:function(e){return a(e[u]+i.binSettings.step)},height:function(e){return a(e[u])-a(e[u]+i.binSettings.step)-1}}:{y:function(e){return a(e[u])},height:function(e){return o-a(e[u])-1}};var y=function(){var e=(0,g.stackLayout)(n,u,t);return{v:{y:function(t,r){return a(t[u])+a(e(t,r))-o},height:function(e){return o-a(e[u])}}}}();if("object"==typeof y)return y.v;case"col":if(!c)return d?{width:function(e){return a(e[u])}}:p?m&&f["default"].contains(i.func,"bin")?{x:function(e){return a(e[u])},width:function(e){var t=l["default"].time[i.binSettings.unit.type].offset(e[u],i.binSettings.step),r=a(t)-a(e[u]);return r>1?r-1:r}}:m?{x:function(e){return a(e[u])},width:function(e){return a(e[u]+1)-a(e[u])-1}}:{x:function(e){return a(e[u])},width:function(e){return a(e[u]+i.binSettings.step)-a(e[u])-1}}:{width:function(e){return a(e[u])-1}};var v=function(){var e=(0,g.stackLayout)(n,u,t);return{v:{x:function(t,r){return a(e(t,r))},width:function(e){return a(e[u])}}}}();if("object"==typeof v)return v.v;case"color":return{fill:function(e){return a(e[u])}};case"opacity":return{opacity:function(e){return a(e[u])}};default:return{}}}},{key:"getAttributeTransforms",value:function(){var e=this,t=this.props.transformFields,r=f["default"].find(t,function(e){return(0,h.isBinField)(e.field)}),n=f["default"].merge(this.getDefaultScales(),f["default"].reduce(f["default"].map(t,function(t){return e.getBarScales(t,r)}),f["default"].merge,{}));return n.transform=function(e,t){return"translate("+n.x(e,t)+", "+n.y(e,t)+")"},n}},{key:"_d3Render",value:function(){var e=this.getAttributeTransforms(),t=l["default"].select(this.refs.d3container).selectAll("rect").data(this.props.markData);t.enter().append("rect"),t.attr("fill",e.fill).attr("fill-opacity",e.opacity).attr("x",e.x).attr("y",e.y).attr("width",e.width).attr("height",e.height),t.exit().remove()}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height;return y({ref:"d3container",width:t,height:r})}}]),t}(p["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?l["default"].identity:arguments[1],r=0,n=void 0,o=l["default"].map(e,function(e){return n=r,r+=t(e),n});return o.push(r),o}function i(e,t,r){var n=l["default"].property(t);if(r){var i=function(){var n={},o=(0,s.getAccessorName)(r.field),i=l["default"].map(e,function(e){null==n[e[o]]&&(n[e[o]]=0);var r=n[e[o]];return n[e[o]]+=e[t],r});return{v:function(e,t){return i[t]}}}();if("object"==typeof i)return i.v}else{var a=function(){var t=o(e,n);return{v:function(e,r){return t[r]}}}();if("object"==typeof a)return a.v}}function a(e,t,r){var n=void 0;return r?!function(){var o={},i=(0,s.getAccessorName)(r.field);n=l["default"].map(e,function(e){return l["default"].map(e.values,function(e){null==o[e[i]]&&(o[e[i]]=0);var r=o[e[i]];return o[e[i]]+=e[t],r})})}():!function(){var r=0;n=l["default"].map(e,function(e){return l["default"].map(e.values,function(e){var n=r;return r+=e[t],n})})}(),function(e,t,r){return n[t][r]}}Object.defineProperty(t,"__esModule",{value:!0}),t.stackLayout=i,t.stackGroupedLayout=a;var s=r(198),u=r(9),l=n(u)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(9),l=n(u),c=r(8),f=n(c),d=r(7),p=n(d),h=r(5),g=n(h),m=r(198),y=g["default"].DOM,v=(y.div,y.svg),b=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"getDefaultScales",value:function(){var e=this.props.scales;return{stroke:e.color.__default__,"stroke-width":2,x:0,y:0}}},{key:"getLineScales",value:function(e){var t=this.props,r=(t.markData,t.width,t.height,e.field),n=e.scale,o=e.shelf,i=(0,m.getAccessorName)(r);switch(o){case"row":return{y:function(e){return n(e[i])}};case"col":return{x:function(e){return n(e[i])}};case"color":return{stroke:function(e){return n(e[i])}};case"size":return{};default:return{}}}},{key:"getAttributeTransforms",value:function(){var e=this,t=this.props.transformFields,r=l["default"].merge(this.getDefaultScales(),l["default"].reduce(l["default"].map(t,function(t){return e.getLineScales(t)}),l["default"].merge,{}));return r}},{key:"_d3Render",value:function(){p["default"].select(this.refs.d3container).selectAll("*").remove();var e=this.getAttributeTransforms(),t=p["default"].svg.line().x(e.x).y(e.y).interpolate("linear"),r=f["default"].groupby(l["default"].map(l["default"].filter(this.props.transformFields,function(e){return!l["default"].contains(["row","col"],e.shelf)}),"field.accessor")).execute(this.props.markData),n=l["default"].filter([(0,m.isBinField)(this.props.rowAxis.field)?this.props.rowAxis.field.accessor:null,(0,m.isBinField)(this.props.colAxis.field)?this.props.colAxis.field.accessor:null]),o=function(e){return l["default"].isEmpty(n)?e:l["default"].sortByAll(e,n)},i=p["default"].select(this.refs.d3container).selectAll("g.line").data(r);i.enter().append("g").attr("class","line").append("path"),i.selectAll("g.line path").attr("d",function(e){return t(o(e.values))}).attr("stroke",e.stroke).attr("stroke-width",e["stroke-width"]).attr("fill","none"),i.exit().remove()}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height;return v({ref:"d3container",width:t,height:r})}}]),t}(g["default"].Component);t["default"]=b,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,s=e[Symbol.iterator]();!(n=(a=s.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(u){o=!0,i=u}finally{try{!n&&s["return"]&&s["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(9),c=n(l),f=r(8),d=n(f),p=r(7),h=n(p),g=r(5),m=n(g),y=r(198),v=r(284),b=m["default"].DOM,w=(b.div,b.svg),_=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"getDefaultScales",value:function(){var e=this.props.scales;return{stroke:e.color.__default__,"stroke-width":2,x:0,y0:0,y1:0}}},{key:"getAreaScales",value:function(e,t,r){var n=this.props,o=n.width,i=n.height,s=e.field,u=e.scale,l=e.shelf,c=(0,y.getAccessorName)(s),f=(0,y.isStackableField)(s),d=((0,y.isAggregateType)(s),(0,y.isBinField)(s));"time"==(0,y.getFieldType)(s);switch(l){case"row":if(!f)return d?{x:function(e){var t=a(e,2),r=t[0];t[1];return u(r[c])}}:{y0:function(e){var t=a(e,2);t[0],t[1];return i},y1:function(e){var t=a(e,2),r=t[0];t[1];return u(r[c])}};var p=function(){var e=(0,v.stackGroupedLayout)(t,c,r);return{v:{y0:function(t,r){var n=a(t,2),o=n[0],i=n[1];return u(e(o,i,r))},y1:function(t,r){var n=a(t,2),o=n[0],s=n[1];return u(o[c])+u(e(o,s,r))-i}}}}();if("object"==typeof p)return p.v;case"col":if(!f)return{x:function(e){var t=a(e,2),r=t[0];t[1];return u(r[c])}};var h=function(){var e=(0,v.stackGroupedLayout)(t,c,r);return{v:{y0:function(t,r){var n=a(t,2),i=n[0],s=n[1];return o-u(i[c])-u(e(i,s,r))},y1:function(t,r){var n=a(t,2),i=n[0],s=n[1];return o-u(e(i,s,r))},transform:"translate("+o+") rotate(90)"}}}();if("object"==typeof h)return h.v;case"color":return{stroke:function(e){return u(e[c])}};case"size":return{};default:return{}}}},{key:"getAttributeTransforms",value:function(e){
var t=this,r=this.props.transformFields,n=c["default"].find(r,function(e){return(0,y.isBinField)(e.field)}),o=c["default"].merge(this.getDefaultScales(),c["default"].reduce(c["default"].map(r,function(r){return t.getAreaScales(r,e,n)}),c["default"].merge,{}));return o}},{key:"_d3Render",value:function(){h["default"].select(this.refs.d3container).selectAll("*").remove();var e=c["default"].filter([(0,y.isBinField)(this.props.rowAxis.field)?this.props.rowAxis.field.accessor:null,(0,y.isBinField)(this.props.colAxis.field)?this.props.colAxis.field.accessor:null]),t=function(t){return c["default"].isEmpty(e)?t:c["default"].sortByAll(t,e)},r=c["default"].map(d["default"].groupby(c["default"].map(c["default"].filter(this.props.transformFields,function(e){return!c["default"].contains(["row","col"],e.shelf)}),"field.accessor")).execute(this.props.markData),function(e){return c["default"].extend({},e,{values:t(e.values)})}),n=this.getAttributeTransforms(r),o=h["default"].svg.area().x(n.x).y0(n.y0).y1(n.y1).interpolate("linear"),i=h["default"].select(this.refs.d3container).selectAll("g.area").data(r);i.enter().append("g").attr("class","area").append("path").attr("d",function(e,t){return o(c["default"].zip(e.values,c["default"].times(e.values.length,function(e){return t})))}),i.selectAll("g.area path").attr("transform",n.transform).attr("stroke",n.stroke).attr("stroke-width",n["stroke-width"]).attr("fill",n.stroke),i.exit().remove()}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height;return w({ref:"d3container",width:t,height:r})}}]),t}(m["default"].Component);t["default"]=_,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},u=r(9),l=n(u),c=r(8),f=(n(c),r(7)),d=n(f),p=r(5),h=n(p),g=r(198),m=h["default"].DOM.svg,y=function(e){return 30},v=function(e){return 15},b=function(e){return.4},w=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"getDefaultScales",value:function(){var e=this.props.scales,t=d["default"].svg.symbol();return{opacity:b,size:e.size.__default__,symbol:t,shape:e.shape.__default__,color:e.color.__default__,x:y,y:v}}},{key:"getSymbolScales",value:function(e){var t=this.props,r=(t.markData,t.width,t.height,e.field),n=e.scale,o=e.shelf,i=(0,g.getAccessorName)(r);switch(o){case"row":return{y:function(e){return n(e[i])}};case"col":return{x:function(e){return n(e[i])}};case"color":var a=function(e){return n(e[i])};return{color:a};case"size":return{size:function(e){return n(e[i])}};case"shape":return{shape:function(e){return n(e[i])}};case"opacity":return{opacity:function(e){return n(e[i])}};default:return{}}}},{key:"getAttributeTransforms",value:function(){var e=this,t=this.props.transformFields,r=l["default"].merge(this.getDefaultScales(),l["default"].reduce(l["default"].map(t,function(t){return e.getSymbolScales(t)}),l["default"].merge,{}));return r.transform=function(e,t){return"translate("+r.x(e,t)+", "+r.y(e,t)+")"},r.d=function(e){return r.symbol.size(r.size(e)).type(r.shape(e))()},r}},{key:"_d3Render",value:function(){var e=this.getAttributeTransforms(),t=d["default"].select(this.refs.d3container).selectAll("g.symbol").data(this.props.markData);t.enter().append("g").attr("class","symbol").append("path"),t.selectAll("g.symbol path").attr("stroke-width",1).attr("d",e.d).attr("fill",e.color).attr("fill-opacity",e.opacity).attr("stroke-opacity",e.opacity).attr("stroke",e.color).attr("transform",e.transform),t.exit().remove()}},{key:"componentDidMount",value:function(){this._d3Render()}},{key:"componentDidUpdate",value:function(){this._d3Render()}},{key:"render",value:function(){var e=this.props,t=e.width,r=e.height;return m({ref:"d3container",width:t,height:r})}}]),t}(h["default"].Component);t["default"]=w,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.initialOffset,r=e.currentOffset;if(!t||!r)return{display:"none"};var n=r.x,o=r.y,i="translate("+n+"px, "+o+"px)";return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;n=!1,null===o&&(o=Function.prototype);var s=Object.getOwnPropertyDescriptor(o,i);if(void 0!==s){if("value"in s)return s.value;var u=s.get;if(void 0===u)return;return u.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return;e=l,t=i,r=a,n=!0,s=l=void 0}},l=r(30),c=n(l),f=r(5),d=n(f),p=r(86),h=r(198),g=r(204),m=d["default"].DOM,y=m.div,v=m.i,b=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.name,r=e.type,n=this.props.field,o=n.typecast,i=n.func;return y({className:(0,c["default"])("field-wrap",{remove:this.props.showTrashCan})},y({className:"icon-wrap"},d["default"].createElement(g.FieldIcon,{type:r,typecast:o})),y({className:"func-wrap"},(0,h.getFieldFunctionDisplayName)(i)),y({className:(0,c["default"])("name-wrap",{"has-func":null!=i})},t),this.props.showTrashCan?y({className:"option-wrap"},v({className:"fa fa-trash-o"})):null)}}]),t}(d["default"].Component),w=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){return y({className:"field-wrap"},y({className:"icon-wrap"},d["default"].createElement(g.FieldIcon,{type:this.props.type})),y({className:"name-wrap",style:{width:210}},this.props.name))}}]),t}(d["default"].Component),x=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"renderItem",value:function(e,t){switch(e){case"ShelfField":return d["default"].createElement(b,t);case"TableField":return d["default"].createElement(w,t);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.item,r=e.itemType,n=(e.isDragging,e.showTrashCan);return y({className:(0,c["default"])("field-drag-layer")},y({className:"field-drag-wrap",style:a(this.props)},this.renderItem(r,_.extend({showTrashCan:n},t))))}}]),t}(d["default"].Component);x.propTypes={item:f.PropTypes.object,itemType:f.PropTypes.string,initialOffset:f.PropTypes.shape({x:f.PropTypes.number.isRequired,y:f.PropTypes.number.isRequired}),currentOffset:f.PropTypes.shape({x:f.PropTypes.number.isRequired,y:f.PropTypes.number.isRequired}),isDragging:f.PropTypes.bool.isRequired,showTrashCan:f.PropTypes.bool.isRequired},t["default"]=(0,p.DragLayer)(function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})(x),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=d(l["default"],e);return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=r(19),a=r(290),s=n(a),u=r(291),l=n(u),c=r(311),f=n(c),d=(0,i.applyMiddleware)(f["default"],s["default"])(i.createStore);e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=e.dispatch,r=e.getState;return function(e){return function(n){return"function"==typeof n?n(t,r):e(n)}}}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(19),i=r(138),a=n(i),s=r(197),u=n(s),l=r(200),c=n(l),f=r(292),d=n(f),p=r(293),h=n(p),g=(0,o.combineReducers)({datasources:a["default"],queryspec:u["default"],visualspec:c["default"],result:d["default"],chartspec:h["default"]});t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return JSON.stringify(e)}function s(e,t){return{type:T,key:e,tableType:t}}function u(e){return{type:O,key:e}}function l(e,t){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return y["default"].extend({type:k,key:e,error:r},t)}function c(e,t){return new Promise(function(r,n){var o=(0,b.getDatasource)(e.BY_ID,e.selectedTable);o.data?setTimeout(function(){return r(D.requestQuery(t,o.data))},0):n(Error("Querying adapter not defined for protocol: "+o.protocol))})}function f(e,t,r,n){return function(o,i){return o(u(t)),c(e,r).then(function(e){o((0,_.updateChartData)(t,n,e)),o(l(t,e))})["catch"](function(e){console.error("Error: query error",e),o(l(t,null,!0))})}}function d(){return function(e,t){var r=t(),n=r.datasources,o=r.queryspec,i=r.visualspec,u=r.result,l=y["default"].curry(b.getField)(n.BY_ID,n.selectedTable),c=(0,w.getFullQueryspec)(l,o,i.table.type),d=a(c),p=u.cache[d];null==p||!p.isLoading&&!p.error&&null==p.result?e(f(n,d,c,i)):p&&!p.isLoading&&p.result&&e((0,_.updateChartData)(d,i,p)),e(s(d,i.table.type))}}function p(e,t){switch(void 0===e&&(e=C),t.type){case O:return y["default"].extend({},e,i({},t.key,{isLoading:!0}));case k:return y["default"].extend({},e,i({},t.key,{isLoading:!1,error:t.error,key:t.key,queryspec:t.queryspec,query:t.query,result:t.result}));default:return e}}function h(e,t){switch(void 0===e&&(e=E),t.type){case T:return{last:e.current,current:[t.key,t.tableType]};default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.changeRequestData=s,t.requestResultData=u,t.receiveResultData=l,t.fetchQueryData=c,t.runQuery=f,t.runCurrentQueryIfNecessary=d;var g=r(139),m=(o(g),r(9)),y=o(m),v=r(19),b=r(138),w=r(197),_=r(293),x=r(298),D=n(x),T="explorer/result/CHANGE_REQUEST_DATA";t.CHANGE_REQUEST_DATA=T;var O="explorer/result/REQUEST_RESULT_DATA";t.REQUEST_RESULT_DATA=O;var k="explorer/result/RECEIVE_RESULT_DATA";t.RECEIVE_RESULT_DATA=k;var C={},E={last:null,current:null},S=(0,v.combineReducers)({render:h,cache:p});t["default"]=S},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return{type:h,key:e,queryResponse:r,visualspec:t}}function i(e,t){switch(void 0===e&&(e=g),t.type){case h:var r=t.visualspec,n=r.table.type;if(s["default"].get([t.key,n],e))return e;var o=t.queryResponse,i=o.query,a=o.queryspec,u=o.result,m=i?(0,c.prepareAxes)(a,u):{},y=m.axes,v=m.nest,b=i?(0,f.partitionPaneData)(y,v,u):{};(0,f.aggregatePanes)(b,n,(0,s["default"])(a).omit("row","col").omit(s["default"].isEmpty).values().flatten().value(),(0,s["default"])(a).pick("row","col").omit(s["default"].isEmpty).mapValues(function(e){return(0,s["default"])(e).where({algebraType:"Q"}).size()}).values().flatten().max()>1);var w=(0,d.calculateDomains)(u,(0,s["default"])(a).values().flatten().value(),y);return l["default"].updateIn([t.key,n],{axes:y,panes:b,domains:w,scales:(0,p.calculateScales)(w,a,r)},e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.updateChartData=o,t["default"]=i;var a=r(9),s=n(a),u=r(139),l=n(u),c=r(294),f=r(297),d=r(296),p=r(310),h="explorer/chartspec/UPDATE_CHART_DATA";t.UPDATE_CHART_DATA=h;var g={}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){for(var t=0,r=e.length;r>t;t++)e[t].index=t}function a(e,t){var r=(0,f["default"])(e).mapValues(function(e){return f["default"].groupBy(e,"algebraType")}).value(),n=(0,f["default"])(r).pick("row","col").map(function(e){return f["default"].map(e.O,"name")}).flatten().map(l["default"].$).value(),o=f["default"].isEmpty(n)?{}:(0,d.calculateNest)(t,function(e){return f["default"].map(n,function(t){return t(e)})}),a=r.row&&r.row.O?r.row.O:[],s=r.col&&r.col.O?r.col.O:[],u=f["default"].mapValues((0,d.partitionNestKey)(o,a,s),function(e,t){return e=f["default"].sortByAll(e,f["default"].times("row"==t?a.length:s.length,function(e){return e+".key"})),f["default"].isEmpty(e)?[new g]:f["default"].map(e,function(e){return new g(e)})}),c=f["default"].mapValues(u,function(e,t){var n=r[t]&&r[t].Q;return f["default"].isEmpty(n)?e:(0,f["default"])(e).map(function(e){return f["default"].map(n,function(t){return e.cross(t)})}).flatten().value()});return i(c.row),i(c.col),{axes:c,nest:o}}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.prepareAxes=a;var u=r(8),l=n(u),c=r(9),f=n(c),d=r(295),p=r(296),h=r(198),g=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];o(this,e),this.ordinals=t,this.key=f["default"].map(t,"key"),this.acceptsValues=f["default"].isEmpty(this.key),this.field=r}return s(e,[{key:"cross",value:function(t){return f["default"].extend(new e,this,{field:t})}},{key:"hasQuantitativeField",value:function(){return null!=this.field}},{key:"hasField",value:function(e){var t=(0,h.getAccessorName)(e);return f["default"].contains(this.key,t)||this.fieldAccessor()==t}},{key:"map",value:function(e){for(var t=[],r=0,n=this.ordinals.length;n>r;r++)t.push(e(this.ordinals[r].field,r));return null!=this.field&&t.push(e(this.field,"Q")),t}},{key:"label",value:function(){return""+this.key.join(" ")+(this.field?" "+this.field.name:"")}},{key:"fieldAccessor",value:function(){return this.field?(0,h.getAccessorName)(this.field):null}},{key:"addDomainValue",value:function(e){return this.field&&null==this.domain&&(this.domain=new p.QuantitativeAggregator),null!=this.domain&&this.domain.add(e),this}},{key:"getDomain",value:function(){return null==this.domain?{}:this.domain.result()}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){if(0!=t.length){for(var n=0,o=t.length-1;o>n;n++)null==e[t[n]]&&(e[t[n]]={}),e=e[t[n]];e[t[n]]=r}}function i(e,t,r){if(0!=t.length){for(var n=0,o=t.length-1;o>n;n++)null==e[t[n]]&&(e[t[n]]={}),e=e[t[n]];null==e[t[n]]&&(e[t[n]]=[]),e[t[n]].push(r)}}function a(e,t){for(var r=0;r<t.length;r++){if(!e[t[r].key])return!1;e=e[t[r].key]}return e}function s(e,t,r,n,i,u,l,c){if(n==t.length+r.length)a(l.row,i)||(o(l.row,f["default"].map(i,"key"),!0),c.row.push(i)),a(l.col,u)||(o(l.col,f["default"].map(u,"key"),!0),c.col.push(u));else for(var d=0,p=Object.keys(e),h=p.length;h>d;d++){var g=p[d];s(e[g],t,r,n+1,n<t.length?i.concat([{key:g,field:t[n]}]):i,n>=t.length?u.concat([{key:g,field:r[n-t.length]}]):u,l,c)}}function u(e,t,r){var n={row:[],col:[]},o={row:{},col:{}};return s(e,t,r,0,[],[],o,n),n}function l(e,t){for(var r=arguments.length<=2||void 0===arguments[2]?i:arguments[2],n={},o=0,a=e.length;a>o;o++)r(n,t(e[o]),o);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.partitionNestKey=u,t.calculateNest=l;var c=r(9),f=n(c)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r,n){if(null!=t[r])e.add(t[r]),n&&e.add(n(t[r]));else{if(null==t.values)throw Error("Domain construction: Not supposed to get here: Missing key "+r+" and no values");for(var o=0,i=t.values.length;i>o;o++)e.add(t.values[o][r]),n&&e.add(n(t.values[o][r]))}}function a(e,t){for(var r=0,n=t.length;n>r;r++){var o=t[r];if(null!=o.domain){var i=o.getDomain();e[o.field.accessor].add(i.min).add(i.max)}}}function s(e){return function(t){return t+e}}function u(e,t){return function(r){return d3.time[e].offset(r,t)}}function l(e,t,r){var n={};if(null==e)return n;for(var o={},l=0,c=t.length;c>l;l++){var f=t[l];n[f.accessor]||(n[f.accessor]=new m[f.algebraType],o[f.accessor]=(0,p.isBinField)(f)?"time"!=(0,p.getFieldType)(f)||d["default"].contains(f.func,"bin")?"time"==(0,p.getFieldType)(f)?u(f.binSettings.unit.type,f.binSettings.step):s(f.binSettings.step):s(1):null)}a(n,r.row),a(n,r.col);for(var l=0,h=Object.keys(n),c=e.length,g=h.length;c>l;l++)for(var y=e[l],v=0;g>v;v++){var b=h[v];i(n[b],y,b,o[b])}return d["default"].mapValues(n,function(e){return e.result()})}Object.defineProperty(t,"__esModule",{value:!0});var c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.calculateDomains=l;var f=r(9),d=n(f),p=r(198),h=function(){function e(){o(this,e),this._result={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}return c(e,[{key:"add",value:function(e){return e<this._result.min&&(this._result.min=e),e>this._result.max&&(this._result.max=e),this}},{key:"result",value:function(){return this._result}},{key:"flush",value:function(){return this}}]),e}();t.QuantitativeAggregator=h;var g=function(){function e(){o(this,e),this._result={}}return c(e,[{key:"add",value:function(e){return this._result[e]=!0,this}},{key:"result",value:function t(){for(var t=[],e=0,r=Object.keys(this._result),n=r.length;n>e;e++)t.push(r[e]);return t.sort()}},{key:"flush",value:function(){return this}}]),e}();t.OrdinalAggregator=g;var m={Q:h,O:g}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,r){for(var n=e,o=0,i=t.length;i>o;o++)if(n=n[t[o]],null==n)return null;for(var o=0,i=r.length;i>o;o++)if(n=n[r[o]],null==n)return null;return n}function a(e){for(var t=[],r=0,n=e.length;n>r;r++)for(var o=e[r],i=f["default"].omit(o,"values"),a=0,s=o.values.length;s>a;a++)t.push(f["default"].extend({},i,o.values[a]));return t}function s(e,t,r){for(var n={},o=0,a=e.row.length,s=e.col.length;a>o;o++)for(var u=0;s>u;u++){var l=e.row[o],c=e.col[u];if(l.acceptsValues&&c.acceptsValues)n[o]||(n[o]={}),n[o][u]=new y(l,c,r);else{var d=i(t,l.key,c.key);null!=d&&(n[o]||(n[o]={}),n[o][u]=new y(l,c,f["default"].at(r,d)))}}return n}function u(e,t,r,n){for(var o=0,i=Object.keys(e),a=i.length;a>o;o++)for(var s=i[o],u=0,l=Object.keys(e[s]),c=l.length;c>u;u++){var d=l[u];e[s][d].aggregate(t,r,n).addDomainToAxis(t,n).sort(f["default"].map(r,"accessor"))}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.partitionPaneData=s,t.aggregatePanes=u;var c=r(9),f=n(c),d=r(198),p=r(298),h=r(299),g=(n(h),r(8)),m=n(g),y=function(){function e(t,r,n){o(this,e),this.axis={row:t,col:r},this.data=n,this.markData=null}return l(e,[{key:"aggregate",value:function t(e,r,n){var o=f["default"].filter([this.axis.row.field,this.axis.col.field]),i=o.concat(r),s=f["default"].all(i,function(e){return"value"!=(0,d.getFieldQueryType)(e)});this.data;if(n){var u=f["default"].groupBy(i,d.getFieldQueryType),l=u.groupby,c=u.operator,t=u.aggregate,h=u.value,g=m["default"].groupby(f["default"].map(l,"accessor")).summarize((0,p.translateSummary)(c,t,h)).execute(a(this.data));this.markData=s?g:a(g)}else this.markData=s?this.data:a(this.data);return this}},{key:"addDomainToAxis",value:function(e,t){var r="bar"==e||"area"==e,n=(0,d.isBinField)(this.axis.row.field)?this.axis.row:(0,d.isBinField)(this.axis.col.field)?this.axis.col:null,o=f["default"].filter([(0,d.isStackableField)(this.axis.row.field)?this.axis.row:null,(0,d.isStackableField)(this.axis.col.field)?this.axis.col:null]),i=r&&o.length>0?(n?m["default"].groupby([n.field.accessor]):m["default"].groupby()).summarize(f["default"].map(o,function(e){return{name:e.field.accessor,ops:["sum"]}})).execute(this.markData):null;if(i)for(var a=0,s=i.length;s>a;a++)for(var u=0,l=o.length;l>u;u++){var c=o[u];c.addDomainValue(i[a]["sum_"+c.field.accessor])}if(t)for(var a=0,s=this.markData.length;s>a;a++)for(var u=0,l=o.length;l>u;u++){var c=o[u];c.addDomainValue(this.markData[a][c.field.accessor])}return this}},{key:"sort",value:function(e){return this.markData=f["default"].sortByAll(this.markData,e),this}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(l["default"].isEmpty(e))return null;var r=(0,l["default"])(e).values().flatten().groupBy(d.getFieldQueryType).value(),n=r.groupby,o=r.operator,a=r.aggregate,s=r.value,u=i(o,a,s);return{groupby:l["default"].map(n,l["default"].curry(d.getFieldGroupByName)(t)),summarize:u,where:[],having:[],order:[]}}function i(e,t,r){return l["default"].merge((0,l["default"])(t).groupBy("name").mapValues(function(e){return l["default"].map(e,"func")}).value(),e?{"*":l["default"].map(e,"op")}:{},{"*":["values"]},function(e,t){return l["default"].isArray(e)?e.concat(t):void 0})}function a(e,t){return null==e?null:f["default"].groupby(e.groupby).summarize(e.summarize).execute(t)}function s(e,t){var r=o(e,t),n=a(r,t);return{query:r,queryspec:e,result:n}}Object.defineProperty(t,"__esModule",{value:!0}),t.translateTableQuery=o,t.translateSummary=i,t.performQuery=a,t.requestQuery=s;var u=r(9),l=n(u),c=r(8),f=n(c),d=r(198)},function(e,t,r){function n(){this._cells={},this._aggr=[],this._stream=!1}function o(e){if(i.isArray(e))return e;if(null==e)return[];var t,r,n=[];for(t in e)r=i.array(e[t]),n.push({name:t,ops:r});return n}var i=r(300),a=r(305),s=r(309),u=n.Flags={ADD_CELL:1,MOD_CELL:2},l=n.prototype;l.stream=function(e){return null==e?this._stream:(this._stream=!!e,this._aggr=[],this)},l.key=function(e){return null==e?this._key:(this._key=i.$(e),this)},l.groupby=function(e){return this._dims=i.array(e).map(function(e,t){if(e=i.isString(e)?{name:e,get:i.$(e)}:i.isFunction(e)?{name:i.name(e)||e.name||"_"+t,get:e}:e.name&&i.isFunction(e.get)?e:null,null==e)throw"Invalid groupby argument: "+e;return e}),this.clear()},l.summarize=function(e){e=o(e),this._count=!0;var t,r,n,s,u,l,c,f=this._aggr=[];for(n=0;n<e.length;++n){for(s=0,t=[],r=e[n];s<r.ops.length;++s)u=r.ops[s],"count"!==u&&(this._count=!1),l=r.as&&r.as[s]||u+("*"===r.name?"":"_"+r.name),t.push(a[u](l));c=r.get&&i.$(r.get)||("*"===r.name?i.identity:i.$(r.name)),f.push({name:r.name,measures:a.create(t,this._stream,c,this._assign)})}return this.clear()},l.count=function(){return this.summarize({"*":"count"})},l._assign=function(e,t,r){e[t]=r},l.clear=function(){return this._cells={},this},l._cellkey=function(e){var t,r=this._dims,n=r.length,o=String(r[0].get(e));for(t=1;n>t;++t)o+="|"+r[t].get(e);return o},l._cell=function(e){var t=this._dims.length?this._cellkey(e):"";return this._cells[t]||(this._cells[t]=this._newcell(e,t))},l._newcell=function(e,t){var r,n={num:0,tuple:this._newtuple(e,t),flag:u.ADD_CELL,aggs:{}},o=this._aggr;for(r=0;r<o.length;++r)n.aggs[o[r].name]=new o[r].measures(n,n.tuple);return n.collect&&(n.data=new s(this._key)),n},l._newtuple=function(e){var t,r,n=this._dims,o={};for(t=0,r=n.length;r>t;++t)o[n[t].name]=n[t].get(e);return this._ingest(o)},l._ingest=i.identity,l._add=function(e){var t,r=this._cell(e),n=this._aggr;if(r.num+=1,!this._count)for(r.collect&&r.data.add(e),t=0;t<n.length;++t)r.aggs[n[t].name].add(e);r.flag|=u.MOD_CELL,this._on_add&&this._on_add(e,r)},l._rem=function(e){var t,r=this._cell(e),n=this._aggr;if(r.num-=1,!this._count)for(r.collect&&r.data.rem(e),t=0;t<n.length;++t)r.aggs[n[t].name].rem(e);r.flag|=u.MOD_CELL,this._on_rem&&this._on_rem(e,r)},l._mod=function(e,t){var r,n=this._cell(t),o=this._cell(e),a=this._aggr;for(n!==o?(n.num-=1,o.num+=1,n.collect&&n.data.rem(t),o.collect&&o.data.add(e)):n.collect&&!i.isObject(e)&&(n.data.rem(t),n.data.add(e)),r=0;r<a.length;++r)n.aggs[a[r].name].rem(t),o.aggs[a[r].name].add(e);n.flag|=u.MOD_CELL,o.flag|=u.MOD_CELL,this._on_mod&&this._on_mod(e,t,n,o)},l._markMod=function(e){var t=this._cell(e);t.flag|=u.MOD_CELL},l.result=function(){var e,t,r,n=[],o=this._aggr;for(r in this._cells){if(e=this._cells[r],e.num>0){for(e.collect&&e.data.values(),t=0;t<o.length;++t)e.aggs[o[t].name].set();n.push(e.tuple)}else delete this._cells[r];e.flag=0}return this._rems=!1,n},l.changes=function(e){var t,r,n,o,i=e||{add:[],rem:[],mod:[]},a=this._aggr;for(o in this._cells){for(t=this._cells[o],r=t.flag,t.collect&&t.data.values(),n=0;n<a.length;++n)t.aggs[a[n].name].set();t.num<=0?(i.rem.push(t.tuple),delete this._cells[o],this._on_drop&&this._on_drop(t)):(this._on_keep&&this._on_keep(t),r&u.ADD_CELL?i.add.push(t.tuple):r&u.MOD_CELL&&i.mod.push(t.tuple)),t.flag=0}return this._rems=!1,i},l.execute=function(e){return this.clear().insert(e).result()},l.insert=function(e){this._consolidate();for(var t=0;t<e.length;++t)this._add(e[t]);return this},l.remove=function(e){if(!this._stream)throw"Aggregator not configured for streaming removes. Call stream(true) prior to calling summarize.";for(var t=0;t<e.length;++t)this._rem(e[t]);return this._rems=!0,this},l._consolidate=function(){if(this._rems){for(var e in this._cells)this._cells[e].collect&&this._cells[e].data.values();this._rems=!1}},e.exports=n},function(e,t,r){(function(t){function r(e){return e.replace(u,"$1\\'")}function n(e,t){var r,n="";for(r=0;e>r;++r)n+=t;return n}function o(e,t,r){var n=0,o=e.split(c);return e=r?(o=o.reverse()).filter(function(e){return n+=e.length,t>=n}).reverse():o.filter(function(e){return n+=e.length,t>=n}),e.length?e.join("").trim():o[0].slice(0,t)}var i=e.exports,a="__name__";i.namedfunc=function(e,t){return t[a]=e,t},i.name=function(e){return null==e?null:e[a]},i.identity=function(e){return e},i["true"]=i.namedfunc("true",function(){return!0}),i["false"]=i.namedfunc("false",function(){return!1}),i.duplicate=function(e){return JSON.parse(JSON.stringify(e))},i.equal=function(e,t){return JSON.stringify(e)===JSON.stringify(t)},i.extend=function(e){for(var t,r,n=1,o=arguments.length;o>n;++n){t=arguments[n];for(r in t)e[r]=t[r]}return e},i.length=function(e){return null!=e&&null!=e.length?e.length:null},i.keys=function(e){var t,r=[];for(t in e)r.push(t);return r},i.vals=function(e){var t,r=[];for(t in e)r.push(e[t]);return r},i.toMap=function(e,t){return(t=i.$(t))?e.reduce(function(e,r){return e[t(r)]=1,e},{}):e.reduce(function(e,t){return e[t]=1,e},{})},i.keystr=function(e){var t=e.length;if(!t)return"";for(var r=String(e[0]),n=1;t>n;++n)r+="|"+String(e[n]);return r};var s=Object.prototype.toString;i.isObject=function(e){return e===Object(e)},i.isFunction=function(e){return"[object Function]"===s.call(e)},i.isString=function(e){return"string"==typeof value||"[object String]"===s.call(e)},i.isArray=Array.isArray||function(e){return"[object Array]"===s.call(e)},i.isNumber=function(e){return"number"==typeof e||"[object Number]"===s.call(e)},i.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==s.call(e)},i.isDate=function(e){return"[object Date]"===s.call(e)},i.isValid=function(e){return null!=e&&e===e},i.isBuffer="function"==typeof t&&t.isBuffer||i["false"],i.number=function(e){return null==e||""===e?null:+e},i["boolean"]=function(e){return null==e||""===e?null:"false"===e?!1:!!e},i.date=function(e,t){var r=t?t:Date;return null==e||""===e?null:r.parse(e)},i.array=function(e){return null!=e?i.isArray(e)?e:[e]:[]},i.str=function(e){return i.isArray(e)?"["+e.map(i.str)+"]":i.isObject(e)?JSON.stringify(e):i.isString(e)?"'"+r(e)+"'":e};var u=/(^|[^\\])'/g,l=/\[(.*?)\]|[^.\[]+/g;i.field=function(e){return String(e).match(l).map(function(e){return"["!==e[0]?e:"'"!==e[1]&&'"'!==e[1]?e.slice(1,-1):e.slice(2,-2).replace(/\\(["'])/g,"$1")})},i.accessor=function(e){var t;return null==e||i.isFunction(e)?e:i.namedfunc(e,(t=i.field(e)).length>1?function(e){return t.reduce(function(e,t){return e[t]},e)}:function(t){return t[e]})},i.$=i.accessor,i.mutator=function(e){var t;return i.isString(e)&&(t=i.field(e)).length>1?function(e,r){for(var n=0;n<t.length-1;++n)e=e[t[n]];e[t[n]]=r}:function(t,r){t[e]=r}},i.$func=function(e,t){return function(r){r=i.$(r)||i.identity;var n=e+(i.name(r)?"_"+i.name(r):"");return i.namedfunc(n,function(e){return t(r(e))})}},i.$valid=i.$func("valid",i.isValid),i.$length=i.$func("length",i.length),i.$in=function(e,t){e=i.$(e);var r=i.isArray(t)?i.toMap(t):t;return function(t){return!!r[e(t)]}},i.comparator=function(e){var t=[];return void 0===e&&(e=[]),e=i.array(e).map(function(e){var r=1;return"-"===e[0]?(r=-1,e=e.slice(1)):"+"===e[0]&&(r=1,e=e.slice(1)),t.push(r),i.accessor(e)}),function(r,n){var o,i,a,s,u;for(o=0,i=e.length;i>o;++o){if(a=e[o],s=a(r),u=a(n),u>s)return-1*t[o];if(s>u)return t[o]}return 0}},i.cmp=function(e,t){return t>e?-1:e>t?1:e>=t?0:null===e?-1:null===t?1:NaN},i.numcmp=function(e,t){return e-t},i.stablesort=function(e,t,r){var n=e.reduce(function(e,t,n){return e[r(t)]=n,e},{});return e.sort(function(e,o){var i=t(e),a=t(o);return a>i?-1:i>a?1:n[r(e)]-n[r(o)]}),e},i.pad=function(e,t,r,o){o=o||" ";var i=t-e.length;if(0>=i)return e;switch(r){case"left":return n(i,o)+e;case"middle":case"center":return n(Math.floor(i/2),o)+e+n(Math.ceil(i/2),o);default:return e+n(i,o)}},i.truncate=function(e,t,r,n,i){var a=e.length;if(t>=a)return e;i=void 0!==i?String(i):"…";var s=Math.max(0,t-i.length);switch(r){case"left":return i+(n?o(e,s,1):e.slice(a-s));case"middle":case"center":var u=Math.ceil(s/2),l=Math.floor(s/2);return(n?o(e,u):e.slice(0,u))+i+(n?o(e,l,1):e.slice(a-l));default:return(n?o(e,s):e.slice(0,s))+i}};var c=/([\u0009\u000A\u000B\u000C\u000D\u0020\u00A0\u1680\u180E\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200A\u202F\u205F\u2028\u2029\u3000\uFEFF])/}).call(t,r(301).Buffer)},function(e,t,r){(function(e,n){function o(){function e(){}try{var t=new Uint8Array(1);return t.foo=function(){return 42},t.constructor=e,42===t.foo()&&t.constructor===e&&"function"==typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(r){return!1}}function i(){return e.TYPED_ARRAY_SUPPORT?2147483647:1073741823;
}function e(t){return this instanceof e?(this.length=0,this.parent=void 0,"number"==typeof t?a(this,t):"string"==typeof t?s(this,t,arguments.length>1?arguments[1]:"utf8"):u(this,t)):arguments.length>1?new e(t,arguments[1]):new e(t)}function a(t,r){if(t=g(t,0>r?0:0|m(r)),!e.TYPED_ARRAY_SUPPORT)for(var n=0;r>n;n++)t[n]=0;return t}function s(e,t,r){("string"!=typeof r||""===r)&&(r="utf8");var n=0|v(t,r);return e=g(e,n),e.write(t,r),e}function u(t,r){if(e.isBuffer(r))return l(t,r);if(K(r))return c(t,r);if(null==r)throw new TypeError("must start with number, buffer, array or string");if("undefined"!=typeof ArrayBuffer){if(r.buffer instanceof ArrayBuffer)return f(t,r);if(r instanceof ArrayBuffer)return d(t,r)}return r.length?p(t,r):h(t,r)}function l(e,t){var r=0|m(t.length);return e=g(e,r),t.copy(e,0,0,r),e}function c(e,t){var r=0|m(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function f(e,t){var r=0|m(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function d(t,r){return e.TYPED_ARRAY_SUPPORT?(r.byteLength,t=e._augment(new Uint8Array(r))):t=f(t,new Uint8Array(r)),t}function p(e,t){var r=0|m(t.length);e=g(e,r);for(var n=0;r>n;n+=1)e[n]=255&t[n];return e}function h(e,t){var r,n=0;"Buffer"===t.type&&K(t.data)&&(r=t.data,n=0|m(r.length)),e=g(e,n);for(var o=0;n>o;o+=1)e[o]=255&r[o];return e}function g(t,r){e.TYPED_ARRAY_SUPPORT?(t=e._augment(new Uint8Array(r)),t.__proto__=e.prototype):(t.length=r,t._isBuffer=!0);var n=0!==r&&r<=e.poolSize>>>1;return n&&(t.parent=Q),t}function m(e){if(e>=i())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i().toString(16)+" bytes");return 0|e}function y(t,r){if(!(this instanceof y))return new y(t,r);var n=new e(t,r);return delete n.parent,n}function v(e,t){"string"!=typeof e&&(e=""+e);var r=e.length;if(0===r)return 0;for(var n=!1;;)switch(t){case"ascii":case"binary":case"raw":case"raws":return r;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return Y(e).length;default:if(n)return U(e).length;t=(""+t).toLowerCase(),n=!0}}function b(e,t,r){var n=!1;if(t=0|t,r=void 0===r||r===1/0?this.length:0|r,e||(e="utf8"),0>t&&(t=0),r>this.length&&(r=this.length),t>=r)return"";for(;;)switch(e){case"hex":return M(this,t,r);case"utf8":case"utf-8":return C(this,t,r);case"ascii":return S(this,t,r);case"binary":return R(this,t,r);case"base64":return k(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function w(e,t,r,n){r=Number(r)||0;var o=e.length-r;n?(n=Number(n),n>o&&(n=o)):n=o;var i=t.length;if(i%2!==0)throw new Error("Invalid hex string");n>i/2&&(n=i/2);for(var a=0;n>a;a++){var s=parseInt(t.substr(2*a,2),16);if(isNaN(s))throw new Error("Invalid hex string");e[r+a]=s}return a}function _(e,t,r,n){return W(U(t,e.length-r),e,r,n)}function x(e,t,r,n){return W(G(t),e,r,n)}function D(e,t,r,n){return x(e,t,r,n)}function T(e,t,r,n){return W(Y(t),e,r,n)}function O(e,t,r,n){return W(V(t,e.length-r),e,r,n)}function k(e,t,r){return 0===t&&r===e.length?X.fromByteArray(e):X.fromByteArray(e.slice(t,r))}function C(e,t,r){r=Math.min(e.length,r);for(var n=[],o=t;r>o;){var i=e[o],a=null,s=i>239?4:i>223?3:i>191?2:1;if(r>=o+s){var u,l,c,f;switch(s){case 1:128>i&&(a=i);break;case 2:u=e[o+1],128===(192&u)&&(f=(31&i)<<6|63&u,f>127&&(a=f));break;case 3:u=e[o+1],l=e[o+2],128===(192&u)&&128===(192&l)&&(f=(15&i)<<12|(63&u)<<6|63&l,f>2047&&(55296>f||f>57343)&&(a=f));break;case 4:u=e[o+1],l=e[o+2],c=e[o+3],128===(192&u)&&128===(192&l)&&128===(192&c)&&(f=(15&i)<<18|(63&u)<<12|(63&l)<<6|63&c,f>65535&&1114112>f&&(a=f))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),o+=s}return E(n)}function E(e){var t=e.length;if(J>=t)return String.fromCharCode.apply(String,e);for(var r="",n=0;t>n;)r+=String.fromCharCode.apply(String,e.slice(n,n+=J));return r}function S(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;r>o;o++)n+=String.fromCharCode(127&e[o]);return n}function R(e,t,r){var n="";r=Math.min(e.length,r);for(var o=t;r>o;o++)n+=String.fromCharCode(e[o]);return n}function M(e,t,r){var n=e.length;(!t||0>t)&&(t=0),(!r||0>r||r>n)&&(r=n);for(var o="",i=t;r>i;i++)o+=B(e[i]);return o}function A(e,t,r){for(var n=e.slice(t,r),o="",i=0;i<n.length;i+=2)o+=String.fromCharCode(n[i]+256*n[i+1]);return o}function P(e,t,r){if(e%1!==0||0>e)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(t,r,n,o,i,a){if(!e.isBuffer(t))throw new TypeError("buffer must be a Buffer instance");if(r>i||a>r)throw new RangeError("value is out of bounds");if(n+o>t.length)throw new RangeError("index out of range")}function N(e,t,r,n){0>t&&(t=65535+t+1);for(var o=0,i=Math.min(e.length-r,2);i>o;o++)e[r+o]=(t&255<<8*(n?o:1-o))>>>8*(n?o:1-o)}function j(e,t,r,n){0>t&&(t=4294967295+t+1);for(var o=0,i=Math.min(e.length-r,4);i>o;o++)e[r+o]=t>>>8*(n?o:3-o)&255}function F(e,t,r,n,o,i){if(t>o||i>t)throw new RangeError("value is out of bounds");if(r+n>e.length)throw new RangeError("index out of range");if(0>r)throw new RangeError("index out of range")}function L(e,t,r,n,o){return o||F(e,t,r,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(e,t,r,n,23,4),r+4}function H(e,t,r,n,o){return o||F(e,t,r,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(e,t,r,n,52,8),r+8}function q(e){if(e=z(e).replace(ee,""),e.length<2)return"";for(;e.length%4!==0;)e+="=";return e}function z(e){return e.trim?e.trim():e.replace(/^\s+|\s+$/g,"")}function B(e){return 16>e?"0"+e.toString(16):e.toString(16)}function U(e,t){t=t||1/0;for(var r,n=e.length,o=null,i=[],a=0;n>a;a++){if(r=e.charCodeAt(a),r>55295&&57344>r){if(!o){if(r>56319){(t-=3)>-1&&i.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&i.push(239,191,189);continue}o=r;continue}if(56320>r){(t-=3)>-1&&i.push(239,191,189),o=r;continue}r=(o-55296<<10|r-56320)+65536}else o&&(t-=3)>-1&&i.push(239,191,189);if(o=null,128>r){if((t-=1)<0)break;i.push(r)}else if(2048>r){if((t-=2)<0)break;i.push(r>>6|192,63&r|128)}else if(65536>r){if((t-=3)<0)break;i.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(1114112>r))throw new Error("Invalid code point");if((t-=4)<0)break;i.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return i}function G(e){for(var t=[],r=0;r<e.length;r++)t.push(255&e.charCodeAt(r));return t}function V(e,t){for(var r,n,o,i=[],a=0;a<e.length&&!((t-=2)<0);a++)r=e.charCodeAt(a),n=r>>8,o=r%256,i.push(o),i.push(n);return i}function Y(e){return X.toByteArray(q(e))}function W(e,t,r,n){for(var o=0;n>o&&!(o+r>=t.length||o>=e.length);o++)t[o+r]=e[o];return o}/*!
	 * The buffer module from node.js, for the browser.
	 *
	 * @author   Feross Aboukhadijeh <feross@feross.org> <http://feross.org>
	 * @license  MIT
	 */
var X=r(302),$=r(303),K=r(304);t.Buffer=e,t.SlowBuffer=y,t.INSPECT_MAX_BYTES=50,e.poolSize=8192;var Q={};e.TYPED_ARRAY_SUPPORT=void 0!==n.TYPED_ARRAY_SUPPORT?n.TYPED_ARRAY_SUPPORT:o(),e.TYPED_ARRAY_SUPPORT&&(e.prototype.__proto__=Uint8Array.prototype,e.__proto__=Uint8Array),e.isBuffer=function(e){return!(null==e||!e._isBuffer)},e.compare=function(t,r){if(!e.isBuffer(t)||!e.isBuffer(r))throw new TypeError("Arguments must be Buffers");if(t===r)return 0;for(var n=t.length,o=r.length,i=0,a=Math.min(n,o);a>i&&t[i]===r[i];)++i;return i!==a&&(n=t[i],o=r[i]),o>n?-1:n>o?1:0},e.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"raw":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},e.concat=function(t,r){if(!K(t))throw new TypeError("list argument must be an Array of Buffers.");if(0===t.length)return new e(0);var n;if(void 0===r)for(r=0,n=0;n<t.length;n++)r+=t[n].length;var o=new e(r),i=0;for(n=0;n<t.length;n++){var a=t[n];a.copy(o,i),i+=a.length}return o},e.byteLength=v,e.prototype.length=void 0,e.prototype.parent=void 0,e.prototype.toString=function(){var e=0|this.length;return 0===e?"":0===arguments.length?C(this,0,e):b.apply(this,arguments)},e.prototype.equals=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?!0:0===e.compare(this,t)},e.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return this.length>0&&(e=this.toString("hex",0,r).match(/.{2}/g).join(" "),this.length>r&&(e+=" ... ")),"<Buffer "+e+">"},e.prototype.compare=function(t){if(!e.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t?0:e.compare(this,t)},e.prototype.indexOf=function(t,r){function n(e,t,r){for(var n=-1,o=0;r+o<e.length;o++)if(e[r+o]===t[-1===n?0:o-n]){if(-1===n&&(n=o),o-n+1===t.length)return r+n}else n=-1;return-1}if(r>2147483647?r=2147483647:-2147483648>r&&(r=-2147483648),r>>=0,0===this.length)return-1;if(r>=this.length)return-1;if(0>r&&(r=Math.max(this.length+r,0)),"string"==typeof t)return 0===t.length?-1:String.prototype.indexOf.call(this,t,r);if(e.isBuffer(t))return n(this,t,r);if("number"==typeof t)return e.TYPED_ARRAY_SUPPORT&&"function"===Uint8Array.prototype.indexOf?Uint8Array.prototype.indexOf.call(this,t,r):n(this,[t],r);throw new TypeError("val must be string, number or Buffer")},e.prototype.get=function(e){return console.log(".get() is deprecated. Access using array indexes instead."),this.readUInt8(e)},e.prototype.set=function(e,t){return console.log(".set() is deprecated. Access using array indexes instead."),this.writeUInt8(e,t)},e.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t=0|t,isFinite(r)?(r=0|r,void 0===n&&(n="utf8")):(n=r,r=void 0);else{var o=n;n=t,t=0|r,r=o}var i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(0>r||0>t)||t>this.length)throw new RangeError("attempt to write outside buffer bounds");n||(n="utf8");for(var a=!1;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":return x(this,e,t,r);case"binary":return D(this,e,t,r);case"base64":return T(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return O(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},e.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var J=4096;e.prototype.slice=function(t,r){var n=this.length;t=~~t,r=void 0===r?n:~~r,0>t?(t+=n,0>t&&(t=0)):t>n&&(t=n),0>r?(r+=n,0>r&&(r=0)):r>n&&(r=n),t>r&&(r=t);var o;if(e.TYPED_ARRAY_SUPPORT)o=e._augment(this.subarray(t,r));else{var i=r-t;o=new e(i,void 0);for(var a=0;i>a;a++)o[a]=this[a+t]}return o.length&&(o.parent=this.parent||this),o},e.prototype.readUIntLE=function(e,t,r){e=0|e,t=0|t,r||P(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return n},e.prototype.readUIntBE=function(e,t,r){e=0|e,t=0|t,r||P(e,t,this.length);for(var n=this[e+--t],o=1;t>0&&(o*=256);)n+=this[e+--t]*o;return n},e.prototype.readUInt8=function(e,t){return t||P(e,1,this.length),this[e]},e.prototype.readUInt16LE=function(e,t){return t||P(e,2,this.length),this[e]|this[e+1]<<8},e.prototype.readUInt16BE=function(e,t){return t||P(e,2,this.length),this[e]<<8|this[e+1]},e.prototype.readUInt32LE=function(e,t){return t||P(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},e.prototype.readUInt32BE=function(e,t){return t||P(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},e.prototype.readIntLE=function(e,t,r){e=0|e,t=0|t,r||P(e,t,this.length);for(var n=this[e],o=1,i=0;++i<t&&(o*=256);)n+=this[e+i]*o;return o*=128,n>=o&&(n-=Math.pow(2,8*t)),n},e.prototype.readIntBE=function(e,t,r){e=0|e,t=0|t,r||P(e,t,this.length);for(var n=t,o=1,i=this[e+--n];n>0&&(o*=256);)i+=this[e+--n]*o;return o*=128,i>=o&&(i-=Math.pow(2,8*t)),i},e.prototype.readInt8=function(e,t){return t||P(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},e.prototype.readInt16LE=function(e,t){t||P(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt16BE=function(e,t){t||P(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},e.prototype.readInt32LE=function(e,t){return t||P(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},e.prototype.readInt32BE=function(e,t){return t||P(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},e.prototype.readFloatLE=function(e,t){return t||P(e,4,this.length),$.read(this,e,!0,23,4)},e.prototype.readFloatBE=function(e,t){return t||P(e,4,this.length),$.read(this,e,!1,23,4)},e.prototype.readDoubleLE=function(e,t){return t||P(e,8,this.length),$.read(this,e,!0,52,8)},e.prototype.readDoubleBE=function(e,t){return t||P(e,8,this.length),$.read(this,e,!1,52,8)},e.prototype.writeUIntLE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||I(this,e,t,r,Math.pow(2,8*r),0);var o=1,i=0;for(this[t]=255&e;++i<r&&(o*=256);)this[t+i]=e/o&255;return t+r},e.prototype.writeUIntBE=function(e,t,r,n){e=+e,t=0|t,r=0|r,n||I(this,e,t,r,Math.pow(2,8*r),0);var o=r-1,i=1;for(this[t+o]=255&e;--o>=0&&(i*=256);)this[t+o]=e/i&255;return t+r},e.prototype.writeUInt8=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,1,255,0),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[r]=255&t,r+1},e.prototype.writeUInt16LE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},e.prototype.writeUInt16BE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,2,65535,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},e.prototype.writeUInt32LE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r+3]=t>>>24,this[r+2]=t>>>16,this[r+1]=t>>>8,this[r]=255&t):j(this,t,r,!0),r+4},e.prototype.writeUInt32BE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,4,4294967295,0),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):j(this,t,r,!1),r+4},e.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=0,a=1,s=0>e?1:0;for(this[t]=255&e;++i<r&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+r},e.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t=0|t,!n){var o=Math.pow(2,8*r-1);I(this,e,t,r,o-1,-o)}var i=r-1,a=1,s=0>e?1:0;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=(e/a>>0)-s&255;return t+r},e.prototype.writeInt8=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,1,127,-128),e.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),0>t&&(t=255+t+1),this[r]=255&t,r+1},e.prototype.writeInt16LE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8):N(this,t,r,!0),r+2},e.prototype.writeInt16BE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,2,32767,-32768),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>8,this[r+1]=255&t):N(this,t,r,!1),r+2},e.prototype.writeInt32LE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,4,2147483647,-2147483648),e.TYPED_ARRAY_SUPPORT?(this[r]=255&t,this[r+1]=t>>>8,this[r+2]=t>>>16,this[r+3]=t>>>24):j(this,t,r,!0),r+4},e.prototype.writeInt32BE=function(t,r,n){return t=+t,r=0|r,n||I(this,t,r,4,2147483647,-2147483648),0>t&&(t=4294967295+t+1),e.TYPED_ARRAY_SUPPORT?(this[r]=t>>>24,this[r+1]=t>>>16,this[r+2]=t>>>8,this[r+3]=255&t):j(this,t,r,!1),r+4},e.prototype.writeFloatLE=function(e,t,r){return L(this,e,t,!0,r)},e.prototype.writeFloatBE=function(e,t,r){return L(this,e,t,!1,r)},e.prototype.writeDoubleLE=function(e,t,r){return H(this,e,t,!0,r)},e.prototype.writeDoubleBE=function(e,t,r){return H(this,e,t,!1,r)},e.prototype.copy=function(t,r,n,o){if(n||(n=0),o||0===o||(o=this.length),r>=t.length&&(r=t.length),r||(r=0),o>0&&n>o&&(o=n),o===n)return 0;if(0===t.length||0===this.length)return 0;if(0>r)throw new RangeError("targetStart out of bounds");if(0>n||n>=this.length)throw new RangeError("sourceStart out of bounds");if(0>o)throw new RangeError("sourceEnd out of bounds");o>this.length&&(o=this.length),t.length-r<o-n&&(o=t.length-r+n);var i,a=o-n;if(this===t&&r>n&&o>r)for(i=a-1;i>=0;i--)t[i+r]=this[i+n];else if(1e3>a||!e.TYPED_ARRAY_SUPPORT)for(i=0;a>i;i++)t[i+r]=this[i+n];else t._set(this.subarray(n,n+a),r);return a},e.prototype.fill=function(e,t,r){if(e||(e=0),t||(t=0),r||(r=this.length),t>r)throw new RangeError("end < start");if(r!==t&&0!==this.length){if(0>t||t>=this.length)throw new RangeError("start out of bounds");if(0>r||r>this.length)throw new RangeError("end out of bounds");var n;if("number"==typeof e)for(n=t;r>n;n++)this[n]=e;else{var o=U(e.toString()),i=o.length;for(n=t;r>n;n++)this[n]=o[n%i]}return this}},e.prototype.toArrayBuffer=function(){if("undefined"!=typeof Uint8Array){if(e.TYPED_ARRAY_SUPPORT)return new e(this).buffer;for(var t=new Uint8Array(this.length),r=0,n=t.length;n>r;r+=1)t[r]=this[r];return t.buffer}throw new TypeError("Buffer.toArrayBuffer not supported in this browser")};var Z=e.prototype;e._augment=function(t){return t.constructor=e,t._isBuffer=!0,t._set=t.set,t.get=Z.get,t.set=Z.set,t.write=Z.write,t.toString=Z.toString,t.toLocaleString=Z.toString,t.toJSON=Z.toJSON,t.equals=Z.equals,t.compare=Z.compare,t.indexOf=Z.indexOf,t.copy=Z.copy,t.slice=Z.slice,t.readUIntLE=Z.readUIntLE,t.readUIntBE=Z.readUIntBE,t.readUInt8=Z.readUInt8,t.readUInt16LE=Z.readUInt16LE,t.readUInt16BE=Z.readUInt16BE,t.readUInt32LE=Z.readUInt32LE,t.readUInt32BE=Z.readUInt32BE,t.readIntLE=Z.readIntLE,t.readIntBE=Z.readIntBE,t.readInt8=Z.readInt8,t.readInt16LE=Z.readInt16LE,t.readInt16BE=Z.readInt16BE,t.readInt32LE=Z.readInt32LE,t.readInt32BE=Z.readInt32BE,t.readFloatLE=Z.readFloatLE,t.readFloatBE=Z.readFloatBE,t.readDoubleLE=Z.readDoubleLE,t.readDoubleBE=Z.readDoubleBE,t.writeUInt8=Z.writeUInt8,t.writeUIntLE=Z.writeUIntLE,t.writeUIntBE=Z.writeUIntBE,t.writeUInt16LE=Z.writeUInt16LE,t.writeUInt16BE=Z.writeUInt16BE,t.writeUInt32LE=Z.writeUInt32LE,t.writeUInt32BE=Z.writeUInt32BE,t.writeIntLE=Z.writeIntLE,t.writeIntBE=Z.writeIntBE,t.writeInt8=Z.writeInt8,t.writeInt16LE=Z.writeInt16LE,t.writeInt16BE=Z.writeInt16BE,t.writeInt32LE=Z.writeInt32LE,t.writeInt32BE=Z.writeInt32BE,t.writeFloatLE=Z.writeFloatLE,t.writeFloatBE=Z.writeFloatBE,t.writeDoubleLE=Z.writeDoubleLE,t.writeDoubleBE=Z.writeDoubleBE,t.fill=Z.fill,t.inspect=Z.inspect,t.toArrayBuffer=Z.toArrayBuffer,t};var ee=/[^+\/0-9A-Za-z-_]/g}).call(t,r(301).Buffer,function(){return this}())},function(e,t,r){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";!function(e){"use strict";function t(e){var t=e.charCodeAt(0);return t===a||t===f?62:t===s||t===d?63:u>t?-1:u+10>t?t-u+26+26:c+26>t?t-c:l+26>t?t-l+26:void 0}function r(e){function r(e){l[f++]=e}var n,o,a,s,u,l;if(e.length%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var c=e.length;u="="===e.charAt(c-2)?2:"="===e.charAt(c-1)?1:0,l=new i(3*e.length/4-u),a=u>0?e.length-4:e.length;var f=0;for(n=0,o=0;a>n;n+=4,o+=3)s=t(e.charAt(n))<<18|t(e.charAt(n+1))<<12|t(e.charAt(n+2))<<6|t(e.charAt(n+3)),r((16711680&s)>>16),r((65280&s)>>8),r(255&s);return 2===u?(s=t(e.charAt(n))<<2|t(e.charAt(n+1))>>4,r(255&s)):1===u&&(s=t(e.charAt(n))<<10|t(e.charAt(n+1))<<4|t(e.charAt(n+2))>>2,r(s>>8&255),r(255&s)),l}function o(e){function t(e){return n.charAt(e)}function r(e){return t(e>>18&63)+t(e>>12&63)+t(e>>6&63)+t(63&e)}var o,i,a,s=e.length%3,u="";for(o=0,a=e.length-s;a>o;o+=3)i=(e[o]<<16)+(e[o+1]<<8)+e[o+2],u+=r(i);switch(s){case 1:i=e[e.length-1],u+=t(i>>2),u+=t(i<<4&63),u+="==";break;case 2:i=(e[e.length-2]<<8)+e[e.length-1],u+=t(i>>10),u+=t(i>>4&63),u+=t(i<<2&63),u+="="}return u}var i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="+".charCodeAt(0),s="/".charCodeAt(0),u="0".charCodeAt(0),l="a".charCodeAt(0),c="A".charCodeAt(0),f="-".charCodeAt(0),d="_".charCodeAt(0);e.toByteArray=r,e.fromByteArray=o}(t)},function(e,t){t.read=function(e,t,r,n,o){var i,a,s=8*o-n-1,u=(1<<s)-1,l=u>>1,c=-7,f=r?o-1:0,d=r?-1:1,p=e[t+f];for(f+=d,i=p&(1<<-c)-1,p>>=-c,c+=s;c>0;i=256*i+e[t+f],f+=d,c-=8);for(a=i&(1<<-c)-1,i>>=-c,c+=n;c>0;a=256*a+e[t+f],f+=d,c-=8);if(0===i)i=1-l;else{if(i===u)return a?NaN:(p?-1:1)*(1/0);a+=Math.pow(2,n),i-=l}return(p?-1:1)*a*Math.pow(2,i-n)},t.write=function(e,t,r,n,o,i){var a,s,u,l=8*i-o-1,c=(1<<l)-1,f=c>>1,d=23===o?Math.pow(2,-24)-Math.pow(2,-77):0,p=n?0:i-1,h=n?1:-1,g=0>t||0===t&&0>1/t?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(s=isNaN(t)?1:0,a=c):(a=Math.floor(Math.log(t)/Math.LN2),t*(u=Math.pow(2,-a))<1&&(a--,u*=2),t+=a+f>=1?d/u:d*Math.pow(2,1-f),t*u>=2&&(a++,u/=2),a+f>=c?(s=0,a=c):a+f>=1?(s=(t*u-1)*Math.pow(2,o),a+=f):(s=t*Math.pow(2,f-1)*Math.pow(2,o),a=0));o>=8;e[r+p]=255&s,p+=h,s/=256,o-=8);for(a=a<<o|s,l+=o;l>0;e[r+p]=255&a,p+=h,a/=256,l-=8);e[r+p-h]|=128*g}},function(e,t){var r={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==r.call(e)}},function(e,t,r){function n(e){return function(t){var r=a.extend({init:"",add:"",rem:"",idx:0},e);return r.out=t||e.name,r}}function o(e,t){function r(e,n){function o(t){e[t]||r(e,e[t]=s[t]())}return n.req&&n.req.forEach(o),t&&n.str&&n.str.forEach(o),e}var n=e.reduce(r,e.reduce(function(e,t){return e[t.name]=t,e},{}));return a.vals(n).sort(function(e,t){return e.idx-t.idx})}function i(e,t,n,i){var s=o(e,t),u="this.cell = cell; this.tuple = t; this.valid = 0; this.missing = 0;",l="if (v==null) this.missing++; if (!this.isValid(v)) return; ++this.valid;",c="if (v==null) this.missing--; if (!this.isValid(v)) return; --this.valid;",f="var t = this.tuple; var cell = this.cell;";return s.forEach(function(e){e.idx<0?(u=e.init+u,l=e.add+l,c=e.rem+c):(u+=e.init,l+=e.add,c+=e.rem)}),e.slice().sort(function(e,t){return e.idx-t.idx}).forEach(function(e){f+="this.assign(t,'"+e.out+"',"+e.set+");"}),f+="return t;",u=Function("cell","t",u),u.prototype.assign=i,u.prototype.add=Function("t","var v = this.get(t);"+l),u.prototype.rem=Function("t","var v = this.get(t);"+c),u.prototype.set=Function(f),u.prototype.get=n,u.prototype.distinct=r(306).count.distinct,u.prototype.isValid=a.isValid,u.fields=e.map(a.$("out")),u}var a=r(300),s={values:n({name:"values",init:"cell.collect = true;",set:"cell.data.values()",idx:-1}),count:n({name:"count",set:"cell.num"}),missing:n({name:"missing",set:"this.missing"}),valid:n({name:"valid",set:"this.valid"}),sum:n({name:"sum",init:"this.sum = 0;",add:"this.sum += v;",rem:"this.sum -= v;",set:"this.sum"}),mean:n({name:"mean",init:"this.mean = 0;",add:"var d = v - this.mean; this.mean += d / this.valid;",rem:"var d = v - this.mean; this.mean -= this.valid ? d / this.valid : this.mean;",set:"this.mean"}),average:n({name:"average",set:"this.mean",req:["mean"],idx:1}),variance:n({name:"variance",init:"this.dev = 0;",add:"this.dev += d * (v - this.mean);",rem:"this.dev -= d * (v - this.mean);",set:"this.valid > 1 ? this.dev / (this.valid-1) : 0",req:["mean"],idx:1}),variancep:n({name:"variancep",set:"this.valid > 1 ? this.dev / this.valid : 0",req:["variance"],idx:2}),stdev:n({name:"stdev",set:"this.valid > 1 ? Math.sqrt(this.dev / (this.valid-1)) : 0",req:["variance"],idx:2}),stdevp:n({name:"stdevp",set:"this.valid > 1 ? Math.sqrt(this.dev / this.valid) : 0",req:["variance"],idx:2}),median:n({name:"median",set:"cell.data.q2(this.get)",req:["values"],idx:3}),q1:n({name:"q1",set:"cell.data.q1(this.get)",req:["values"],idx:3}),q3:n({name:"q3",set:"cell.data.q3(this.get)",req:["values"],idx:3}),distinct:n({name:"distinct",set:"this.distinct(cell.data.values(), this.get)",req:["values"],idx:3}),argmin:n({name:"argmin",add:"if (v < this.min) this.argmin = t;",rem:"if (v <= this.min) this.argmin = null;",set:"this.argmin = this.argmin || cell.data.argmin(this.get)",req:["min"],str:["values"],idx:3}),argmax:n({name:"argmax",add:"if (v > this.max) this.argmax = t;",rem:"if (v >= this.max) this.argmax = null;",set:"this.argmax = this.argmax || cell.data.argmax(this.get)",req:["max"],str:["values"],idx:3}),min:n({name:"min",init:"this.min = +Infinity;",add:"if (v < this.min) this.min = v;",rem:"if (v <= this.min) this.min = NaN;",set:"this.min = (isNaN(this.min) ? cell.data.min(this.get) : this.min)",str:["values"],idx:4}),max:n({name:"max",init:"this.max = -Infinity;",add:"if (v > this.max) this.max = v;",rem:"if (v >= this.max) this.max = NaN;",set:"this.max = (isNaN(this.max) ? cell.data.max(this.get) : this.max)",str:["values"],idx:4}),modeskew:n({name:"modeskew",set:"this.dev===0 ? 0 : (this.mean - cell.data.q2(this.get)) / Math.sqrt(this.dev/(this.valid-1))",req:["mean","stdev","median"],idx:5})};s.create=i,e.exports=s},function(e,t,r){function n(e,t,r){var n=e&&e.nullh||0,o=u.random.normal(0,1),i=l.mean(t,r),a=l.stdev(t,r)/Math.sqrt(l.count.valid(t,r));if(0===a)return i-n===0?1:0;var s=(i-n)/a;return 2*o.cdf(-Math.abs(s))}function o(e,t,r,n){var o,i=n?t.map(a.$(r)):t,s=n?t.map(a.$(n)):r,u=l.count(i),c=l.count(s),f=Array();if(u!==c)throw Error("Array lengths must match.");for(o=0;u>o;++o)a.isValid(i[o])&&a.isValid(s[o])&&f.push(i[o]-s[o]);return l.z.test(f,e&&e.nullh||0)}function i(e,t,r,n){var o=n?t.map(a.$(r)):t,i=n?t.map(a.$(n)):r,s=l.count.valid(o),c=l.count.valid(i),f=u.random.normal(0,1),d=l.mean(o)-l.mean(i)-(e&&e.nullh||0),p=Math.sqrt(l.variance(o)/s+l.variance(i)/c);if(0===p)return 0===d?1:0;var h=d/p;return 2*f.cdf(-Math.abs(h))}var a=r(300),s=r(307),u=r(308),l=e.exports;l.unique=function(e,t,r){t=a.$(t),r=r||[];var n,o,i,s={};for(o=0,i=e.length;i>o;++o)n=t?t(e[o]):e[o],n in s||(s[n]=1,r.push(n));return r},l.count=function(e){return e&&e.length||0},l.count.valid=function(e,t){t=a.$(t);var r,n,o,i=0;for(n=0,o=e.length;o>n;++n)r=t?t(e[n]):e[n],a.isValid(r)&&(i+=1);return i},l.count.missing=function(e,t){t=a.$(t);var r,n,o,i=0;for(n=0,o=e.length;o>n;++n)r=t?t(e[n]):e[n],null==r&&(i+=1);return i},l.count.distinct=function(e,t){t=a.$(t);var r,n,o,i={},s=0;for(n=0,o=e.length;o>n;++n)r=t?t(e[n]):e[n],r in i||(i[r]=1,s+=1);return s},l.count.map=function(e,t){t=a.$(t);var r,n,o,i={};for(n=0,o=e.length;o>n;++n)r=t?t(e[n]):e[n],i[r]=r in i?i[r]+1:1;return i},l.median=function(e,t){return t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp),l.quantile(e,.5)},l.quartile=function(e,t){t&&(e=e.map(a.$(t))),e=e.filter(a.isValid).sort(a.cmp);var r=l.quantile;return[r(e,.25),r(e,.5),r(e,.75)]},l.quantile=function(e,t,r){void 0===r&&(r=t,t=a.identity),t=a.$(t);var n=(e.length-1)*r+1,o=Math.floor(n),i=+t(e[o-1]),s=n-o;return s?i+s*(t(e[o])-i):i},l.sum=function(e,t){t=a.$(t);for(var r,n=0,o=0,i=e.length;i>o;++o)r=t?t(e[o]):e[o],a.isValid(r)&&(n+=r);return n},l.mean=function(e,t){t=a.$(t);var r,n,o,i,s,u=0;for(n=0,i=0,o=e.length;o>n;++n)s=t?t(e[n]):e[n],a.isValid(s)&&(r=s-u,u+=r/++i);return u},l.variance=function(e,t){if(t=a.$(t),!a.isArray(e)||e.length<2)return 0;var r,n,o,i,s=0,u=0;for(n=0,o=0;n<e.length;++n)i=t?t(e[n]):e[n],a.isValid(i)&&(r=i-s,s+=r/++o,u+=r*(i-s));return u/=o-1},l.stdev=function(e,t){return Math.sqrt(l.variance(e,t))},l.modeskew=function(e,t){var r=l.mean(e,t),n=l.median(e,t),o=l.stdev(e,t);return 0===o?0:(r-n)/o},l.min=function(e,t){return l.extent(e,t)[0]},l.max=function(e,t){return l.extent(e,t)[1]},l.extent=function(e,t){t=a.$(t);var r,n,o,i,s=e.length;for(i=0;s>i;++i)if(o=t?t(e[i]):e[i],a.isValid(o)){r=n=o;break}for(;s>i;++i)o=t?t(e[i]):e[i],a.isValid(o)&&(r>o&&(r=o),o>n&&(n=o));return[r,n]},l.extent.index=function(e,t){t=a.$(t);var r,n,o,i,s=-1,u=-1,l=e.length;for(i=0;l>i;++i)if(o=t?t(e[i]):e[i],a.isValid(o)){r=n=o,s=u=i;break}for(;l>i;++i)o=t?t(e[i]):e[i],a.isValid(o)&&(r>o&&(r=o,s=i),o>n&&(n=o,u=i));return[s,u]},l.dot=function(e,t,r){var n,o,i=0;if(r)for(t=a.$(t),r=a.$(r),n=0;n<e.length;++n)o=t(e[n])*r(e[n]),o===o&&(i+=o);else{if(e.length!==t.length)throw Error("Array lengths must match.");for(n=0;n<e.length;++n)o=e[n]*t[n],o===o&&(i+=o)}return i},l.dist=function(e,t,r,n){var o,i,s=a.isFunction(r)||a.isString(r),u=e,l=s?e:t,c=s?n:r,f=2===c||null==c,d=e.length,p=0;for(s&&(t=a.$(t),r=a.$(r)),i=0;d>i;++i)o=s?t(u[i])-r(l[i]):u[i]-l[i],p+=f?o*o:Math.pow(Math.abs(o),c);return f?Math.sqrt(p):Math.pow(p,1/c)},l.cohensd=function(e,t,r){var n=r?e.map(a.$(t)):e,o=r?e.map(a.$(r)):t,i=l.mean(n),s=l.mean(o),u=l.count.valid(n),c=l.count.valid(o);if(0>=u+c-2)return 0;var f=l.variance(n),d=l.variance(o),p=Math.sqrt(((u-1)*f+(c-1)*d)/(u+c-2));return 0===p?0:(i-s)/p},l.covariance=function(e,t,r){var n,o,i,s,u,c=r?e.map(a.$(t)):e,f=r?e.map(a.$(r)):t,d=c.length,p=l.mean(c),h=l.mean(f),g=0,m=0;if(d!==f.length)throw Error("Input lengths must match.");for(n=0;d>n;++n)if(o=c[n],s=a.isValid(o),i=f[n],u=a.isValid(i),s&&u)g+=(o-p)*(i-h),++m;else if(s||u)throw Error("Valid values must align.");return g/(m-1)},l.rank=function(e,t){t=a.$(t)||a.identity;var r,n,o,i=e.map(function(e,r){return{idx:r,val:t(e)}}).sort(a.comparator("val")),s=e.length,u=Array(s),l=-1,c={};for(r=0;s>r;++r){if(n=i[r].val,0>l&&c===n)l=r-1;else if(l>-1&&c!==n){for(o=1+(r-1+l)/2;r>l;++l)u[i[l].idx]=o;l=-1}u[i[r].idx]=r+1,c=n}if(l>-1)for(o=1+(s-1+l)/2;s>l;++l)u[i[l].idx]=o;return u},l.cor=function(e,t,r){var n=r;r=n?e.map(a.$(r)):t,t=n?e.map(a.$(t)):e;var o=l.dot(t,r),i=l.mean(t),s=l.mean(r),u=l.stdev(t),c=l.stdev(r),f=e.length;return(o-f*i*s)/((f-1)*u*c)},l.cor.rank=function(e,t,r){var n,o,i,a=r?l.rank(e,t):l.rank(e),s=r?l.rank(e,r):l.rank(t),u=e.length;for(n=0,o=0;u>n;++n)i=a[n]-s[n],o+=i*i;return 1-6*o/(u*(u*u-1))},l.cor.dist=function(e,t,r){var n,o,i,s,u=r?e.map(a.$(t)):e,c=r?e.map(a.$(r)):t,f=l.dist.mat(u),d=l.dist.mat(c),p=f.length;for(n=0,o=0,i=0,s=0;p>n;++n)o+=f[n]*f[n],i+=d[n]*d[n],s+=f[n]*d[n];return Math.sqrt(s/Math.sqrt(o*i))},l.linearRegression=function(e,t,r){var n,o,i=r?e.map(a.$(t)):e,s=r?e.map(a.$(r)):t,u=i.length,c=l.covariance(i,s),f=l.stdev(i),d=l.stdev(s),p=c/(f*f),h=l.mean(s)-p*l.mean(i),g={slope:p,intercept:h,R:c/(f*d),rss:0};for(o=0;u>o;++o)a.isValid(i[o])&&a.isValid(s[o])&&(n=p*i[o]+h-s[o],g.rss+=n*n);return g},l.bootstrap={},l.bootstrap.ci=function(e,t,r,n,o){var i,s,c,f,d,p,h;for(a.isFunction(t)||a.isString(t)?(i=e.map(a.$(t)),s=r,c=n,f=o):(i=e,s=t,c=r,f=n),s=s?+s:1e3,c=c||.05,d=u.random.bootstrap(i,f),h=0,p=Array(s);s>h;++h)p[h]=l.mean(d.samples(i.length));return p.sort(a.numcmp),[l.quantile(p,c/2),l.quantile(p,1-c/2)]},l.z={},l.z.ci=function(e,t,r){var n=e,o=t;(a.isFunction(t)||a.isString(t))&&(n=e.map(a.$(t)),o=r),o=o||.05;var i=.05===o?1.96:u.random.normal(0,1).icdf(1-o/2),s=l.mean(n),c=l.stdev(n)/Math.sqrt(l.count.valid(n));return[s-i*c,s+i*c]},l.z.test=function(e,t,r,s){return a.isFunction(r)||a.isString(r)?(s&&s.paired?o:i)(s,e,t,r):a.isArray(t)?(r&&r.paired?o:i)(r,e,t):a.isFunction(t)||a.isString(t)?n(r,e,t):n(t,e)},l.dist.mat=function(e){var t,r,n,o=e.length,i=o*o,a=Array(i),s=u.zeros(o),l=0;for(r=0;o>r;++r)for(a[r*o+r]=0,n=r+1;o>n;++n)a[r*o+n]=t=Math.abs(e[r]-e[n]),a[n*o+r]=t,s[r]+=t,s[n]+=t;for(r=0;o>r;++r)l+=s[r],s[r]/=o;for(l/=i,r=0;o>r;++r)for(n=r;o>n;++n)a[r*o+n]+=l-s[r]-s[n],a[n*o+r]=a[r*o+n];return a},l.entropy=function(e,t){t=a.$(t);var r,n,o=0,i=0,s=e.length;for(r=0;s>r;++r)o+=t?t(e[r]):e[r];if(0===o)return 0;for(r=0;s>r;++r)n=(t?t(e[r]):e[r])/o,n&&(i+=n*Math.log(n));return-i/Math.LN2},l.mutual=function(e,t,r,n){var o,i,s,u=n?e.map(a.$(t)):e,l=n?e.map(a.$(r)):t,c=n?e.map(a.$(n)):r,f={},d={},p=c.length,h=0,g=0,m=0;for(s=0;p>s;++s)f[u[s]]=0,d[l[s]]=0;for(s=0;p>s;++s)f[u[s]]+=c[s],d[l[s]]+=c[s],h+=c[s];for(i=1/(h*Math.LN2),s=0;p>s;++s)0!==c[s]&&(o=h*c[s]/(f[u[s]]*d[l[s]]),g+=c[s]*i*Math.log(o),m+=c[s]*i*Math.log(c[s]/h));return[g,1+g/m]},l.mutual.info=function(e,t,r,n){return l.mutual(e,t,r,n)[0]},l.mutual.dist=function(e,t,r,n){return l.mutual(e,t,r,n)[1]},l.profile=function(e,t){var r,n,o,i,u,c=0,f=0,d=0,p=0,h=null,g=null,m=0,y=[],v={};for(o=0;o<e.length;++o)i=t?t(e[o]):e[o],v[i]=i in v?v[i]+1:(p+=1,1),null==i?++d:a.isValid(i)&&(u="string"==typeof i?i.length:i,(null===h||h>u)&&(h=u),(null===g||u>g)&&(g=u),r=u-c,c+=r/++f,m+=r*(u-c),y.push(u));return m/=f-1,n=Math.sqrt(m),y.sort(a.cmp),{type:s(e,t),unique:v,count:e.length,valid:f,missing:d,distinct:p,min:h,max:g,mean:c,stdev:n,median:i=l.quantile(y,.5),q1:l.quantile(y,.25),q3:l.quantile(y,.75),modeskew:0===n?0:(c-i)/n}},l.summary=function(e,t){t=t||a.keys(e[0]);var r=t.map(function(t){var r=l.profile(e,a.$(t));return r.field=t,r});return r.__summary__=!0,r}},function(e,t,r){function n(e,t){return t?void(e[l]=t):e&&e[l]||null}function o(e,t){e=u.array(e),t=u.$(t);var r,n,o;if(e[l]&&(r=t(e[l]),u.isString(r)))return r;for(n=0,o=e.length;!u.isValid(r)&&o>n;++n)r=t?t(e[n]):e[n];return u.isDate(r)?"date":u.isNumber(r)?"number":u.isBoolean(r)?"boolean":u.isString(r)?"string":null}function i(e,t){return e.length?(t=t||u.keys(e[0]),t.reduce(function(t,r){return t[r]=o(e,r),t},{})):void 0}function a(e,t){e=u.array(e),t=u.$(t);var r,n,o,i=["boolean","integer","number","date"];for(r=0;r<e.length;++r){for(o=t?t(e[r]):e[r],n=0;n<i.length;++n)u.isValid(o)&&!f[i[n]](o)&&(i.splice(n,1),n-=1);if(0===i.length)return"string"}return i[0]}function s(e,t){return t=t||u.keys(e[0]),t.reduce(function(t,r){return t[r]=a(e,r),t},{})}var u=r(300),l="__types__",c={"boolean":u["boolean"],integer:u.number,number:u.number,date:u.date,string:function(e){return""===e?null:e}},f={"boolean":function(e){return"true"===e||"false"===e||u.isBoolean(e)},integer:function(e){return f.number(e)&&(e=+e)===~~e},number:function(e){return!isNaN(+e)&&!u.isDate(e)},date:function(e){return!isNaN(Date.parse(e))}};o.annotation=n,o.all=i,o.infer=a,o.inferAll=s,o.parsers=c,e.exports=o},function(e,t,r){var n=r(300),o=e.exports;o.repeat=function(e,t){var r,n=Array(t);for(r=0;t>r;++r)n[r]=e;return n},o.zeros=function(e){return o.repeat(0,e)},o.range=function(e,t,r){if(arguments.length<3&&(r=1,arguments.length<2&&(t=e,e=0)),(t-e)/r==1/0)throw new Error("Infinite range");var n,o=[],i=-1;if(0>r)for(;(n=e+r*++i)>t;)o.push(n);else for(;(n=e+r*++i)<t;)o.push(n);return o},o.random={},o.random.uniform=function(e,t){void 0===t&&(t=void 0===e?1:e,e=0);var r=t-e,n=function(){return e+r*Math.random()};return n.samples=function(e){return o.zeros(e).map(n)},n.pdf=function(n){return n>=e&&t>=n?1/r:0},n.cdf=function(n){return e>n?0:n>t?1:(n-e)/r},n.icdf=function(t){return t>=0&&1>=t?e+t*r:NaN},n},o.random.integer=function(e,t){void 0===t&&(t=e,e=0);var r=t-e,n=function(){return e+Math.floor(r*Math.random())};return n.samples=function(e){return o.zeros(e).map(n)},n.pdf=function(n){return n===Math.floor(n)&&n>=e&&t>n?1/r:0},n.cdf=function(n){var o=Math.floor(n);return e>o?0:o>=t?1:(o-e+1)/r},n.icdf=function(t){return t>=0&&1>=t?e-1+Math.floor(t*r):NaN},n},o.random.normal=function(e,t){e=e||0,t=t||1;var r,n=function(){var n,o,i=0,a=0;if(void 0!==r)return i=r,r=void 0,i;do i=2*Math.random()-1,a=2*Math.random()-1,n=i*i+a*a;while(0===n||n>1);return o=Math.sqrt(-2*Math.log(n)/n),r=e+a*o*t,e+i*o*t};return n.samples=function(e){return o.zeros(e).map(n)},n.pdf=function(r){var n=Math.exp(Math.pow(r-e,2)/(-2*Math.pow(t,2)));return 1/(t*Math.sqrt(2*Math.PI))*n},n.cdf=function(r){var n,o=(r-e)/t,i=Math.abs(o);if(i>37)n=0;else{var a,s=Math.exp(-i*i/2);7.07106781186547>i?(a=.0352624965998911*i+.700383064443688,a=a*i+6.37396220353165,a=a*i+33.912866078383,a=a*i+112.079291497871,a=a*i+221.213596169931,a=a*i+220.206867912376,n=s*a,a=.0883883476483184*i+1.75566716318264,a=a*i+16.064177579207,a=a*i+86.7807322029461,a=a*i+296.564248779674,a=a*i+637.333633378831,a=a*i+793.826512519948,a=a*i+440.413735824752,n/=a):(a=i+.65,a=i+4/a,a=i+3/a,a=i+2/a,a=i+1/a,n=s/a/2.506628274631)}return o>0?1-n:n},n.icdf=function(r){if(0>=r||r>=1)return NaN;var n=2*r-1,o=8*(Math.PI-3)/(3*Math.PI*(4-Math.PI)),i=2/(Math.PI*o)+Math.log(1-Math.pow(n,2))/2,a=Math.log(1-n*n)/o,s=(n>0?1:-1)*Math.sqrt(Math.sqrt(i*i-a)-i);return e+t*Math.SQRT2*s},n},o.random.bootstrap=function(e,t){var r=e.filter(n.isValid),i=r.length,a=t?o.random.normal(0,t):null,s=function(){return r[~~(Math.random()*i)]+(a?a():0)};return s.samples=function(e){return o.zeros(e).map(s)},s}},function(e,t,r){function n(e){this._add=[],this._rem=[],this._key=e||null,this._last=null}var o=r(300),i=r(306),a="__dl_rem__",s=n.prototype;s.add=function(e){this._add.push(e)},s.rem=function(e){this._rem.push(e)},s.values=function(){if(this._get=null,0===this._rem.length)return this._add;var e,t,r,n,s=this._add,u=this._rem,l=this._key,c=Array(s.length-u.length);if(o.isObject(u[0]))if(l)for(n=o.toMap(u,l),e=0,t=0,r=s.length;r>e;++e)n.hasOwnProperty(l(s[e]))||(c[t++]=s[e]);else{for(e=0,r=u.length;r>e;++e)u[e][a]=1;for(e=0,t=0,r=s.length;r>e;++e)s[e][a]||(c[t++]=s[e]);for(e=0,r=u.length;r>e;++e)delete u[e][a]}else for(n=i.count.map(u),e=0,t=0,r=s.length;r>e;++e)n[s[e]]>0?n[s[e]]-=1:c[t++]=s[e];return this._rem=[],this._add=c},s.extent=function(e){if(this._get!==e||!this._ext){var t=this.values(),r=i.extent.index(t,e);this._ext=[t[r[0]],t[r[1]]],this._get=e}return this._ext},s.argmin=function(e){return this.extent(e)[0]},s.argmax=function(e){return this.extent(e)[1]},s.min=function(e){var t=this.extent(e)[0];return null!=t?e(t):+(1/0)},s.max=function(e){var t=this.extent(e)[1];return null!=t?e(t):-(1/0)},s.quartile=function(e){return this._get===e&&this._q||(this._q=i.quartile(this.values(),e),this._get=e),this._q},s.q1=function(e){return this.quartile(e)[0]},s.q2=function(e){return this.quartile(e)[1]},s.q3=function(e){return this.quartile(e)[2]},e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){switch(e){case"color":return h.COLOR_PALETTES[t.palette];case"shape":case"size":case"opacity":return t.ordinalRange;default:return[]}}function i(e,t){return[t.scaleRangeMin,t.scaleRangeMax]}function a(e,t){var r=t?Math.min(0,e.min):e.min,n=t?Math.max(0,e.max):e.max,o=(n-r)/25;return t||(r=+r-o),n=+n+o,{type:"linear",domain:[r,n]}}function s(e,t,r,n){var a="O"==e?"ordinal":n.scale?n.scale:"linear",s="O"==e?o:i,u="O"==e?f["default"].identity:function(e){return[e.min,e.max]};return{type:a,domain:u(r),range:s(t,n)}}function u(e,t,r){var n=p.TABLE_ENCODINGS[r.table.type].properties,o=(0,f["default"])(t).pick(["row","col"]).mapValues(function(t,r){return f["default"].reduce(t,function(t,r){if("Q"==r.algebraType){var n=(0,d.getAccessorName)(r),o=(0,d.isAggregateType)(r);t[n]=a(e[n],o),"time"==(0,d.getFieldType)(r)&&f["default"].contains(r.func,"bin")&&(t[n].type="time")}return t},{})}).value();return f["default"].extend(o,(0,f["default"])(t).pick(n).mapValues(function(t,n){return f["default"].reduce(t,function(t,o){var i=(0,d.getAccessorName)(o);return t[i]=s(o.algebraType,n,e[i],r.properties[n]),t},{})}).value()),f["default"].extend({},f["default"].mapValues(f["default"].pick(r.properties,n),function(e){return{__default__:e}}),o)}Object.defineProperty(t,"__esModule",{value:!0}),t.calculateScales=u;var l=r(7),c=(n(l),r(9)),f=n(c),d=r(198),p=r(199),h=r(214)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{
value:!0});var i=r(9),a=o(i),s=r(197),u=n(s),l=r(200),c=n(l),f=(r(138),r(292)),d=a["default"].values(u),p=function(e){var t=(e.dispatch,e.getState);return function(e){return function(r){console.group(r.type);var n=e(r),o=a["default"].contains(d,r.type)||c.SET_TABLE_ENCODING==r.type||c.SET_PROPERTY_SETTING==r.type;return o&&(n=e((0,f.runCurrentQueryIfNecessary)())),console.log("next state",t()),console.groupEnd(r.type),n}}};t["default"]=p,e.exports=t["default"]},function(e,t,r){var n;(function(e,o,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.0.2
	 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function s(e){return"function"==typeof e}function u(e){return"object"==typeof e&&null!==e}function l(e){W=e}function c(e){Q=e}function f(){return function(){e.nextTick(m)}}function d(){return function(){Y(m)}}function p(){var e=0,t=new ee(m),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=m,function(){e.port2.postMessage(0)}}function g(){return function(){setTimeout(m,1)}}function m(){for(var e=0;K>e;e+=2){var t=ne[e],r=ne[e+1];t(r),ne[e]=void 0,ne[e+1]=void 0}K=0}function y(){try{var e=r(314);return Y=e.runOnLoop||e.runOnContext,d()}catch(t){return g()}}function v(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function w(){return new TypeError("A promises callback cannot return that same promise.")}function _(e){try{return e.then}catch(t){return se.error=t,se}}function x(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function D(e,t,r){Q(function(e){var n=!1,o=x(r,t,function(r){n||(n=!0,t!==r?k(e,r):E(e,r))},function(t){n||(n=!0,S(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,S(e,o))},e)}function T(e,t){t._state===ie?E(e,t._result):t._state===ae?S(e,t._result):R(t,void 0,function(t){k(e,t)},function(t){S(e,t)})}function O(e,t){if(t.constructor===e.constructor)T(e,t);else{var r=_(t);r===se?S(e,se.error):void 0===r?E(e,t):s(r)?D(e,t,r):E(e,t)}}function k(e,t){e===t?S(e,b()):a(t)?O(e,t):E(e,t)}function C(e){e._onerror&&e._onerror(e._result),M(e)}function E(e,t){e._state===oe&&(e._result=t,e._state=ie,0!==e._subscribers.length&&Q(M,e))}function S(e,t){e._state===oe&&(e._state=ae,e._result=t,Q(C,e))}function R(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ie]=r,o[i+ae]=n,0===i&&e._state&&Q(M,e)}function M(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?I(r,n,o,i):o(i);e._subscribers.length=0}}function A(){this.error=null}function P(e,t){try{return e(t)}catch(r){return ue.error=r,ue}}function I(e,t,r,n){var o,i,a,u,l=s(r);if(l){if(o=P(r,n),o===ue?(u=!0,i=o.error,o=null):a=!0,t===o)return void S(t,w())}else o=n,a=!0;t._state!==oe||(l&&a?k(t,o):u?S(t,i):e===ie?E(t,o):e===ae&&S(t,o))}function N(e,t){try{t(function(t){k(e,t)},function(t){S(e,t)})}catch(r){S(e,r)}}function j(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(v),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?E(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&E(r.promise,r._result))):S(r.promise,r._validationError())}function F(e){return new le(this,e).promise}function L(e){function t(e){k(o,e)}function r(e){S(o,e)}var n=this,o=new n(v);if(!$(e))return S(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===oe&&i>a;a++)R(n.resolve(e[a]),void 0,t,r);return o}function H(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return k(r,e),r}function q(e){var t=this,r=new t(v);return S(r,e),r}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function B(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(s(e)||z(),this instanceof U||B(),N(this,e))}function G(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;(!r||"[object Promise]"!==Object.prototype.toString.call(r.resolve())||r.cast)&&(e.Promise=ge)}var V;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y,W,X,$=V,K=0,Q=({}.toString,function(e,t){ne[K]=e,ne[K+1]=t,K+=2,2===K&&(W?W(m):X())}),J="undefined"!=typeof window?window:void 0,Z=J||{},ee=Z.MutationObserver||Z.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),re="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3);X=te?f():ee?p():re?h():void 0===J?y():g();var oe=void 0,ie=1,ae=2,se=new A,ue=new A;j.prototype._validateInput=function(e){return $(e)},j.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},j.prototype._init=function(){this._result=new Array(this.length)};var le=j;j.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,o=0;r._state===oe&&t>o;o++)e._eachEntry(n[o],o)},j.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;u(e)?e.constructor===n&&e._state!==oe?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t):(r._remaining--,r._result[t]=e)},j.prototype._settledAt=function(e,t,r){var n=this,o=n.promise;o._state===oe&&(n._remaining--,e===ae?S(o,r):n._result[t]=r),0===n._remaining&&E(o,n._result)},j.prototype._willSettleAt=function(e,t){var r=this;R(e,void 0,function(e){r._settledAt(ie,t,e)},function(e){r._settledAt(ae,t,e)})};var ce=F,fe=L,de=H,pe=q,he=0,ge=U;U.all=ce,U.race=fe,U.resolve=de,U.reject=pe,U._setScheduler=l,U._setAsap=c,U._asap=Q,U.prototype={constructor:U,then:function(e,t){var r=this,n=r._state;if(n===ie&&!e||n===ae&&!t)return this;var o=new this.constructor(v),i=r._result;if(n){var a=arguments[n-1];Q(function(){I(n,o,a,i)})}else R(r,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var me=G,ye={Promise:ge,polyfill:me};r(315).amd?(n=function(){return ye}.call(t,r,t,i),!(void 0!==n&&(i.exports=n))):"undefined"!=typeof i&&i.exports?i.exports=ye:"undefined"!=typeof this&&(this.ES6Promise=ye),me()}).call(this)}).call(t,r(15),function(){return this}(),r(313)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}}]);