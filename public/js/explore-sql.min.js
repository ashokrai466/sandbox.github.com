!function(e){function t(n){if(r[n])return r[n].exports;var o=r[n]={exports:{},id:n,loaded:!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var r={};return t.m=e,t.c=r,t.p="",t(0)}([function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}var i=r(1),a=o(i),u=r(2),s=(o(u),r(3)),l=(o(s),r(4)),c=o(l),f=r(5),p=r(24),d=o(p),h=r(296),g=o(h),y=r(130),m=r(221),v=n(m);r(300).polyfill();var b={datasources:{IDS:[0,1,2,3,4,5,6],BY_ID:{0:{id:0,name:"Birdstrikes",type:"dataframe",url:"http://vega.github.io/polestar/data/birdstrikes.json",settings:{format:"json"}},1:{id:1,name:"Cars",type:"dataframe",url:"http://vega.github.io/polestar/data/cars.json",settings:{format:"json"}},2:{id:2,name:"NBA League Totals per year",type:"dataframe",url:"https://gist.githubusercontent.com/sandbox/7f6065c867a5f355207e/raw/f6d6496474af6dfba0b73f36dbd0e00ce0fc2f42/leagues_NBA_player_totals.csv",settings:{format:"csv",delimiter:","}},3:{id:3,name:"Dataset NBA",type:"dataframe",schema:[{name:"Season",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"},{name:"Season with a really long name that hsould try to voerflow the thing",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"},{name:"Season",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"},{name:"Season with a really long name that hsould try to voerflow the thing",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"},{name:"Season",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"},{name:"Season with a really long name that hsould try to voerflow the thing",type:"string"},{name:"Year",type:"integer"},{name:"Rk",type:"integer"},{name:"Player",type:"string"},{name:"Pos",type:"string"},{name:"Age",type:"integer"},{name:"Tm",type:"string"},{name:"G",type:"integer"},{name:"GS",type:"integer"},{name:"MP",type:"integer"},{name:"FG",type:"integer"},{name:"FGA",type:"integer"},{name:"FG%",type:"number"},{name:"3P",type:"integer"},{name:"3PA",type:"integer"},{name:"3P%",type:"number"},{name:"2P",type:"integer"},{name:"2PA",type:"integer"},{name:"2P%",type:"number"},{name:"eFG%",type:"number"},{name:"FT",type:"integer"},{name:"FTA",type:"integer"},{name:"FT%",type:"number"},{name:"ORB",type:"integer"},{name:"DRB",type:"integer"},{name:"TRB",type:"integer"},{name:"AST",type:"integer"},{name:"STL",type:"integer"},{name:"BLK",type:"integer"},{name:"TOV",type:"integer"},{name:"PF",type:"integer"},{name:"PTS",type:"integer"}]},4:{id:4,name:"Coffee Chain",type:"db",protocol:"psql",tables:[{name:"Products",type:"table",schema:[{name:"Profit",type:"number"},{name:"Sales",type:"number"},{name:"Year",type:"number"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"Region",type:"string"},{name:"State",type:"string"},{name:"Product",type:"string"}],datasource_id:4},{name:"Customers",type:"table",schema:[{name:"Purchases",type:"number"},{name:"Money Spent",type:"number"},{name:"Year",type:"number"},{name:"Created At",type:"timestamp"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"State",type:"string"}],datasource_id:4}]},5:{id:5,name:"Second Coffee Chain",type:"db",protocol:"psql",tables:[{name:"Products",type:"table",schema:[{name:"Profit",type:"number"},{name:"Sales",type:"number"},{name:"Year",type:"number"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"Region",type:"string"},{name:"State",type:"string"},{name:"Product",type:"string"}],datasource_id:5},{name:"Customers",type:"table",schema:[{name:"Purchases",type:"number"},{name:"Money Spent",type:"number"},{name:"Year",type:"number"},{name:"Created At",type:"timestamp"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"State",type:"string"}],datasource_id:5}]},6:{id:6,name:"Third Coffee Chain",type:"db",protocol:"psql",tables:[{name:"Products",type:"table",schema:[{name:"Profit",type:"number"},{name:"Sales",type:"number"},{name:"Year",type:"number"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"Region",type:"string"},{name:"State",type:"string"},{name:"Product",type:"string"}],datasource_id:6},{name:"Customers",type:"table",schema:[{name:"Purchases",type:"number"},{name:"Money Spent",type:"number"},{name:"Year",type:"number"},{name:"Created At",type:"timestamp"},{name:"Quarter",type:"string"},{name:"Month",type:"string"},{name:"State",type:"string"}],datasource_id:6}]}}}};c["default"].each(b.datasources.BY_ID,function(e){c["default"](e.tables).each(function(e){return c["default"](e.schema).each(function(e,t){return e.__id__=t}).value()}).value(),c["default"](e.schema).each(function(e,t){return e.__id__=t}).value()});var _=g["default"](b);a["default"].render(a["default"].createElement(f.Provider,{store:_},function(){return a["default"].createElement(d["default"],null)}),document.getElementById("demo")),_.dispatch(y.connectTableIfNecessary({datasource_id:0})).then(function(){_.dispatch(y.selectTable({datasource_id:0})),_.dispatch(v.addField("col",{tableId:{id:0,name:"Birdstrikes"},fieldId:12})),_.dispatch(v.addField("col",{tableId:{id:0,name:"Birdstrikes"},fieldId:10})),_.dispatch(v.addField("col",{tableId:{id:0,name:"Birdstrikes"},fieldId:11})),_.dispatch(v.addField("row",{tableId:{id:0,name:"Birdstrikes"},fieldId:12})),_.dispatch(v.addField("row",{tableId:{id:0,name:"Birdstrikes"},fieldId:10})),_.dispatch(v.addField("row",{tableId:{id:0,name:"Birdstrikes"},fieldId:11}))})},function(e,t){e.exports=React},function(e,t){e.exports=d3},function(e,t){e.exports=dl},function(e,t){e.exports=_},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(1),i=n(o),a=r(6),u=n(a),s=u["default"](i["default"]),l=s.Provider,c=s.connect;t.Provider=l,t.connect=c},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"](e),r=s["default"](e);return{Provider:t,connect:r}}t.__esModule=!0,t["default"]=o;var i=r(7),a=n(i),u=r(9),s=n(u);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.version;if("string"!=typeof t)return!0;var r=t.split("."),n=parseInt(r[0],10),o=parseInt(r[1],10);return 0===n&&13===o}function u(e){function t(){h||d||(h=!0,console.error("With React 0.14 and later versions, you no longer need to wrap <Provider> child into a function."))}function r(){!h&&d&&(h=!0,console.error("With React 0.13, you need to wrap <Provider> child into a function. This restriction will be removed with React 0.14."))}function n(){g||(g=!0,console.error("<Provider> does not support changing `store` on the fly. It is most likely that you see this error because you updated to Redux 2.x and React Redux 2.x which no longer hot reload reducers automatically. See https://github.com/rackt/react-redux/releases/tag/v2.0.0 for the migration instructions."))}var u=e.Component,l=e.PropTypes,f=e.Children,p=c["default"](l),d=a(e),h=!1,g=!1;return function(e){function a(t,r){o(this,a),e.call(this,t,r),this.store=t.store}return i(a,e),a.prototype.getChildContext=function(){return{store:this.store}},s(a,null,[{key:"childContextTypes",value:{store:p.isRequired},enumerable:!0},{key:"propTypes",value:{store:p.isRequired,children:(d?l.func:l.element).isRequired},enumerable:!0}]),a.prototype.componentWillReceiveProps=function(e){var t=this.store,r=e.store;t!==r&&n()},a.prototype.render=function(){var e=this.props.children;return"function"==typeof e?(t(),e=e()):r(),f.only(e)},a}(u)}t.__esModule=!0;var s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=u;var l=r(8),c=n(l);e.exports=t["default"]},function(e,t){"use strict";function r(e){return e.shape({subscribe:e.func.isRequired,dispatch:e.func.isRequired,getState:e.func.isRequired})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){return e.displayName||e.name||"Component"}function s(e){var t=e.Component,r=e.PropTypes,o=p["default"](r);return function(r,s,f){function p(e,t){var r=e.getState(),n=E?O(r,t):O(r);return _["default"](y["default"](n),"`mapStateToProps` must return an object. Instead received %s.",n),n}function d(e,t){var r=e.dispatch,n=R?C(r,t):C(r);return _["default"](y["default"](n),"`mapDispatchToProps` must return an object. Instead received %s.",n),n}function g(e,t,r){var n=S(e,t,r);return _["default"](y["default"](n),"`mergeProps` must return an object. Instead received %s.",n),n}var m=arguments.length<=3||void 0===arguments[3]?{}:arguments[3],b=Boolean(r),O=r||w,C=y["default"](s)?v["default"](s):s||x,S=f||D,E=O.length>1,R=C.length>1,M=m.pure,P=void 0===M?!0:M,k=T++;return function(r){var s=function(t){function n(e,r){i(this,n),t.call(this,e,r),this.version=k,this.store=e.store||r.store,_["default"](this.store,'Could not find "store" in either the context or '+('props of "'+this.constructor.displayName+'". ')+"Either wrap the root component in a <Provider>, "+('or explicitly pass "store" as a prop to "'+this.constructor.displayName+'".')),this.stateProps=p(this.store,e),this.dispatchProps=d(this.store,e),this.state={props:this.computeNextState()}}return a(n,t),n.prototype.shouldComponentUpdate=function(e,t){return!P||!h["default"](this.state.props,t.props)},l(n,null,[{key:"displayName",value:"Connect("+u(r)+")",enumerable:!0},{key:"WrappedComponent",value:r,enumerable:!0},{key:"contextTypes",value:{store:o},enumerable:!0},{key:"propTypes",value:{store:o},enumerable:!0}]),n.prototype.computeNextState=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0];return g(this.stateProps,this.dispatchProps,e)},n.prototype.updateStateProps=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=p(this.store,e);return h["default"](t,this.stateProps)?!1:(this.stateProps=t,!0)},n.prototype.updateDispatchProps=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=d(this.store,e);return h["default"](t,this.dispatchProps)?!1:(this.dispatchProps=t,!0)},n.prototype.updateState=function(){var e=arguments.length<=0||void 0===arguments[0]?this.props:arguments[0],t=this.computeNextState(e);h["default"](t,this.state.props)||this.setState({props:t})},n.prototype.isSubscribed=function(){return"function"==typeof this.unsubscribe},n.prototype.trySubscribe=function(){b&&!this.unsubscribe&&(this.unsubscribe=this.store.subscribe(this.handleChange.bind(this)),this.handleChange())},n.prototype.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null)},n.prototype.componentDidMount=function(){this.trySubscribe()},n.prototype.componentWillReceiveProps=function(e){h["default"](e,this.props)||(E&&this.updateStateProps(e),R&&this.updateDispatchProps(e),this.updateState(e))},n.prototype.componentWillUnmount=function(){this.tryUnsubscribe()},n.prototype.handleChange=function(){this.unsubscribe&&this.updateStateProps()&&this.updateState()},n.prototype.getWrappedInstance=function(){return this.refs.wrappedInstance},n.prototype.render=function(){return e.createElement(r,c({ref:"wrappedInstance"},this.state.props))},n}(t);return"production"!==n.env.NODE_ENV&&(s.prototype.componentWillUpdate=function(){this.version!==k&&(this.version=k,this.trySubscribe(),this.updateStateProps(),this.updateDispatchProps(),this.updateState())}),s}}}t.__esModule=!0;var l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=s;var f=r(8),p=o(f),d=r(11),h=o(d),g=r(12),y=o(g),m=r(13),v=o(m),b=r(23),_=o(b),w=function(){return{}},x=function(e){return{dispatch:e}},D=function(e,t,r){return c({},r,e,t)},T=0;e.exports=t["default"]}).call(t,r(10))},function(e,t){function r(){l=!1,a.length?s=a.concat(s):c=-1,s.length&&n()}function n(){if(!l){var e=setTimeout(r);l=!0;for(var t=s.length;t;){for(a=s,s=[];++c<t;)a[c].run();c=-1,t=s.length}a=null,l=!1,clearTimeout(e)}}function o(e,t){this.fun=e,this.array=t}function i(){}var a,u=e.exports={},s=[],l=!1,c=-1;u.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)t[r-1]=arguments[r];s.push(new o(e,t)),1!==s.length||l||setTimeout(n,0)},o.prototype.run=function(){this.fun.apply(null,this.array)},u.title="browser",u.browser=!0,u.env={},u.argv=[],u.version="",u.versions={},u.on=i,u.addListener=i,u.once=i,u.off=i,u.removeListener=i,u.removeAllListeners=i,u.emit=i,u.binding=function(e){throw new Error("process.binding is not supported")},u.cwd=function(){return"/"},u.chdir=function(e){throw new Error("process.chdir is not supported")},u.umask=function(){return 0}},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++)if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&n(r)===n(Object)}t.__esModule=!0,t["default"]=r;var n=function(e){return Function.prototype.toString.call(e)};e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return function(t){return o.bindActionCreators(e,t)}}t.__esModule=!0,t["default"]=n;var o=r(14);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(15),i=n(o),a=r(17),u=n(a),s=r(20),l=n(s),c=r(21),f=n(c),p=r(22),d=n(p);t.createStore=i["default"],t.combineReducers=u["default"],t.bindActionCreators=l["default"],t.applyMiddleware=f["default"],t.compose=d["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function r(){return l}function n(e){return c.push(e),function(){var t=c.indexOf(e);c.splice(t,1)}}function o(e){if(!a["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=s(l,e)}finally{f=!1}return c.slice().forEach(function(e){return e()}),e}function i(e){s=e,o({type:u.INIT})}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,l=t,c=[],f=!1;return o({type:u.INIT}),{dispatch:o,subscribe:n,getState:r,replaceReducer:i}}t.__esModule=!0,t["default"]=o;var i=r(16),a=n(i),u={INIT:"@@redux/INIT"};t.ActionTypes=u},function(e,t){"use strict";function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&n(r)===n(Object)}t.__esModule=!0,t["default"]=r;var n=function(e){return Function.prototype.toString.call(e)};e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){var r=t&&t.type,n=r&&'"'+r.toString()+'"'||"an action";return'Reducer "'+e+'" returned undefined handling '+n+". To ignore an action, you must explicitly return the previous state."}function a(e,t){var r=Object.keys(t);if(0===r.length)return void console.error("Store does not have a valid reducer. Make sure the argument passed to combineReducers is an object whose values are reducers.");if(!c["default"](e))return void console.error('initialState has unexpected type of "'+{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1]+'". Expected initialState to be an object with the following '+('keys: "'+r.join('", "')+'"'));var n=Object.keys(e).filter(function(e){return r.indexOf(e)<0});n.length>0&&console.error("Unexpected "+(n.length>1?"keys":"key")+" "+('"'+n.join('", "')+'" in initialState will be ignored. ')+('Expected to find one of the known reducer keys instead: "'+r.join('", "')+'"'))}function u(e){var t=h["default"](e,function(e){return"function"==typeof e});Object.keys(t).forEach(function(e){var r=t[e];if("undefined"==typeof r(void 0,{type:s.ActionTypes.INIT}))throw new Error('Reducer "'+e+'" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined.');var n=Math.random().toString(36).substring(7).split("").join(".");if("undefined"==typeof r(void 0,{type:n}))throw new Error('Reducer "'+e+'" returned undefined when probed with a random type. '+("Don't try to handle "+s.ActionTypes.INIT+' or other actions in "redux/*" ')+"namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined.")});var r,o=p["default"](t,function(){return void 0});return function(e,u){void 0===e&&(e=o);var s=p["default"](t,function(t,r){var n=t(e[r],u);if("undefined"==typeof n)throw new Error(i(r,u));return n});return"production"!==n.env.NODE_ENV&&(r||(a(e,s),r=!0)),s}}t.__esModule=!0,t["default"]=u;var s=r(15),l=r(16),c=o(l),f=r(18),p=o(f),d=r(19),h=o(d);e.exports=t["default"]}).call(t,r(10))},function(e,t){"use strict";function r(e,t){return Object.keys(e).reduce(function(r,n){return r[n]=t(e[n],n),r},{})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){return Object.keys(e).reduce(function(r,n){return t(e[n])&&(r[n]=e[n]),r},{})}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return function(){return t(e.apply(void 0,arguments))}}function i(e,t){if("function"==typeof e)return o(e,t);if("object"!=typeof e||null===e||void 0===e)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===e?"null":typeof e)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');return u["default"](e,function(e){return o(e,t)})}t.__esModule=!0,t["default"]=i;var a=r(18),u=n(a);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e){return function(r,n){var o=e(r,n),a=o.dispatch,s=[],l={getState:o.getState,dispatch:function(e){return a(e)}};return s=t.map(function(e){return e(l)}),a=u["default"].apply(void 0,s)(o.dispatch),i({},o,{dispatch:a})}}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var a=r(22),u=n(a);e.exports=t["default"]},function(e,t){"use strict";function r(){for(var e=arguments.length,t=Array(e),r=0;e>r;r++)t[r]=arguments[r];return function(e){return t.reduceRight(function(e,t){return t(e)},e)}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,u,s){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,u,s],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){return{sourceIds:e.datasources.IDS,sources:e.datasources.BY_ID,tableId:e.datasources.selectedTable,queryspec:e.queryspec,visualspec:e.visualspec,result:e.result}}Object.defineProperty(t,"__esModule",{value:!0});var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),l=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},c=r(25),f=n(c),p=r(1),d=n(p),h=r(14),g=r(5),y=r(26),m=n(y),v=r(100),b=r(130),w=r(221),x=r(224),D=r(229),T=r(230),O=r(234),C=r(238),S=r(295),E=n(S),R=d["default"].DOM.div,M=C.TableGraphic.getTableSettings,P=function(e){function t(){o(this,t),l(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.dispatch,r=e.result,n=e.queryspec,o=e.visualspec,i=e.sourceIds,a=e.sources,s=e.tableId,l=this.props,c=l.connectDropTarget,p=l.isOver,g=l.isDragging,y=h.bindActionCreators({removeField:w.removeField,clearFields:w.clearFields,insertFieldAtPosition:w.insertFieldAtPosition,moveFieldTo:w.moveFieldTo,replaceFieldOnShelf:w.replaceFieldOnShelf,moveAndReplaceField:w.moveAndReplaceField,updateFieldTypecast:w.updateFieldTypecast,updateFieldFunction:w.updateFieldFunction},t),m=_.curry(b.getField)(a),v=_.curry(b.getField)(a,s),S=h.bindActionCreators({setTableEncoding:D.setTableEncoding,setPropertySetting:D.setPropertySetting},t),P=r[x.makeQueryKey(w.getFullQueryspec(v,n,o.table.type))];return c(R({className:f["default"]("pane-container")},d["default"].createElement(E["default"],{showTrashCan:p}),R({className:"pane data-pane"},d["default"].createElement(T.DataSourceSelect,u({sourceIds:i,sources:a,tableId:s},{onSelectTable:function(e){t(w.clearQuery()),t(b.selectTable(e)),t(b.connectTableIfNecessary(e))}})),R({className:"datasource-table-container"},d["default"].createElement(T.TableSchema,u({sources:a,tableId:s},{onSelectField:function(e){t(w.addField(n.row.length<n.col.length?"row":"col",e))}})))),R({className:"pane graphic-pane"},R({className:"querybuilder"},d["default"].createElement(O.TableLayoutSpecBuilder,u({getField:m},{isDragging:g,queryspec:n,fieldActionCreators:y}))),d["default"].createElement(C.TableGraphic,u({},P,{visualspec:o},{tableSettings:M(P&&P.axes)}))),d["default"].createElement(O.TableVisualSpecBuilder,u({getField:m},o,{isDragging:g,queryspec:n,vizActionCreators:S,fieldActionCreators:y}))))}}]),t}(d["default"].Component);t["default"]=g.connect(a)(v.DragDropContext(m["default"])(v.DropTarget("ShelfField",{canDrop:function(e){return!0},drop:function(e,t,r){return t.didDrop()?void 0:u({},_.pick(t.getItem(),"shelf","position"),{droppedOnBody:!0,removeField:function(t,r){return e.dispatch(w.removeField(t,r))}})}},function(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),isDragging:t.canDrop()}})(P))),e.exports=t["default"]},function(e,t,r){var n;/*!
	  Copyright (c) 2015 Jed Watson.
	  Licensed under the MIT License (MIT), see
	  http://jedwatson.github.io/classnames
	*/
!function(){"use strict";function o(){for(var e="",t=0;t<arguments.length;t++){var r=arguments[t];if(r){var n=typeof r;if("string"===n||"number"===n)e+=" "+r;else if(Array.isArray(r))e+=" "+o.apply(null,r);else if("object"===n)for(var i in r)r.hasOwnProperty(i)&&r[i]&&(e+=" "+i)}}return e.substr(1)}"undefined"!=typeof e&&e.exports?e.exports=o:(n=function(){return o}.call(t,r,t,e),!(void 0!==n&&(e.exports=n)))}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function u(){return T||(T=new Image,T.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="),T}function s(e,t,r){var n=t.reduce(function(t,r){return t||e.getData(r)},null);return null!=n?n:r}function l(e){var t=C[e],r=t.exposeProperty,n=t.matchesTypes,u=t.getData;return function(e){function t(){o(this,t),e.call(this),this.item=Object.defineProperties({},a({},r,{get:function(){return console.warn("Browser doesn't allow reading \""+r+'" until the drop event.'),null},configurable:!0,enumerable:!0}))}return i(t,e),t.prototype.mutateItemByReadingDataTransfer=function(e){delete this.item[r],this.item[r]=u(e,n)},t.prototype.beginDrag=function(){return this.item},t}(d.DragSource)}function c(e){var t=Array.prototype.slice.call(e.types||[]);return Object.keys(C).filter(function(e){var r=C[e].matchesTypes;return r.some(function(e){return t.indexOf(e)>-1})})[0]||null}function f(e){return new S(e)}t.__esModule=!0;var p;t.getEmptyImage=u,t["default"]=f;var d=r(27),h=r(71),g=n(h),y=r(75),m=r(82),v=r(84),b=n(v),_=r(85),w=n(_),x=r(42),D=n(x),T=void 0,O={FILE:"__NATIVE_FILE__",URL:"__NATIVE_URL__",TEXT:"__NATIVE_TEXT__"};t.NativeTypes=O;var C=(p={},a(p,O.FILE,{exposeProperty:"files",matchesTypes:["Files"],getData:function(e){return Array.prototype.slice.call(e.files)}}),a(p,O.URL,{exposeProperty:"urls",matchesTypes:["Url","text/uri-list"],getData:function(e,t){return s(e,t,"").split("\n")}}),a(p,O.TEXT,{exposeProperty:"text",matchesTypes:["Text","text/plain"],getData:function(e,t){return s(e,t,"")}}),p),S=function(){function e(t){o(this,e),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.sourcePreviewNodes={},this.sourcePreviewNodeOptions={},this.sourceNodes={},this.sourceNodeOptions={},this.enterLeaveCounter=new g["default"],this.getSourceClientOffset=this.getSourceClientOffset.bind(this),this.handleTopDragStart=this.handleTopDragStart.bind(this),this.handleTopDragStartCapture=this.handleTopDragStartCapture.bind(this),this.handleTopDragEndCapture=this.handleTopDragEndCapture.bind(this),this.handleTopDragEnter=this.handleTopDragEnter.bind(this),this.handleTopDragEnterCapture=this.handleTopDragEnterCapture.bind(this),this.handleTopDragLeaveCapture=this.handleTopDragLeaveCapture.bind(this),this.handleTopDragOver=this.handleTopDragOver.bind(this),this.handleTopDragOverCapture=this.handleTopDragOverCapture.bind(this),this.handleTopDrop=this.handleTopDrop.bind(this),this.handleTopDropCapture=this.handleTopDropCapture.bind(this),this.handleSelectStart=this.handleSelectStart.bind(this),this.endDragIfSourceWasRemovedFromDOM=this.endDragIfSourceWasRemovedFromDOM.bind(this)}return e.prototype.setup=function(){"undefined"!=typeof window&&(D["default"](!this.constructor.isSetUp,"Cannot have two HTML5 backends at the same time."),this.constructor.isSetUp=!0,window.addEventListener("dragstart",this.handleTopDragStart),window.addEventListener("dragstart",this.handleTopDragStartCapture,!0),window.addEventListener("dragend",this.handleTopDragEndCapture,!0),window.addEventListener("dragenter",this.handleTopDragEnter),window.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.addEventListener("dragover",this.handleTopDragOver),window.addEventListener("dragover",this.handleTopDragOverCapture,!0),window.addEventListener("drop",this.handleTopDrop),window.addEventListener("drop",this.handleTopDropCapture,!0))},e.prototype.teardown=function(){"undefined"!=typeof window&&(this.constructor.isSetUp=!1,window.removeEventListener("dragstart",this.handleTopDragStart),window.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),window.removeEventListener("dragend",this.handleTopDragEndCapture,!0),window.removeEventListener("dragenter",this.handleTopDragEnter),window.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),window.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),window.removeEventListener("dragover",this.handleTopDragOver),window.removeEventListener("dragover",this.handleTopDragOverCapture,!0),window.removeEventListener("drop",this.handleTopDrop),window.removeEventListener("drop",this.handleTopDropCapture,!0),this.clearCurrentDragSourceNode())},e.prototype.connectDragPreview=function(e,t,r){var n=this;return this.sourcePreviewNodeOptions[e]=r,this.sourcePreviewNodes[e]=t,function(){delete n.sourcePreviewNodes[e],delete n.sourcePreviewNodeOptions[e]}},e.prototype.connectDragSource=function(e,t,r){var n=this;this.sourceNodes[e]=t,this.sourceNodeOptions[e]=r;var o=function(t){return n.handleDragStart(t,e)},i=function(t){return n.handleSelectStart(t,e)};return t.setAttribute("draggable",!0),t.addEventListener("dragstart",o),t.addEventListener("selectstart",i),function(){delete n.sourceNodes[e],delete n.sourceNodeOptions[e],t.removeEventListener("dragstart",o),t.removeEventListener("selectstart",i),t.setAttribute("draggable",!1)}},e.prototype.connectDropTarget=function(e,t){var r=this,n=function(t){return r.handleDragEnter(t,e)},o=function(t){return r.handleDragOver(t,e)},i=function(t){return r.handleDrop(t,e)};return t.addEventListener("dragenter",n),t.addEventListener("dragover",o),t.addEventListener("drop",i),function(){t.removeEventListener("dragenter",n),t.removeEventListener("dragover",o),t.removeEventListener("drop",i)}},e.prototype.getCurrentSourceNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions[e];return w["default"](t||{},{dropEffect:"move"})},e.prototype.getCurrentDropEffect=function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect},e.prototype.getCurrentSourcePreviewNodeOptions=function(){var e=this.monitor.getSourceId(),t=this.sourcePreviewNodeOptions[e];return w["default"](t||{},{anchorX:.5,anchorY:.5,captureDraggingState:!1})},e.prototype.getSourceClientOffset=function(e){return m.getElementClientOffset(this.sourceNodes[e])},e.prototype.isDraggingNativeItem=function(){var e=this.monitor.getItemType();return Object.keys(O).some(function(t){return O[t]===e})},e.prototype.beginDragNativeItem=function(e){this.clearCurrentDragSourceNode();var t=l(e);this.currentNativeSource=new t,this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])},e.prototype.endDragNativeItem=function(){this.actions.endDrag(),this.registry.removeSource(this.currentNativeHandle),this.currentNativeHandle=null,this.currentNativeSource=null},e.prototype.endDragIfSourceWasRemovedFromDOM=function(){var e=this.currentDragSourceNode;document.body.contains(e)||(this.actions.endDrag(),this.clearCurrentDragSourceNode())},e.prototype.setCurrentDragSourceNode=function(e){this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.currentDragSourceNodeOffset=m.getElementClientOffset(e),this.currentDragSourceNodeOffsetChanged=!1,window.addEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)},e.prototype.clearCurrentDragSourceNode=function(){return this.currentDragSourceNode?(this.currentDragSourceNode=null,this.currentDragSourceNodeOffset=null,this.currentDragSourceNodeOffsetChanged=!1,window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0),!0):!1},e.prototype.checkIfCurrentDragSourceRectChanged=function(){var e=this.currentDragSourceNode;return e?this.currentDragSourceNodeOffsetChanged?!0:(this.currentDragSourceNodeOffsetChanged=!b["default"](m.getElementClientOffset(e),this.currentDragSourceNodeOffset),this.currentDragSourceNodeOffsetChanged):!1},e.prototype.handleTopDragStartCapture=function(){this.clearCurrentDragSourceNode(),this.dragStartSourceIds=[]},e.prototype.handleDragStart=function(e,t){this.dragStartSourceIds.unshift(t)},e.prototype.handleTopDragStart=function(e){var t=this,r=this.dragStartSourceIds;this.dragStartSourceIds=null;var n=m.getEventClientOffset(e);this.actions.beginDrag(r,{publishSource:!1,getSourceClientOffset:this.getSourceClientOffset,clientOffset:n});var o=e.dataTransfer,i=c(o);if(this.monitor.isDragging()){if("function"==typeof o.setDragImage){var a=this.monitor.getSourceId(),u=this.sourceNodes[a],s=this.sourcePreviewNodes[a]||u,l=this.getCurrentSourcePreviewNodeOptions(),f=l.anchorX,p=l.anchorY,d={anchorX:f,anchorY:p},h=m.getDragPreviewOffset(u,s,n,d);o.setDragImage(s,h.x,h.y)}try{o.setData("application/json",{})}catch(g){}this.setCurrentDragSourceNode(e.target);var y=this.getCurrentSourcePreviewNodeOptions(),v=y.captureDraggingState;v?this.actions.publishDragSource():setTimeout(function(){return t.actions.publishDragSource()})}else if(i)this.beginDragNativeItem(i);else{if(!(o.types||e.target.hasAttribute&&e.target.hasAttribute("draggable")))return;e.preventDefault()}},e.prototype.handleTopDragEndCapture=function(){this.clearCurrentDragSourceNode()&&this.actions.endDrag()},e.prototype.handleTopDragEnterCapture=function(e){this.dragEnterTargetIds=[];var t=this.enterLeaveCounter.enter(e.target);if(t&&!this.monitor.isDragging()){var r=e.dataTransfer,n=c(r);n&&this.beginDragNativeItem(n)}},e.prototype.handleDragEnter=function(e,t){this.dragEnterTargetIds.unshift(t)},e.prototype.handleTopDragEnter=function(e){var t=this,r=this.dragEnterTargetIds;if(this.dragEnterTargetIds=[],this.monitor.isDragging()){y.isFirefox()||this.actions.hover(r,{clientOffset:m.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n&&(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect())}},e.prototype.handleTopDragOverCapture=function(){this.dragOverTargetIds=[]},e.prototype.handleDragOver=function(e,t){this.dragOverTargetIds.unshift(t)},e.prototype.handleTopDragOver=function(e){var t=this,r=this.dragOverTargetIds;if(this.dragOverTargetIds=[],!this.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer.dropEffect="none");this.actions.hover(r,{clientOffset:m.getEventClientOffset(e)});var n=r.some(function(e){return t.monitor.canDropOnTarget(e)});n?(e.preventDefault(),e.dataTransfer.dropEffect=this.getCurrentDropEffect()):this.isDraggingNativeItem()?(e.preventDefault(),e.dataTransfer.dropEffect="none"):this.checkIfCurrentDragSourceRectChanged()&&(e.preventDefault(),e.dataTransfer.dropEffect="move")},e.prototype.handleTopDragLeaveCapture=function(e){this.isDraggingNativeItem()&&e.preventDefault();var t=this.enterLeaveCounter.leave(e.target);t&&this.isDraggingNativeItem()&&this.endDragNativeItem()},e.prototype.handleTopDropCapture=function(e){this.dropTargetIds=[],e.preventDefault(),this.isDraggingNativeItem()&&this.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),this.enterLeaveCounter.reset()},e.prototype.handleDrop=function(e,t){this.dropTargetIds.unshift(t)},e.prototype.handleTopDrop=function(e){var t=this.dropTargetIds;this.dropTargetIds=[],this.actions.hover(t,{clientOffset:m.getEventClientOffset(e)}),this.actions.drop(),this.isDraggingNativeItem()?this.endDragNativeItem():this.endDragIfSourceWasRemovedFromDOM()},e.prototype.handleSelectStart=function(e){"function"==typeof e.target.dragDrop&&(e.preventDefault(),e.target.dragDrop())},e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var o=r(28);t.DragDropManager=n(o);var i=r(67);t.DragSource=n(i);var a=r(68);t.DropTarget=n(a);var u=r(69);t.createTestBackend=n(u)},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var a=r(29),u=o(a),s=r(31),l=o(s),c=r(33),f=n(c),p=r(63),d=o(p),h=r(64),g=(o(h),function(){function e(t){i(this,e);var r=u["default"](l["default"]);this.store=r,this.monitor=new d["default"](r),this.registry=this.monitor.registry,this.backend=t(this),r.subscribe(this.handleRefCountChange.bind(this))}return e.prototype.handleRefCountChange=function(){var e=this.store.getState().refCount>0;e&&!this.isSetUp?(this.backend.setup(),this.isSetUp=!0):!e&&this.isSetUp&&(this.backend.teardown(),this.isSetUp=!1)},e.prototype.getMonitor=function(){return this.monitor},e.prototype.getBackend=function(){return this.backend},e.prototype.getRegistry=function(){return this.registry},e.prototype.getActions=function(){function e(e){return function(){var n=e.apply(t,arguments);"undefined"!=typeof n&&r(n)}}var t=this,r=this.store.dispatch;return Object.keys(f).filter(function(e){return"function"==typeof f[e]}).reduce(function(t,r){return t[r]=e(f[r]),t},{})},e}());t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function r(){return l}function n(e){return c.push(e),function(){var t=c.indexOf(e);c.splice(t,1)}}function o(e){if(!a["default"](e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"==typeof e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(f)throw new Error("Reducers may not dispatch actions.");try{f=!0,l=s(l,e)}finally{f=!1}return c.slice().forEach(function(e){return e()}),e}function i(e){s=e,o({type:u.INIT})}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var s=e,l=t,c=[],f=!1;return o({type:u.INIT}),{dispatch:o,subscribe:n,getState:r,replaceReducer:i}}t.__esModule=!0,t["default"]=o;var i=r(30),a=n(i),u={INIT:"@@redux/INIT"};t.ActionTypes=u},function(e,t){"use strict";function r(e){if(!e||"object"!=typeof e)return!1;var t="function"==typeof e.constructor?Object.getPrototypeOf(e):Object.prototype;if(null===t)return!0;var r=t.constructor;return"function"==typeof r&&r instanceof r&&n(r)===n(Object)}t.__esModule=!0,t["default"]=r;var n=function(e){return Function.prototype.toString.call(e)};e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(32),i=n(o),a=r(43),u=n(a),s=r(57),l=n(s),c=r(58),f=n(c);t["default"]=function(e,t){return void 0===e&&(e={}),{dirtyHandlerIds:f["default"](e.dirtyHandlerIds,t,e.dragOperation),dragOffset:i["default"](e.dragOffset,t),refCount:l["default"](e.refCount,t),dragOperation:u["default"](e.dragOperation,t)}},e.exports=t["default"]},function(e,t,r){"use strict";function n(e,t){return e===t?!0:e&&t&&e.x===t.x&&e.y===t.y}function o(e,t){switch(void 0===e&&(e=l),t.type){case s.BEGIN_DRAG:return{initialSourceClientOffset:t.sourceClientOffset,initialClientOffset:t.clientOffset,clientOffset:t.clientOffset};case s.HOVER:return n(e.clientOffset,t.clientOffset)?e:u({},e,{clientOffset:t.clientOffset});case s.END_DRAG:case s.DROP:return l;default:return e}}function i(e){var t=e.clientOffset,r=e.initialClientOffset,n=e.initialSourceClientOffset;return t&&r&&n?{x:t.x+n.x-r.x,y:t.y+n.y-r.y}:null}function a(e){var t=e.clientOffset,r=e.initialClientOffset;return t&&r?{x:t.x-r.x,y:t.y-r.y}:null}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o,t.getSourceClientOffset=i,t.getDifferenceFromInitialOffset=a;var s=r(33),l={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.publishSource,n=void 0===r?!0:r,o=t.clientOffset,i=void 0===o?null:o,a=t.getSourceClientOffset;p["default"](h["default"](e),"Expected sourceIds to be an array.");var u=this.getMonitor(),s=this.getRegistry();p["default"](!u.isDragging(),"Cannot call beginDrag while dragging.");for(var l=0;l<e.length;l++)p["default"](s.getSource(e[l]),"Expected sourceIds to be registered.");for(var c=null,l=e.length-1;l>=0;l--)if(u.canDragSource(e[l])){c=e[l];break}if(null!==c){var f=null;i&&(p["default"]("function"==typeof a,"When clientOffset is provided, getSourceClientOffset must be a function."),f=a(c));var d=s.getSource(c),g=d.beginDrag(u,c);p["default"](y["default"](g),"Item must be an object."),s.pinSource(c);var v=s.getSourceType(c);return{type:m,itemType:v,item:g,sourceId:c,clientOffset:i,sourceClientOffset:f,isSourcePublic:n}}}function i(e){var t=this.getMonitor();if(t.isDragging())return{type:v}}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.clientOffset,n=void 0===r?null:r;p["default"](h["default"](e),"Expected targetIds to be an array."),e=e.slice(0);var o=this.getMonitor(),i=this.getRegistry();p["default"](o.isDragging(),"Cannot call hover while not dragging."),p["default"](!o.didDrop(),"Cannot call hover after drop.");for(var a=o.getItemType(),u=0;u<e.length;u++){var s=e[u];p["default"](e.lastIndexOf(s)===u,"Expected targetIds to be unique in the passed array.");var l=i.getTarget(s);p["default"](l,"Expected targetIds to be registered.");var f=i.getTargetType(s);c["default"](f,a)&&l.hover(o,s)}return{type:b,targetIds:e,clientOffset:n}}function u(){var e=this,t=this.getMonitor(),r=this.getRegistry();p["default"](t.isDragging(),"Cannot call drop while not dragging."),p["default"](!t.didDrop(),"Cannot call drop twice during one drag operation.");var n=t.getTargetIds().filter(t.canDropOnTarget,t);n.reverse(),n.forEach(function(n,o){var i=r.getTarget(n),a=i.drop(t,n);p["default"]("undefined"==typeof a||y["default"](a),"Drop result must either be an object or undefined."),"undefined"==typeof a&&(a=0===o?{}:t.getDropResult()),e.store.dispatch({type:_,dropResult:a})})}function s(){var e=this.getMonitor(),t=this.getRegistry();p["default"](e.isDragging(),"Cannot call endDrag while not dragging.");var r=e.getSourceId(),n=t.getSource(r,!0);return n.endDrag(e,r),t.unpinSource(),{type:w}}t.__esModule=!0,t.beginDrag=o,t.publishDragSource=i,t.hover=a,t.drop=u,t.endDrag=s;var l=r(34),c=n(l),f=r(42),p=n(f),d=r(35),h=n(d),g=r(39),y=n(g),m="dnd-core/BEGIN_DRAG";t.BEGIN_DRAG=m;var v="dnd-core/PUBLISH_DRAG_SOURCE";t.PUBLISH_DRAG_SOURCE=v;var b="dnd-core/HOVER";t.HOVER=b;var _="dnd-core/DROP";t.DROP=_;var w="dnd-core/END_DRAG";t.END_DRAG=w},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](e)?e.some(function(e){return e===t}):e===t}t.__esModule=!0,t["default"]=o;var i=r(35),a=n(i);e.exports=t["default"]},function(e,t,r){var n=r(36),o=r(41),i=r(40),a="[object Array]",u=Object.prototype,s=u.toString,l=n(Array,"isArray"),c=l||function(e){return i(e)&&o(e.length)&&s.call(e)==a};e.exports=c},function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return o(r)?r:void 0}var o=r(37);e.exports=n},function(e,t,r){function n(e){return null==e?!1:o(e)?c.test(s.call(e)):i(e)&&a.test(e)}var o=r(38),i=r(40),a=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,l=u.hasOwnProperty,c=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){return o(e)&&u.call(e)==i}var o=r(39),i="[object Function]",a=Object.prototype,u=a.toString;e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,u,s){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,u,s],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){switch(void 0===e&&(e=c),t.type){case a.BEGIN_DRAG:return i({},e,{itemType:t.itemType,item:t.item,sourceId:t.sourceId,isSourcePublic:t.isSourcePublic,dropResult:null,didDrop:!1});case a.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case a.HOVER:return i({},e,{targetIds:t.targetIds});case a.PUBLISH_DRAG_SOURCE:return i({},e,{isSourcePublic:!0});case u.REMOVE_TARGET:return-1===e.targetIds.indexOf(t.targetId)?e:i({},e,{targetIds:l["default"](e.targetIds,t.targetId)});case a.DROP:return i({},e,{dropResult:t.dropResult,didDrop:!0,targetIds:[]});case a.END_DRAG:return i({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}t.__esModule=!0;var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t["default"]=o;var a=r(33),u=r(44),s=r(45),l=n(s),c={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};e.exports=t["default"]},function(e,t){"use strict";function r(e){return{type:a,sourceId:e}}function n(e){return{type:u,targetId:e}}function o(e){return{type:s,sourceId:e}}function i(e){return{type:l,targetId:e}}t.__esModule=!0,t.addSource=r,t.addTarget=n,t.removeSource=o,t.removeTarget=i;var a="dnd-core/ADD_SOURCE";t.ADD_SOURCE=a;var u="dnd-core/ADD_TARGET";t.ADD_TARGET=u;var s="dnd-core/REMOVE_SOURCE";t.REMOVE_SOURCE=s;var l="dnd-core/REMOVE_TARGET";t.REMOVE_TARGET=l},function(e,t,r){var n=r(46),o=r(53),i=r(56),a=i(function(e,t){return o(e)?n(e,t):[]});e.exports=a},function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var s=-1,l=o,c=!0,f=c&&t.length>=u?a(t):null,p=t.length;f&&(l=i,c=!1,t=f);e:for(;++s<r;){var d=e[s];if(c&&d===d){for(var h=p;h--;)if(t[h]===d)continue e;n.push(d)}else l(t,d,0)<0&&n.push(d)}return n}var o=r(47),i=r(49),a=r(50),u=200;e.exports=n},function(e,t,r){function n(e,t,r){if(t!==t)return o(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var o=r(48);e.exports=n},function(e,t){function r(e,t,r){for(var n=e.length,o=t+(r?0:-1);r?o--:++o<n;){var i=e[o];if(i!==i)return o}return-1}e.exports=r},function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||o(t)?r.set.has(t):r.hash[t];return n?0:-1}var o=r(39);e.exports=n},function(e,t,r){(function(t){function n(e){return u&&a?new o(e):null}var o=r(51),i=r(36),a=i(t,"Set"),u=i(Object,"create");e.exports=n}).call(t,function(){return this}())},function(e,t,r){(function(t){function n(e){var t=e?e.length:0;for(this.data={hash:u(null),set:new a};t--;)this.push(e[t])}var o=r(52),i=r(36),a=i(t,"Set"),u=i(Object,"create");n.prototype.push=o,e.exports=n}).call(t,function(){return this}())},function(e,t,r){function n(e){var t=this.data;"string"==typeof e||o(e)?t.set.add(e):t.hash[e]=!0}var o=r(39);e.exports=n},function(e,t,r){function n(e){return null!=e&&i(o(e))}var o=r(54),i=r(41);e.exports=n},function(e,t,r){var n=r(55),o=n("length");e.exports=o},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t){function r(e,t){if("function"!=typeof e)throw new TypeError(n);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=o(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var u=Array(t+1);for(n=-1;++n<t;)u[n]=r[n];return u[t]=a,e.apply(this,u)}}var n="Expected a function",o=Math.max;e.exports=r},function(e,t,r){"use strict";function n(e,t){switch(void 0===e&&(e=0),t.type){case o.ADD_SOURCE:case o.ADD_TARGET:return e+1;case o.REMOVE_SOURCE:case o.REMOVE_TARGET:return e-1;default:return e}}t.__esModule=!0,t["default"]=n;var o=r(44);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){switch(void 0===e&&(e=p),t.type){case c.HOVER:break;case f.ADD_SOURCE:case f.ADD_TARGET:case f.REMOVE_TARGET:case f.REMOVE_SOURCE:return p;case c.BEGIN_DRAG:case c.PUBLISH_DRAG_SOURCE:case c.END_DRAG:case c.DROP:default:return d}var n=t.targetIds,o=r.targetIds,i=u["default"](n,o),a=!1;if(0===i.length){for(var s=0;s<n.length;s++)if(n[s]!==o[s]){a=!0;break}}else a=!0;if(!a)return p;var l=o[o.length-1],h=n[n.length-1];return l!==h&&(l&&i.push(l),h&&i.push(h)),i}function i(e,t){return e===p?!1:e===d||"undefined"==typeof t?!0:l["default"](t,e).length>0}t.__esModule=!0,t["default"]=o,t.areDirty=i;var a=r(59),u=n(a),s=r(62),l=n(s),c=r(33),f=r(44),p=[],d=[]},function(e,t,r){function n(){for(var e=-1,t=arguments.length;++e<t;){var r=arguments[e];if(u(r))var n=n?o(i(n,r),i(r,n)):r}return n?a(n):[]}var o=r(60),i=r(46),a=r(61),u=r(53);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e,t){var r=-1,n=o,s=e.length,l=!0,c=l&&s>=u,f=c?a():null,p=[];f?(n=i,l=!1):(c=!1,f=t?[]:p);e:for(;++r<s;){var d=e[r],h=t?t(d,r,e):d;if(l&&d===d){for(var g=f.length;g--;)if(f[g]===h)continue e;t&&f.push(h),p.push(d)}else n(f,h,0)<0&&((t||c)&&f.push(h),p.push(d))}return p}var o=r(47),i=r(49),a=r(50),u=200;e.exports=n},function(e,t,r){var n=r(47),o=r(49),i=r(50),a=r(53),u=r(56),s=u(function(e){for(var t=e.length,r=t,u=Array(h),s=n,l=!0,c=[];r--;){var f=e[r]=a(f=e[r])?f:[];u[r]=l&&f.length>=120?i(r&&f):null}var p=e[0],d=-1,h=p?p.length:0,g=u[0];e:for(;++d<h;)if(f=p[d],(g?o(g,f):s(c,f,0))<0){for(var r=t;--r;){var y=u[r];if((y?o(y,f):s(e[r],f,0))<0)continue e}g&&g.push(f),c.push(f)}return c});e.exports=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(42),a=n(i),u=r(34),s=n(u),l=r(35),c=n(l),f=r(64),p=n(f),d=r(32),h=r(58),g=function(){function e(t){o(this,e),this.store=t,this.registry=new p["default"](t)}return e.prototype.subscribeToStateChange=function(e){var t=this,r=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],n=r.handlerIds;a["default"]("function"==typeof e,"listener must be a function."),a["default"]("undefined"==typeof n||c["default"](n),"handlerIds, when specified, must be an array of strings.");var o=function(){h.areDirty(t.store.getState().dirtyHandlerIds,n)&&e()};return this.store.subscribe(o)},e.prototype.subscribeToOffsetChange=function(e){var t=this;a["default"]("function"==typeof e,"listener must be a function.");var r=this.store.getState().dragOffset,n=function(){var n=t.store.getState().dragOffset;n!==r&&(r=n,e())};return this.store.subscribe(n)},e.prototype.canDragSource=function(e){var t=this.registry.getSource(e);return a["default"](t,"Expected to find a valid source."),this.isDragging()?!1:t.canDrag(this,e)},e.prototype.canDropOnTarget=function(e){var t=this.registry.getTarget(e);if(a["default"](t,"Expected to find a valid target."),!this.isDragging()||this.didDrop())return!1;var r=this.registry.getTargetType(e),n=this.getItemType();return s["default"](r,n)&&t.canDrop(this,e)},e.prototype.isDragging=function(){return Boolean(this.getItemType())},e.prototype.isDraggingSource=function(e){var t=this.registry.getSource(e,!0);if(a["default"](t,"Expected to find a valid source."),!this.isDragging()||!this.isSourcePublic())return!1;var r=this.registry.getSourceType(e),n=this.getItemType();return r!==n?!1:t.isDragging(this,e)},e.prototype.isOverTarget=function(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],r=t.shallow,n=void 0===r?!1:r;if(!this.isDragging())return!1;var o=this.registry.getTargetType(e),i=this.getItemType();if(!s["default"](o,i))return!1;var a=this.getTargetIds();if(!a.length)return!1;var u=a.indexOf(e);return n?u===a.length-1:u>-1},e.prototype.getItemType=function(){return this.store.getState().dragOperation.itemType},e.prototype.getItem=function(){return this.store.getState().dragOperation.item},e.prototype.getSourceId=function(){return this.store.getState().dragOperation.sourceId},e.prototype.getTargetIds=function(){return this.store.getState().dragOperation.targetIds},e.prototype.getDropResult=function(){return this.store.getState().dragOperation.dropResult},e.prototype.didDrop=function(){return this.store.getState().dragOperation.didDrop},e.prototype.isSourcePublic=function(){return this.store.getState().dragOperation.isSourcePublic},e.prototype.getInitialClientOffset=function(){return this.store.getState().dragOffset.initialClientOffset},e.prototype.getInitialSourceClientOffset=function(){return this.store.getState().dragOffset.initialSourceClientOffset},e.prototype.getClientOffset=function(){return this.store.getState().dragOffset.clientOffset},e.prototype.getSourceClientOffset=function(){return d.getSourceClientOffset(this.store.getState().dragOffset)},e.prototype.getDifferenceFromInitialOffset=function(){return d.getDifferenceFromInitialOffset(this.store.getState().dragOffset)},e}();t["default"]=g,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e&&e.constructor===Symbol?"symbol":typeof e}function a(e){p["default"]("function"==typeof e.canDrag,"Expected canDrag to be a function."),p["default"]("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),p["default"]("function"==typeof e.endDrag,"Expected endDrag to be a function.")}function u(e){p["default"]("function"==typeof e.canDrop,"Expected canDrop to be a function."),p["default"]("function"==typeof e.hover,"Expected hover to be a function."),p["default"]("function"==typeof e.drop,"Expected beginDrag to be a function.")}function s(e,t){return t&&y["default"](e)?void e.forEach(function(e){return s(e,!1)}):void p["default"]("string"==typeof e||"symbol"===("undefined"==typeof e?"undefined":i(e)),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function l(e){var t=v["default"]().toString();switch(e){case _.SOURCE:return"S"+t;case _.TARGET:return"T"+t;default:p["default"](!1,"Unknown role: "+e)}}function c(e){switch(e[0]){case"S":return _.SOURCE;case"T":return _.TARGET;default:p["default"](!1,"Cannot parse handler ID: "+e)}}t.__esModule=!0;var f=r(42),p=n(f),d=r(65),h=n(d),g=r(35),y=n(g),m=r(66),v=n(m),b=r(44),_=h["default"]({SOURCE:null,TARGET:null}),w=function(){function e(t){o(this,e),this.store=t,this.types={},this.handlers={},this.pinnedSourceId=null,this.pinnedSource=null}return e.prototype.addSource=function(e,t){s(e),a(t);var r=this.addHandler(_.SOURCE,e,t);return this.store.dispatch(b.addSource(r)),r},e.prototype.addTarget=function(e,t){s(e,!0),
u(t);var r=this.addHandler(_.TARGET,e,t);return this.store.dispatch(b.addTarget(r)),r},e.prototype.addHandler=function(e,t,r){var n=l(e);return this.types[n]=t,this.handlers[n]=r,n},e.prototype.containsHandler=function(e){var t=this;return Object.keys(this.handlers).some(function(r){return t.handlers[r]===e})},e.prototype.getSource=function(e,t){p["default"](this.isSourceId(e),"Expected a valid source ID.");var r=t&&e===this.pinnedSourceId,n=r?this.pinnedSource:this.handlers[e];return n},e.prototype.getTarget=function(e){return p["default"](this.isTargetId(e),"Expected a valid target ID."),this.handlers[e]},e.prototype.getSourceType=function(e){return p["default"](this.isSourceId(e),"Expected a valid source ID."),this.types[e]},e.prototype.getTargetType=function(e){return p["default"](this.isTargetId(e),"Expected a valid target ID."),this.types[e]},e.prototype.isSourceId=function(e){var t=c(e);return t===_.SOURCE},e.prototype.isTargetId=function(e){var t=c(e);return t===_.TARGET},e.prototype.removeSource=function(e){p["default"](this.getSource(e),"Expected an existing source."),this.store.dispatch(b.removeSource(e)),delete this.handlers[e],delete this.types[e]},e.prototype.removeTarget=function(e){p["default"](this.getTarget(e),"Expected an existing target."),this.store.dispatch(b.removeTarget(e)),delete this.handlers[e],delete this.types[e]},e.prototype.pinSource=function(e){var t=this.getSource(e);p["default"](t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t},e.prototype.unpinSource=function(){p["default"](this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null},e}();t["default"]=w,e.exports=t["default"]},function(e,t){"use strict";var r=function(e){var t,r={};if(!(e instanceof Object)||Array.isArray(e))throw new Error("keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};e.exports=r},function(e,t){"use strict";function r(){return n++}t.__esModule=!0,t["default"]=r;var n=0;e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(){r(this,e)}return e.prototype.canDrag=function(){return!0},e.prototype.isDragging=function(e,t){return t===e.getSourceId()},e.prototype.endDrag=function(){},e}();t["default"]=n,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var n=function(){function e(){r(this,e)}return e.prototype.canDrop=function(){return!0},e.prototype.hover=function(){},e.prototype.drop=function(){},e}();t["default"]=n,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new s(e)}t.__esModule=!0,t["default"]=i;var a=r(70),u=n(a),s=function(){function e(t){o(this,e),this.actions=t.getActions()}return e.prototype.setup=function(){this.didCallSetup=!0},e.prototype.teardown=function(){this.didCallTeardown=!0},e.prototype.connectDragSource=function(){return u["default"]},e.prototype.connectDragPreview=function(){return u["default"]},e.prototype.connectDropTarget=function(){return u["default"]},e.prototype.simulateBeginDrag=function(e,t){this.actions.beginDrag(e,t)},e.prototype.simulatePublishDragSource=function(){this.actions.publishDragSource()},e.prototype.simulateHover=function(e,t){this.actions.hover(e,t)},e.prototype.simulateDrop=function(){this.actions.drop()},e.prototype.simulateEndDrag=function(){this.actions.endDrag()},e}();e.exports=t["default"]},function(e,t){function r(){}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}t.__esModule=!0;var i=r(72),a=n(i),u=r(45),s=n(u),l=function(){function e(){o(this,e),this.entered=[]}return e.prototype.enter=function(e){var t=this.entered.length;return this.entered=a["default"](this.entered.filter(function(t){return document.documentElement.contains(t)&&(!t.contains||t.contains(e))}),[e]),0===t&&this.entered.length>0},e.prototype.leave=function(e){var t=this.entered.length;return this.entered=s["default"](this.entered.filter(function(e){return document.documentElement.contains(e)}),e),t>0&&0===this.entered.length},e.prototype.reset=function(){this.entered=[]},e}();t["default"]=l,e.exports=t["default"]},function(e,t,r){var n=r(73),o=r(61),i=r(56),a=i(function(e){return o(n(e,!1,!0))});e.exports=a},function(e,t,r){function n(e,t,r,l){l||(l=[]);for(var c=-1,f=e.length;++c<f;){var p=e[c];s(p)&&u(p)&&(r||a(p)||i(p))?t?n(p,t,r,l):o(l,p):r||(l[l.length]=p)}return l}var o=r(60),i=r(74),a=r(35),u=r(53),s=r(40);e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)&&u.call(e,"callee")&&!s.call(e,"callee")}var o=r(53),i=r(40),a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable;e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(76),i=n(o),a=i["default"](function(){return/firefox/i.test(navigator.userAgent)});t.isFirefox=a;var u=i["default"](function(){return Boolean(window.safari)});t.isSafari=u},function(e,t,r){function n(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new TypeError(i);var r=function(){var n=arguments,o=t?t.apply(this,n):n[0],i=r.cache;if(i.has(o))return i.get(o);var a=e.apply(this,n);return r.cache=i.set(o,a),a};return r.cache=new n.Cache,r}var o=r(77),i="Expected a function";n.Cache=o,e.exports=n},function(e,t,r){function n(){this.__data__={}}var o=r(78),i=r(79),a=r(80),u=r(81);n.prototype["delete"]=o,n.prototype.get=i,n.prototype.has=a,n.prototype.set=u,e.exports=n},function(e,t){function r(e){return this.has(e)&&delete this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"==e?void 0:this.__data__[e]}e.exports=r},function(e,t){function r(e){return"__proto__"!=e&&o.call(this.__data__,e)}var n=Object.prototype,o=n.hasOwnProperty;e.exports=r},function(e,t){function r(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(e.nodeType!==c&&(e=e.parentElement),!e)return null;var t=e.getBoundingClientRect(),r=t.top,n=t.left;return{x:n,y:r}}function i(e){return{x:e.clientX,y:e.clientY}}function a(e,t,r,n){var i="IMG"===t.nodeName&&(u.isFirefox()||!document.documentElement.contains(t)),a=i?e:t,s=o(a),c={x:r.x-s.x,y:r.y-s.y},f=e.offsetWidth,p=e.offsetHeight,d=n.anchorX,h=n.anchorY,g=i?t.width:f,y=i?t.height:p;u.isSafari()&&i?(y/=window.devicePixelRatio,g/=window.devicePixelRatio):u.isFirefox()&&!i&&(y*=window.devicePixelRatio,g*=window.devicePixelRatio);var m=l["default"]([0,.5,1],[c.x,c.x/f*g,c.x+g-f]),v=l["default"]([0,.5,1],[c.y,c.y/p*y,c.y+y-p]),b=m(d),_=v(h);return u.isSafari()&&i&&(_+=(window.devicePixelRatio-1)*y),{x:b,y:_}}t.__esModule=!0,t.getElementClientOffset=o,t.getEventClientOffset=i,t.getDragPreviewOffset=a;var u=r(75),s=r(83),l=n(s),c=1},function(e,t){"use strict";function r(e,t){for(var r=e.length,n=[],o=0;r>o;o++)n.push(o);n.sort(function(t,r){return e[t]<e[r]?-1:1});var i=e,a=t;e=[],t=[];for(var o=0;r>o;o++)e.push(+i[n[o]]),t.push(+a[n[o]]);for(var u=[],s=[],l=[],c=void 0,f=void 0,o=0;r-1>o;o++)c=e[o+1]-e[o],f=t[o+1]-t[o],s.push(c),u.push(f),l.push(f/c);for(var p=[l[0]],o=0;o<s.length-1;o++){var d=l[o],h=l[o+1];if(0>=d*h)p.push(0);else{c=s[o];var g=s[o+1],y=c+g;p.push(3*y/((y+g)/d+(y+c)/h))}}p.push(l[l.length-1]);for(var m=[],v=[],b=void 0,o=0;o<p.length-1;o++){b=l[o];var _=p[o],w=1/s[o],y=_+p[o+1]-b-b;m.push((b-_-y)*w),v.push(y*w*w)}return function(r){var n=e.length-1;if(r===e[n])return t[n];for(var o=0,i=v.length-1,a=void 0;i>=o;){a=Math.floor(.5*(o+i));var u=e[a];if(r>u)o=a+1;else{if(!(u>r))return t[a];i=a-1}}n=Math.max(0,i);var s=r-e[n],l=s*s;return t[n]+p[n]*s+m[n]*l+v[n]*s*l}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i])||e[r[i]]!==t[r[i]])return!1;var a=e[r[i]],u=t[r[i]];if(a!==u)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){var n=r(86),o=r(98),i=r(99),a=i(n,o);e.exports=a},function(e,t,r){var n=r(87),o=r(92),i=r(94),a=i(function(e,t,r){return r?n(e,t,r):o(e,t)});e.exports=a},function(e,t,r){function n(e,t,r){for(var n=-1,i=o(t),a=i.length;++n<a;){var u=i[n],s=e[u],l=r(s,t[u],u,e,t);(l===l?l===s:s!==s)&&(void 0!==s||u in e)||(e[u]=l)}return e}var o=r(88);e.exports=n},function(e,t,r){var n=r(36),o=r(53),i=r(39),a=r(89),u=n(Object,"keys"),s=u?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):i(e)?u(e):[]}:a;e.exports=s},function(e,t,r){function n(e){for(var t=s(e),r=t.length,n=r&&e.length,l=!!n&&u(n)&&(i(e)||o(e)),f=-1,p=[];++f<r;){var d=t[f];(l&&a(d,n)||c.call(e,d))&&p.push(d)}return p}var o=r(74),i=r(35),a=r(90),u=r(41),s=r(91),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t){function r(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,o=9007199254740991;e.exports=r},function(e,t,r){function n(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&u(t)&&(i(e)||o(e))&&t||0;for(var r=e.constructor,n=-1,l="function"==typeof r&&r.prototype===e,f=Array(t),p=t>0;++n<t;)f[n]=n+"";for(var d in e)p&&a(d,t)||"constructor"==d&&(l||!c.call(e,d))||f.push(d);return f}var o=r(74),i=r(35),a=r(90),u=r(41),s=r(39),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t,r){function n(e,t){return null==t?e:o(t,i(t),e)}var o=r(93),i=r(88);e.exports=n},function(e,t){function r(e,t,r){r||(r={});for(var n=-1,o=t.length;++n<o;){var i=t[n];r[i]=e[i]}return r}e.exports=r},function(e,t,r){function n(e){return a(function(t,r){var n=-1,a=null==t?0:r.length,u=a>2?r[a-2]:void 0,s=a>2?r[2]:void 0,l=a>1?r[a-1]:void 0;for("function"==typeof u?(u=o(u,l,5),a-=2):(u="function"==typeof l?l:void 0,a-=u?1:0),s&&i(r[0],r[1],s)&&(u=3>a?void 0:u,a=1);++n<a;){var c=r[n];c&&e(t,c,u)}return t})}var o=r(95),i=r(97),a=r(56);e.exports=n},function(e,t,r){function n(e,t,r){if("function"!=typeof e)return o;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,a){return e.call(t,r,n,o,i,a)}}return function(){return e.apply(t,arguments)}}var o=r(96);e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){function n(e,t,r){if(!a(r))return!1;var n=typeof t;if("number"==n?o(r)&&i(t,r.length):"string"==n&&t in r){var u=r[t];return e===e?e===u:u!==u}return!1}var o=r(53),i=r(90),a=r(39);e.exports=n},function(e,t){function r(e,t){return void 0===e?t:e}e.exports=r},function(e,t,r){function n(e,t){return o(function(r){var n=r[0];return null==n?n:(r.push(t),e.apply(void 0,r))})}var o=r(56);e.exports=n},function(e,t,r){(function(e){"use strict";function n(e){return e&&e.__esModule?e["default"]:e}t.__esModule=!0;var o=r(101);t.DragDropContext=n(o);var i=r(103);t.DragLayer=n(i);var a=r(110);t.DragSource=n(a);var u=r(125);t.DropTarget=n(u),"production"!==e.env.NODE_ENV&&Object.defineProperty(t,"default",{get:function(){console.error("React DnD does not provide a default export. You are probably missing the curly braces in the import statement. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#react-dnd-does-not-provide-a-default-export")}})}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){y["default"].apply(void 0,["DragDropContext","backend"].concat(s.call(arguments))),"object"==typeof e&&"function"==typeof e["default"]&&(e=e["default"]),h["default"]("function"==typeof e,"Expected the backend to be a function or an ES6 module exporting a default function. Read more: http://gaearon.github.io/react-dnd/docs-drag-drop-context.html");var t={dragDropManager:new p.DragDropManager(e)};return function(e){var r=e.displayName||e.name||"Component";return function(n){function a(){o(this,a),n.apply(this,arguments)}return i(a,n),a.prototype.getDecoratedComponentInstance=function(){return this.refs.child},a.prototype.getManager=function(){return t.dragDropManager},a.prototype.getChildContext=function(){return t},a.prototype.render=function(){return f["default"].createElement(e,u({},this.props,{ref:"child"}))},l(a,null,[{key:"DecoratedComponent",value:e,enumerable:!0},{key:"displayName",value:"DragDropContext("+r+")",enumerable:!0},{key:"childContextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),a}(c.Component)}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=Array.prototype.slice,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=a;var c=r(1),f=n(c),p=r(27),d=r(42),h=n(d),g=r(102),y=n(g);e.exports=t["default"]},function(e,t,r){(function(r){"use strict";function n(e,t){if("production"!==r.env.NODE_ENV){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;n>i;i++)o[i-2]=arguments[i];for(var a=0;a<o.length;a++){var u=o[a];if(u&&u.prototype&&u.prototype.render)return void console.error("You seem to be applying the arguments in the wrong order. "+("It should be "+e+"("+t+")(Component), not the other way around. ")+"Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#you-seem-to-be-applying-the-arguments-in-the-wrong-order")}}}t.__esModule=!0,t["default"]=n,e.exports=t["default"]}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=arguments.length<=1||void 0===arguments[1]?{}:arguments[1];return w["default"].apply(void 0,["DragLayer","collect[, options]"].concat(s.call(arguments))),b["default"]("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html",e),b["default"](m["default"](t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-layer.html',t),function(r){var n=t.arePropsEqual,a=void 0===n?g["default"]:n,s=r.displayName||r.name||"Component";return function(t){function n(e,r){o(this,n),t.call(this,e),this.handleChange=this.handleChange.bind(this),this.manager=r.dragDropManager,b["default"]("object"==typeof this.manager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",s,s),this.state=this.getCurrentState()}return i(n,t),n.prototype.getDecoratedComponentInstance=function(){return this.refs.child},n.prototype.shouldComponentUpdate=function(e,t){return!a(e,this.props)||!d["default"](t,this.state)},l(n,null,[{key:"DecoratedComponent",value:r,enumerable:!0},{key:"displayName",value:"DragLayer("+s+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),n.prototype.componentDidMount=function(){var e=this.manager.getMonitor();this.unsubscribe=e.subscribeToOffsetChange(this.handleChange)},n.prototype.componentWillUnmount=function(){this.unsubscribe()},n.prototype.handleChange=function(){var e=this.getCurrentState();d["default"](e,this.state)||this.setState(e)},n.prototype.getCurrentState=function(){var t=this.manager.getMonitor();return e(t)},n.prototype.render=function(){return f["default"].createElement(r,u({},this.props,this.state,{ref:"child"}))},n}(c.Component)}}t.__esModule=!0;var u=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},s=Array.prototype.slice,l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=a;var c=r(1),f=n(c),p=(r(27),r(84)),d=n(p),h=r(104),g=n(h),y=r(105),m=n(y),v=r(42),b=n(v),_=r(102),w=n(_);e.exports=t["default"]},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty,i=0;i<r.length;i++){if(!o.call(t,r[i]))return!1;var a=e[r[i]],u=t[r[i]];if(a!==u||"object"==typeof a||"object"==typeof u)return!1}return!0}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){function n(e){var t;if(!a(e)||c.call(e)!=u||i(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return o(e,function(e,t){r=t}),void 0===r||l.call(e,r)}var o=r(106),i=r(74),a=r(40),u="[object Object]",s=Object.prototype,l=s.hasOwnProperty,c=s.toString;e.exports=n},function(e,t,r){function n(e,t){return o(e,t,i)}var o=r(107),i=r(91);e.exports=n},function(e,t,r){var n=r(108),o=n();e.exports=o},function(e,t,r){function n(e){return function(t,r,n){for(var i=o(t),a=n(t),u=a.length,s=e?u:-1;e?s--:++s<u;){var l=a[s];if(r(i[l],l,i)===!1)break}return t}}var o=r(109);e.exports=n},function(e,t,r){function n(e){return o(e)?e:Object(e)}var o=r(39);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];h["default"].apply(void 0,["DragSource","type, spec, collect[, options]"].concat(i.call(arguments)));var o=e;"function"!=typeof e&&(c["default"](C["default"](e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',e),o=function(){return e}),c["default"](p["default"](t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',t);var a=_["default"](t);return c["default"]("function"==typeof r,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',r),c["default"](p["default"](n),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',r),function(e){return y["default"]({connectBackend:function(e,t){return e.connectDragSource(t)},containerDisplayName:"DragSource",createHandler:a,registerHandler:v["default"],createMonitor:x["default"],createConnector:T["default"],DecoratedComponent:e,getType:o,collect:r,options:n})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=o;var a=r(1),u=(n(a),r(84)),s=(n(u),r(104)),l=(n(s),r(42)),c=n(l),f=r(105),p=n(f),d=r(102),h=n(d),g=r(111),y=n(g),m=r(120),v=n(m),b=r(121),_=n(b),w=r(122),x=n(w),D=r(123),T=n(D),O=r(124),C=n(O);e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=e.DecoratedComponent,r=e.createHandler,o=e.createMonitor,u=e.createConnector,d=e.registerHandler,g=e.containerDisplayName,m=e.getType,b=e.collect,w=e.options,D=w.arePropsEqual,T=void 0===D?y["default"]:D,O=t.displayName||t.name||"Component";return function(e){function y(t,n){i(this,y),e.call(this,t,n),this.handleChange=this.handleChange.bind(this),this.handleChildRef=this.handleChildRef.bind(this),_["default"]("object"==typeof this.context.dragDropManager,"Could not find the drag and drop manager in the context of %s. Make sure to wrap the top-level component of your app with DragDropContext. Read more: http://gaearon.github.io/react-dnd/docs-troubleshooting.html#could-not-find-the-drag-and-drop-manager-in-the-context",O,O),this.manager=this.context.dragDropManager,this.handlerMonitor=o(this.manager),this.handler=r(this.handlerMonitor),this.disposable=new p.SerialDisposable,this.receiveProps(t),this.state=this.getCurrentState()}return a(y,e),y.prototype.getHandlerId=function(){return this.handlerId},y.prototype.getDecoratedComponentInstance=function(){return this.decoratedComponentInstance},y.prototype.shouldComponentUpdate=function(e,t){return!T(e,this.props)||!h["default"](t,this.state)},l(y,null,[{key:"DecoratedComponent",value:t,enumerable:!0},{key:"displayName",value:g+"("+O+")",enumerable:!0},{key:"contextTypes",value:{dragDropManager:c.PropTypes.object.isRequired},enumerable:!0}]),y.prototype.componentWillReceiveProps=function(e){T(e,this.props)||(this.receiveProps(e),this.handleChange())},y.prototype.componentWillUnmount=function(){this.disposable.dispose()},y.prototype.receiveProps=function(e){this.handler.receiveProps(e),this.receiveType(m(e))},y.prototype.receiveType=function(e){if(e!==this.currentType){this.currentType=e;var t=d(e,this.handler,this.manager),r=t.handlerId,n=t.unregister,o=u(this.manager.getBackend()),i=x["default"](o,r),a=i.handlerConnector,s=i.disposable;this.handlerId=r,this.handlerConnector=a,this.handlerMonitor.receiveHandlerId(r);var l=this.manager.getMonitor(),c=l.subscribeToStateChange(this.handleChange,{handlerIds:[r]});this.disposable.setDisposable(new p.CompositeDisposable(new p.Disposable(c),new p.Disposable(n),s))}},y.prototype.handleChange=function(){var e=this.getCurrentState();h["default"](e,this.state)||this.setState(e)},y.prototype.handleChildRef=function(e){this.decoratedComponentInstance=e,this.handler.receiveComponent(e)},y.prototype.getCurrentState=function(){var e=b(this.handlerConnector,this.handlerMonitor);return"production"!==n.env.NODE_ENV&&_["default"](v["default"](e),"Expected `collect` specified as the second argument to %s for %s to return a plain object of props to inject. Instead, received %s.",g,O,e),e},y.prototype.render=function(){return f["default"].createElement(t,s({},this.props,this.state,{ref:this.handleChildRef}))},y}(c.Component)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t["default"]=u;var c=r(1),f=o(c),p=r(112),d=r(84),h=o(d),g=r(104),y=o(g),m=r(105),v=o(m),b=r(42),_=o(b),w=r(117),x=o(w);e.exports=t["default"]}).call(t,r(10))},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}};t.__esModule=!0;var o=r(113),i=n(o);t.isDisposable=i["default"];var a=r(114),u=n(a);t.Disposable=u["default"];var s=r(115),l=n(s);t.CompositeDisposable=l["default"];var c=r(116),f=n(c);t.SerialDisposable=f["default"]},function(e,t){"use strict";function r(e){return Boolean(e&&"function"==typeof e.dispose)}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t){"use strict";var r=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.__esModule=!0;var o=function(){},i=function(){function e(t){r(this,e),this.isDisposed=!1,this.action=t||o}return e.prototype.dispose=function(){this.isDisposed||(this.action.call(null),this.isDisposed=!0)},n(e,null,[{key:"empty",enumerable:!0,value:{dispose:o}}]),e}();t["default"]=i,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=r(113),a=n(i),u=function(){function e(){for(var t=arguments.length,r=Array(t),n=0;t>n;n++)r[n]=arguments[n];o(this,e),Array.isArray(r[0])&&1===r.length&&(r=r[0]);for(var i=0;i<r.length;i++)if(!a["default"](r[i]))throw new Error("Expected a disposable");this.disposables=r,this.isDisposed=!1}return e.prototype.add=function(e){this.isDisposed?e.dispose():this.disposables.push(e)},e.prototype.remove=function(e){if(this.isDisposed)return!1;var t=this.disposables.indexOf(e);return-1===t?!1:(this.disposables.splice(t,1),e.dispose(),!0)},e.prototype.dispose=function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),r=0;e>r;r++)t[r]=this.disposables[r];this.isDisposed=!0,this.disposables=[],this.length=0;for(var r=0;e>r;r++)t[r].dispose()}},e}();t["default"]=u,e.exports=t["default"]},function(e,t,r){"use strict";var n=function(e){return e&&e.__esModule?e:{"default":e}},o=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};t.__esModule=!0;var i=r(113),a=n(i),u=function(){function e(){o(this,e),this.isDisposed=!1,this.current=null}return e.prototype.getDisposable=function(){return this.current},e.prototype.setDisposable=function(){var e=void 0===arguments[0]?null:arguments[0];if(null!=e&&!a["default"](e))throw new Error("Expected either an empty value or a valid disposable");var t=this.isDisposed,r=void 0;t||(r=this.current,this.current=e),r&&r.dispose(),t&&e&&e.dispose()},e.prototype.dispose=function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=null,e&&e.dispose()}},e}();t["default"]=u,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=new u.CompositeDisposable,n={};return Object.keys(e).forEach(function(o){var i=a["default"](t,e[o]),u=i.disposable,s=i.ref;r.add(u),n[o]=function(){return s}}),{disposable:r,handlerConnector:n}}t.__esModule=!0,t["default"]=o;var i=r(118),a=n(i),u=r(112);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){function r(u,f){if(c.isValidElement(u)){var p=u;return s["default"](p,function(e){return r(e,f)})}var d=c.findDOMNode(u);if(d!==o||!a["default"](i,f)){if(o=d,i=f,!d)return void n.setDisposable(null);var h=t(e,d,f);n.setDisposable(new l.Disposable(h))}}var n=new l.SerialDisposable,o=null,i=null;return{ref:r,disposable:n}}t.__esModule=!0,t["default"]=o;var i=r(84),a=n(i),u=r(119),s=n(u),l=r(112),c=r(1);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=e.ref;return a["default"]("string"!=typeof r,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),u.cloneElement(e,{ref:function(e){t(e),r&&r(e)}})}t.__esModule=!0,t["default"]=o;var i=r(42),a=n(i),u=r(1);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){function n(){o.removeSource(i)}var o=r.getRegistry(),i=o.addSource(e,t);return{handlerId:i,unregister:n}}t.__esModule=!0,t["default"]=o;var i=r(42);n(i);e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){s["default"](f.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html',f.join(", "),t),s["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])}),p.forEach(function(t){s["default"]("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrag=function(){return e.canDrag?e.canDrag(this.props,this.monitor):!0},t.prototype.isDragging=function(t,r){return e.isDragging?e.isDragging(this.props,this.monitor):r===t.getSourceId()},t.prototype.beginDrag=function(){var t=e.beginDrag(this.props,this.monitor,this.component);return"production"!==n.env.NODE_ENV&&s["default"](c["default"](t),"beginDrag() must return a plain object that represents the dragged item. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drag-source.html",t),t},t.prototype.endDrag=function(){e.endDrag&&e.endDrag(this.props,this.monitor,this.component)},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=a;var u=r(42),s=o(u),l=r(105),c=o(l),f=["canDrag","beginDrag","canDrag","isDragging","endDrag"],p=["beginDrag"];e.exports=t["default"]}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new c(e)}t.__esModule=!0,t["default"]=i;var a=r(42),u=n(a),s=!1,l=!1,c=function(){function e(t){o(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.sourceId=e},e.prototype.canDrag=function(){u["default"](!s,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");
try{return s=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{s=!1}},e.prototype.isDragging=function(){u["default"](!l,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drag-source-monitor.html");try{return l=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{l=!1}},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t){"use strict";function r(e){return{dragSource:e.connectDragSource.bind(e),dragPreview:e.connectDragPreview.bind(e)}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return"string"==typeof e||"symbol"==typeof e||t&&a["default"](e)&&e.every(function(e){return o(e,!1)})}t.__esModule=!0,t["default"]=o;var i=r(35),a=n(i);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){var n=arguments.length<=3||void 0===arguments[3]?{}:arguments[3];h["default"].apply(void 0,["DropTarget","type, spec, collect[, options]"].concat(i.call(arguments)));var o=e;"function"!=typeof e&&(c["default"](C["default"](e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',e),o=function(){return e}),c["default"](p["default"](t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',t);var a=_["default"](t);return c["default"]("function"==typeof r,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',r),c["default"](p["default"](n),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',r),function(e){return y["default"]({connectBackend:function(e,t){return e.connectDropTarget(t)},containerDisplayName:"DropTarget",createHandler:a,registerHandler:v["default"],createMonitor:x["default"],createConnector:T["default"],DecoratedComponent:e,getType:o,collect:r,options:n})}}t.__esModule=!0;var i=Array.prototype.slice;t["default"]=o;var a=r(1),u=(n(a),r(84)),s=(n(u),r(104)),l=(n(s),r(42)),c=n(l),f=r(105),p=n(f),d=r(102),h=n(d),g=r(111),y=n(g),m=r(126),v=n(m),b=r(127),_=n(b),w=r(128),x=n(w),D=r(129),T=n(D),O=r(124),C=n(O);e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){function n(){o.removeTarget(i)}var o=r.getRegistry(),i=o.addTarget(e,t);return{handlerId:i,unregister:n}}t.__esModule=!0,t["default"]=o;var i=r(42);n(i);e.exports=t["default"]},function(e,t,r){(function(n){"use strict";function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e){Object.keys(e).forEach(function(t){s["default"](f.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html',f.join(", "),t),s["default"]("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t,t,e[t])});var t=function(){function t(e){i(this,t),this.monitor=e,this.props=null,this.component=null}return t.prototype.receiveProps=function(e){this.props=e},t.prototype.receiveMonitor=function(e){this.monitor=e},t.prototype.receiveComponent=function(e){this.component=e},t.prototype.canDrop=function(){return e.canDrop?e.canDrop(this.props,this.monitor):!0},t.prototype.hover=function(){e.hover&&e.hover(this.props,this.monitor,this.component)},t.prototype.drop=function(){if(e.drop){var t=e.drop(this.props,this.monitor,this.component);return"production"!==n.env.NODE_ENV&&s["default"]("undefined"==typeof t||c["default"](t),"drop() must either return undefined, or an object that represents the drop result. Instead received %s. Read more: http://gaearon.github.io/react-dnd/docs-drop-target.html",t),t}},t}();return function(e){return new t(e)}}t.__esModule=!0,t["default"]=a;var u=r(42),s=o(u),l=r(105),c=o(l),f=["canDrop","hover","drop"];e.exports=t["default"]}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return new l(e)}t.__esModule=!0,t["default"]=i;var a=r(42),u=n(a),s=!1,l=function(){function e(t){o(this,e),this.internalMonitor=t.getMonitor()}return e.prototype.receiveHandlerId=function(e){this.targetId=e},e.prototype.canDrop=function(){u["default"](!s,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://gaearon.github.io/react-dnd/docs-drop-target-monitor.html");try{return s=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{s=!1}},e.prototype.isOver=function(e){return this.internalMonitor.isOverTarget(this.targetId,e)},e.prototype.getItemType=function(){return this.internalMonitor.getItemType()},e.prototype.getItem=function(){return this.internalMonitor.getItem()},e.prototype.getDropResult=function(){return this.internalMonitor.getDropResult()},e.prototype.didDrop=function(){return this.internalMonitor.didDrop()},e.prototype.getInitialClientOffset=function(){return this.internalMonitor.getInitialClientOffset()},e.prototype.getInitialSourceClientOffset=function(){return this.internalMonitor.getInitialSourceClientOffset()},e.prototype.getSourceClientOffset=function(){return this.internalMonitor.getSourceClientOffset()},e.prototype.getClientOffset=function(){return this.internalMonitor.getClientOffset()},e.prototype.getDifferenceFromInitialOffset=function(){return this.internalMonitor.getDifferenceFromInitialOffset()},e}();e.exports=t["default"]},function(e,t){"use strict";function r(e){return{dropTarget:e.connectDropTarget.bind(e)}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){return null==t?null:e[t.id]||e[t.datasource_id]}function a(e,t){var r=i(e,t);return null==r?null:null!=r.tables?g["default"].find(r.tables,function(e){return e.name===t.name}):r}function u(e,t,r){if(null==r)return null;var n=a(e,t);return null==n?null:n.schema[r]}function s(e){return{type:T,tableId:e}}function l(e){return{type:x,tableId:e}}function c(e,t){return{type:D,tableId:e,data:t}}function f(e){return function(t,r){var n=a(r().datasources.BY_ID,e);return t(l(e)),b["default"](n.url).then(function(e){switch(n.settings.format){case"csv":return e.text();default:return e.json()}}).then(function(r){r=w["default"].read(r,{type:n.settings.format,parse:"auto"}),t(c(e,r))})}}function p(e){return function(t,r){var n=a(r().datasources.BY_ID,e);return null==n.url||n.isLoading||null!=n.schema?void 0:t(f(e))}}function d(e,t){void 0===e&&(e=O);var r=void 0,n=void 0;switch(t.type){case x:return r=a(e.BY_ID,t.tableId),m["default"]({BY_ID:o({},r.id,{isLoading:!0})},e);case D:return r=a(e.BY_ID,t.tableId),n=g["default"](t.data.__types__).map(function(e,t){return{name:t,type:e}}).each(function(e,t){return e.__id__=t}).value(),m["default"]({BY_ID:o({},r.id,{isLoading:!1,data:function(){return t.data},schema:function(){return n}})},e);case T:return m["default"]({selectedTable:function(){return t.tableId}},e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.getDatasource=i,t.getTable=a,t.getField=u,t.selectTable=s,t.requestTableData=l,t.receiveTableData=c,t.connectTable=f,t.connectTableIfNecessary=p,t["default"]=d;var h=r(4),g=n(h),y=r(131),m=n(y),v=r(219),b=n(v),_=r(3),w=n(_),x="explorer/datasources/REQUEST_TABLE_DATA";t.REQUEST_TABLE_DATA=x;var D="explorer/datasources/RECEIVE_TABLE_DATA";t.RECEIVE_TABLE_DATA=D;var T="explorer/datasources/SELECT_TABLE";t.SELECT_TABLE=T;var O={IDS:[],BY_ID:{}}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(132),i=n(o),a=r(133),u=n(a),s=r(134),l=n(s),c=r(185),f=n(c),p=r(186),d=n(p),h=r(193),g=n(h),y=r(202),m=n(y),v=r(216),b=n(v),_=r(187),w=n(_),x=r(217),D=n(x),T=r(218),O=n(T),C=r(184),S=w["default"];S._=C._,S.constant=i["default"],S["if"]=f["default"],S.ifElse=d["default"],S.is=l["default"],S.freeze=u["default"],S.map=g["default"],S.omit=m["default"],S.reject=b["default"],S.update=w["default"],S.updateIn=D["default"],S.withDefault=O["default"],t["default"]=S,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=a["default"](e);return function(){return t}}t.__esModule=!0;var i=r(133),a=n(i);t["default"]=o,e.exports=t["default"]},function(e,t,r){(function(r){"use strict";function n(e){return null===e?!1:Array.isArray(e)||"object"==typeof e}function o(e){return n(e)&&!Object.isFrozen(e)}function i(e){return Object.freeze(e),Object.keys(e).forEach(function(t){var r=e[t];o(r)&&i(r)}),e}function a(e){return"production"===r.env.NODE_ENV?e:(o(e)&&i(e),e)}t.__esModule=!0,t["default"]=a,e.exports=t["default"]}).call(t,r(10))},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){for(var n=a["default"](e),o=r,i=void 0,u=n,s=Array.isArray(u),l=0,u=s?u:u[Symbol.iterator]();;){if(s){if(l>=u.length)break;i=u[l++]}else{if(l=u.next(),l.done)break;i=l.value}if("undefined"==typeof o)return!1;o=o[i]}return"function"==typeof t?t(o):t===o}t.__esModule=!0;var i=r(135),a=n(i),u=r(184),s=n(u);t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return Array.isArray(e)?e:a["default"](e.split("."),function(e){return!e})}t.__esModule=!0,t["default"]=o;var i=r(136),a=n(i);e.exports=t["default"]},function(e,t,r){function n(e,t,r){var n=u(e)?o:a;return t=i(t,r,3),n(e,function(e,r,n){return!t(e,r,n)})}var o=r(137),i=r(138),a=r(178),u=r(159);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length,o=-1,i=[];++r<n;){var a=e[r];t(a,r,e)&&(i[++o]=a)}return i}e.exports=r},function(e,t,r){function n(e,t,r){var n=typeof e;return"function"==n?void 0===t?e:a(e,t,r):null==e?u:"object"==n?o(e):void 0===t?s(e):i(e,t)}var o=r(139),i=r(167),a=r(174),u=r(175),s=r(176);e.exports=n},function(e,t,r){function n(e){var t=i(e);if(1==t.length&&t[0][2]){var r=t[0][0],n=t[0][1];return function(e){return null==e?!1:e[r]===n&&(void 0!==n||r in a(e))}}return function(e){return o(e,t)}}var o=r(140),i=r(164),a=r(163);e.exports=n},function(e,t,r){function n(e,t,r){var n=t.length,a=n,u=!r;if(null==e)return!a;for(e=i(e);n--;){var s=t[n];if(u&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++n<a;){s=t[n];var l=s[0],c=e[l],f=s[1];if(u&&s[2]){if(void 0===c&&!(l in e))return!1}else{var p=r?r(c,f,l):void 0;if(!(void 0===p?o(f,c,r,!0):p))return!1}}return!0}var o=r(141),i=r(163);e.exports=n},function(e,t,r){function n(e,t,r,u,s,l){return e===t?!0:null==e||null==t||!i(e)&&!a(t)?e!==e&&t!==t:o(e,t,n,r,u,s,l)}var o=r(142),i=r(151),a=r(152);e.exports=n},function(e,t,r){function n(e,t,r,n,p,g,y){var m=u(e),v=u(t),b=c,_=c;m||(b=h.call(e),b==l?b=f:b!=f&&(m=s(e))),v||(_=h.call(t),_==l?_=f:_!=f&&(v=s(t)));var w=b==f,x=_==f,D=b==_;if(D&&!m&&!w)return i(e,t,b);if(!p){var T=w&&d.call(e,"__wrapped__"),O=x&&d.call(t,"__wrapped__");if(T||O)return r(T?e.value():e,O?t.value():t,n,p,g,y)}if(!D)return!1;g||(g=[]),y||(y=[]);for(var C=g.length;C--;)if(g[C]==e)return y[C]==t;g.push(e),y.push(t);var S=(m?o:a)(e,t,r,n,p,g,y);return g.pop(),y.pop(),S}var o=r(143),i=r(145),a=r(146),u=r(159),s=r(162),l="[object Arguments]",c="[object Array]",f="[object Object]",p=Object.prototype,d=p.hasOwnProperty,h=p.toString;e.exports=n},function(e,t,r){function n(e,t,r,n,i,a,u){var s=-1,l=e.length,c=t.length;if(l!=c&&!(i&&c>l))return!1;for(;++s<l;){var f=e[s],p=t[s],d=n?n(i?p:f,i?f:p,s):void 0;if(void 0!==d){if(d)continue;return!1}if(i){if(!o(t,function(e){return f===e||r(f,e,n,i,a,u)}))return!1}else if(f!==p&&!r(f,p,n,i,a,u))return!1}return!0}var o=r(144);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}e.exports=r},function(e,t){function r(e,t,r){switch(r){case n:case o:return+e==+t;case i:return e.name==t.name&&e.message==t.message;case a:return e!=+e?t!=+t:e==+t;case u:case s:return e==t+""}return!1}var n="[object Boolean]",o="[object Date]",i="[object Error]",a="[object Number]",u="[object RegExp]",s="[object String]";e.exports=r},function(e,t,r){function n(e,t,r,n,i,u,s){var l=o(e),c=l.length,f=o(t),p=f.length;if(c!=p&&!i)return!1;for(var d=c;d--;){var h=l[d];if(!(i?h in t:a.call(t,h)))return!1}for(var g=i;++d<c;){h=l[d];var y=e[h],m=t[h],v=n?n(i?m:y,i?y:m,h):void 0;if(!(void 0===v?r(y,m,n,i,u,s):v))return!1;g||(g="constructor"==h)}if(!g){var b=e.constructor,_=t.constructor;if(b!=_&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof _&&_ instanceof _))return!1}return!0}var o=r(147),i=Object.prototype,a=i.hasOwnProperty;e.exports=n},function(e,t,r){var n=r(148),o=r(153),i=r(151),a=r(157),u=n(Object,"keys"),s=u?function(e){var t=null==e?void 0:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&o(e)?a(e):i(e)?u(e):[]}:a;e.exports=s},function(e,t,r){function n(e,t){var r=null==e?void 0:e[t];return o(r)?r:void 0}var o=r(149);e.exports=n},function(e,t,r){function n(e){return null==e?!1:o(e)?c.test(s.call(e)):i(e)&&a.test(e)}var o=r(150),i=r(152),a=/^\[object .+?Constructor\]$/,u=Object.prototype,s=Function.prototype.toString,l=u.hasOwnProperty,c=RegExp("^"+s.call(l).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=n},function(e,t,r){function n(e){return o(e)&&u.call(e)==i}var o=r(151),i="[object Function]",a=Object.prototype,u=a.toString;e.exports=n},function(e,t){function r(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}e.exports=r},function(e,t){function r(e){return!!e&&"object"==typeof e}e.exports=r},function(e,t,r){function n(e){return null!=e&&i(o(e))}var o=r(154),i=r(156);e.exports=n},function(e,t,r){var n=r(155),o=n("length");e.exports=o},function(e,t){function r(e){return function(t){return null==t?void 0:t[e]}}e.exports=r},function(e,t){function r(e){return"number"==typeof e&&e>-1&&e%1==0&&n>=e}var n=9007199254740991;e.exports=r},function(e,t,r){function n(e){for(var t=s(e),r=t.length,n=r&&e.length,l=!!n&&u(n)&&(i(e)||o(e)),f=-1,p=[];++f<r;){var d=t[f];(l&&a(d,n)||c.call(e,d))&&p.push(d)}return p}var o=r(158),i=r(159),a=r(160),u=r(156),s=r(161),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e)&&u.call(e,"callee")&&!s.call(e,"callee")}var o=r(153),i=r(152),a=Object.prototype,u=a.hasOwnProperty,s=a.propertyIsEnumerable;e.exports=n},function(e,t,r){var n=r(148),o=r(156),i=r(152),a="[object Array]",u=Object.prototype,s=u.toString,l=n(Array,"isArray"),c=l||function(e){return i(e)&&o(e.length)&&s.call(e)==a};e.exports=c},function(e,t){function r(e,t){return e="number"==typeof e||n.test(e)?+e:-1,t=null==t?o:t,e>-1&&e%1==0&&t>e}var n=/^\d+$/,o=9007199254740991;e.exports=r},function(e,t,r){function n(e){if(null==e)return[];s(e)||(e=Object(e));var t=e.length;t=t&&u(t)&&(i(e)||o(e))&&t||0;for(var r=e.constructor,n=-1,l="function"==typeof r&&r.prototype===e,f=Array(t),p=t>0;++n<t;)f[n]=n+"";for(var d in e)p&&a(d,t)||"constructor"==d&&(l||!c.call(e,d))||f.push(d);return f}var o=r(158),i=r(159),a=r(160),u=r(156),s=r(151),l=Object.prototype,c=l.hasOwnProperty;e.exports=n},function(e,t,r){function n(e){return i(e)&&o(e.length)&&!!R[P.call(e)]}var o=r(156),i=r(152),a="[object Arguments]",u="[object Array]",s="[object Boolean]",l="[object Date]",c="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",h="[object Object]",g="[object RegExp]",y="[object Set]",m="[object String]",v="[object WeakMap]",b="[object ArrayBuffer]",_="[object Float32Array]",w="[object Float64Array]",x="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",O="[object Uint8Array]",C="[object Uint8ClampedArray]",S="[object Uint16Array]",E="[object Uint32Array]",R={};R[_]=R[w]=R[x]=R[D]=R[T]=R[O]=R[C]=R[S]=R[E]=!0,R[a]=R[u]=R[b]=R[s]=R[l]=R[c]=R[f]=R[p]=R[d]=R[h]=R[g]=R[y]=R[m]=R[v]=!1;var M=Object.prototype,P=M.toString;e.exports=n},function(e,t,r){function n(e){return o(e)?e:Object(e)}var o=r(151);e.exports=n},function(e,t,r){function n(e){for(var t=i(e),r=t.length;r--;)t[r][2]=o(t[r][1]);return t}var o=r(165),i=r(166);e.exports=n},function(e,t,r){function n(e){return e===e&&!o(e)}var o=r(151);e.exports=n},function(e,t,r){function n(e){e=i(e);for(var t=-1,r=o(e),n=r.length,a=Array(n);++t<n;){var u=r[t];a[t]=[u,e[u]]}return a}var o=r(147),i=r(163);e.exports=n},function(e,t,r){function n(e,t){var r=u(e),n=s(e)&&l(t),d=e+"";return e=p(e),function(u){if(null==u)return!1;var s=d;if(u=f(u),(r||!n)&&!(s in u)){if(u=1==e.length?u:o(u,a(e,0,-1)),null==u)return!1;s=c(e),u=f(u)}return u[s]===t?void 0!==t||s in u:i(t,u[s],void 0,!0)}}var o=r(168),i=r(141),a=r(169),u=r(159),s=r(170),l=r(165),c=r(171),f=r(163),p=r(172);e.exports=n},function(e,t,r){function n(e,t,r){if(null!=e){void 0!==r&&r in o(e)&&(t=[r]);for(var n=0,i=t.length;null!=e&&i>n;)e=e[t[n++]];return n&&n==i?e:void 0}}var o=r(163);e.exports=n},function(e,t){function r(e,t,r){var n=-1,o=e.length;t=null==t?0:+t||0,0>t&&(t=-t>o?0:o+t),r=void 0===r||r>o?o:+r||0,0>r&&(r+=o),o=t>r?0:r-t>>>0,t>>>=0;for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}e.exports=r},function(e,t,r){function n(e,t){var r=typeof e;if("string"==r&&u.test(e)||"number"==r)return!0;if(o(e))return!1;var n=!a.test(e);return n||null!=t&&e in i(t)}var o=r(159),i=r(163),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,u=/^\w*$/;e.exports=n},function(e,t){function r(e){var t=e?e.length:0;return t?e[t-1]:void 0}e.exports=r},function(e,t,r){function n(e){if(i(e))return e;var t=[];return o(e).replace(a,function(e,r,n,o){t.push(n?o.replace(u,"$1"):r||e)}),t}var o=r(173),i=r(159),a=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,u=/\\(\\)?/g;e.exports=n},function(e,t){function r(e){return null==e?"":e+""}e.exports=r},function(e,t,r){function n(e,t,r){if("function"!=typeof e)return o;if(void 0===t)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 3:return function(r,n,o){return e.call(t,r,n,o)};case 4:return function(r,n,o,i){return e.call(t,r,n,o,i)};case 5:return function(r,n,o,i,a){return e.call(t,r,n,o,i,a)}}return function(){return e.apply(t,arguments)}}var o=r(175);e.exports=n},function(e,t){function r(e){return e}e.exports=r},function(e,t,r){function n(e){return a(e)?o(e):i(e)}var o=r(155),i=r(177),a=r(170);e.exports=n},function(e,t,r){function n(e){var t=e+"";return e=i(e),function(r){return o(r,e,t)}}var o=r(168),i=r(172);e.exports=n},function(e,t,r){function n(e,t){var r=[];return o(e,function(e,n,o){t(e,n,o)&&r.push(e)}),r}var o=r(179);e.exports=n},function(e,t,r){var n=r(180),o=r(183),i=o(n);e.exports=i},function(e,t,r){function n(e,t){return o(e,t,i)}var o=r(181),i=r(147);e.exports=n},function(e,t,r){var n=r(182),o=n();e.exports=o},function(e,t,r){function n(e){return function(t,r,n){for(var i=o(t),a=n(t),u=a.length,s=e?u:-1;e?s--:++s<u;){var l=a[s];if(r(i[l],l,i)===!1)break}return t}}var o=r(163);e.exports=n},function(e,t,r){function n(e,t){return function(r,n){var u=r?o(r):0;if(!i(u))return e(r,n);for(var s=t?u:-1,l=a(r);(t?s--:++s<u)&&n(l[s],s,l)!==!1;);return r}}var o=r(154),i=r(156),a=r(163);e.exports=n},function(e,t){"use strict";function r(e,t){var r=e.length;for(r>t&&(r=t);e[r-1]===s;)r--;return r}function n(e){return function t(n){for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;o>a;a++)i[a-1]=arguments[a];var u=i[0],s=i[1],l=r(arguments);return l>=1?e(n,u,s):t}}function o(e){return function t(o,i){for(var a=arguments.length,u=Array(a>2?a-2:0),l=2;a>l;l++)u[l-2]=arguments[l];var c=u[0],f=u[1],p=r(arguments,2);if(i===s||c===s||f===s)throw new Error("Can only use placeholder on first argument of this function.");return p>=2?o===s?n(function(t,r,n){return e(t,i,r,n)}):e(o,i,c,f):1===p?n(function(t,r,n){return e(o,t,r,n)}):t}}function i(e){return function t(i,a,u){for(var l=arguments.length,c=Array(l>3?l-3:0),f=3;l>f;f++)c[f-3]=arguments[f];var p=c[0],d=c[1],h=r(arguments,3);if(u===s||p===s||d===s)throw new Error("Can only use placeholder on first or second argument of this function.");return h>=3?i===s?a===s?o(function(t,r,n,o){return e(t,r,u,n,o)}):n(function(t,r,n){return e(t,a,u,r,n)}):a===s?n(function(t,r,n){return e(i,t,u,r,n)}):e(i,a,u,p,d):2===h?i===s?o(function(t,r,n,o){return e(t,a,r,n,o)}):n(function(t,r,n){return e(i,a,t,r,n)}):1===h?o(function(t,r,n,o){return e(i,t,r,n,o)}):t}}function a(e){return function t(a,u,l,c){for(var f=arguments.length,p=Array(f>4?f-4:0),d=4;f>d;d++)p[d-4]=arguments[d];var h=p[0],g=p[1],y=r(arguments,4);if(c===s||h===s||g===s)throw new Error("Can only use placeholder on first, second or third argument of this function.");return y>=4?a===s?u===s?l===s?i(function(t,r,n,o,i){return e(t,r,n,c,o,i)}):o(function(t,r,n,o){return e(t,r,l,c,n,o)}):l===s?o(function(t,r,n,o){return e(t,u,r,c,n,o)}):n(function(t,r,n){return e(t,u,l,c,r,n)}):u===s?l===s?o(function(t,r,n,o){return e(a,t,r,c,n,o)}):n(function(t,r,n){return e(a,t,l,c,r,n)}):l===s?n(function(t,r,n){return e(a,u,t,c,r,n)}):e(a,u,l,c,h,g):3===y?a===s?u===s?i(function(t,r,n,o,i){return e(t,r,l,n,o,i)}):o(function(t,r,n,o){return e(t,u,l,r,n,o)}):u===s?o(function(t,r,n,o){return e(a,t,l,r,n,o)}):n(function(t,r,n){return e(a,u,l,t,r,n)}):2===y?a===s?i(function(t,r,n,o,i){return e(t,u,r,n,o,i)}):o(function(t,r,n,o){return e(a,u,t,r,n,o)}):1===y?i(function(t,r,n,o,i){return e(a,t,r,n,o,i)}):t}}function u(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return[e,n,o,i,a][t](e)}()}t.__esModule=!0,t.curry1=n,t.curry2=o,t.curry3=i,t.curry4=a,t["default"]=u;var s="@@updeep/placeholder";t._=s},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}t.__esModule=!0;var o=r(186),i=n(o),a=r(184),u=n(a);t["default"]=u["default"](function(e,t,r){return i["default"](e,t,function(e){return e},r)}),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r,n){var o="function"==typeof e?e(n):e,i=o?t:r;return a["default"](i,n)}t.__esModule=!0;var i=r(187),a=n(i),u=r(188),s=n(u);t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return Object.keys(e).reduce(function(r,n){return t(r,e[n],n)},r)}function i(e,t){return o(e,function(e,r,n){var o=r;return Array.isArray(r)||null===r||"object"!=typeof r?"function"==typeof r&&(o=r(t[n])):o=u(r,t[n]),t[n]!==o&&(e[n]=o),e},{})}function a(e,t){var r=[].concat(t);return Object.keys(e).forEach(function(t){r[t]=e[t]}),r}function u(e,t){if("function"==typeof e){for(var r=arguments.length,n=Array(r>2?r-2:0),o=2;r>o;o++)n[o-2]=arguments[o];return e.apply(void 0,[t].concat(n))}if(!y["default"](e))return e;var u=h["default"](t,e),l=i(e,u);return p["default"](l)?u:Array.isArray(u)?a(l,u):s({},u,l)}t.__esModule=!0;var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=r(188),c=n(l),f=r(189),p=n(f),d=r(190),h=n(d),g=r(191),y=n(g);t["default"]=c["default"](u,2),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=arguments.length<=1||void 0===arguments[1]?e.length:arguments[1];return function(){return a["default"](function(){return s["default"](e.apply(void 0,arguments))},t)}()}t.__esModule=!0,t["default"]=o;var i=r(184),a=n(i),u=r(133),s=n(u);e.exports=t["default"]},function(e,t){"use strict";function r(e){return!Object.keys(e).length}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(isNaN(e))return!1;var t=parseFloat(e);return(0|t)===t}function i(e){for(var t=Object.keys(e),r=Array.isArray(t),n=0,t=r?t:t[Symbol.iterator]();;){var i;if(r){if(n>=t.length)break;i=t[n++]}else{if(n=t.next(),n.done)break;i=n.value}var a=i;if(!o(a))return!1}return!0}function a(e){return!l["default"](e)&&i(e)?[]:{}}function u(e,t){return"undefined"==typeof e||null===e?a(t):e}t.__esModule=!0;var s=r(189),l=n(s);t["default"]=u,e.exports=t["default"]},function(e,t,r){function n(e){var t;if(!a(e)||c.call(e)!=u||i(e)||!l.call(e,"constructor")&&(t=e.constructor,"function"==typeof t&&!(t instanceof t)))return!1;var r;return o(e,function(e,t){r=t}),void 0===r||l.call(e,r)}var o=r(192),i=r(158),a=r(152),u="[object Object]",s=Object.prototype,l=s.hasOwnProperty,c=s.toString;e.exports=n},function(e,t,r){function n(e,t){return o(e,t,i)}var o=r(181),i=r(161);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r=!0;return f["default"](t,function(t,n){return t!==e[n]?(r=!1,!1):void 0}),r}function i(e,t){var r="function"==typeof e?e:u["default"](e),n=Array.isArray(t)?d["default"]:g["default"],i=n(t,r),a=o(t,i);return a?t:i}t.__esModule=!0;var a=r(187),u=n(a),s=r(188),l=n(s),c=r(194),f=n(c),p=r(197),d=n(p),h=r(200),g=n(h);t["default"]=l["default"](i),e.exports=t["default"]},function(e,t,r){var n=r(195),o=r(179),i=r(196),a=i(n,o);e.exports=a},function(e,t){function r(e,t){for(var r=-1,n=e.length;++r<n&&t(e[r],r,e)!==!1;);return e}e.exports=r},function(e,t,r){function n(e,t){return function(r,n,a){return"function"==typeof n&&void 0===a&&i(r)?e(r,n):t(r,o(n,a,3))}}var o=r(174),i=r(159);e.exports=n},function(e,t,r){function n(e,t,r){var n=u(e)?o:a;return t=i(t,r,3),n(e,t)}var o=r(198),i=r(138),a=r(199),u=r(159);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=e.length,o=Array(n);++r<n;)o[r]=t(e[r],r,e);return o}e.exports=r},function(e,t,r){function n(e,t){var r=-1,n=i(e)?Array(e.length):[];return o(e,function(e,o,i){n[++r]=t(e,o,i)}),n}var o=r(179),i=r(153);e.exports=n},function(e,t,r){var n=r(201),o=n();e.exports=o},function(e,t,r){function n(e){return function(t,r,n){var a={};return r=o(r,n,3),i(t,function(t,n,o){var i=r(t,n,o);n=e?i:n,t=e?t:i,a[n]=t}),a}}var o=r(138),i=r(180);e.exports=n},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](t,e)}t.__esModule=!0;var i=r(203),a=n(i),u=r(188),s=n(u);t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,r){var n=r(198),o=r(204),i=r(211),a=r(174),u=r(161),s=r(213),l=r(214),c=r(215),f=c(function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=n(i(t),String);return s(e,o(u(e),t))}var r=a(t[0],t[1],3);return l(e,function(e,t,n){return!r(e,t,n)})});e.exports=f},function(e,t,r){function n(e,t){var r=e?e.length:0,n=[];if(!r)return n;var s=-1,l=o,c=!0,f=c&&t.length>=u?a(t):null,p=t.length;f&&(l=i,c=!1,t=f);e:for(;++s<r;){var d=e[s];if(c&&d===d){for(var h=p;h--;)if(t[h]===d)continue e;n.push(d)}else l(t,d,0)<0&&n.push(d)}return n}var o=r(205),i=r(207),a=r(208),u=200;e.exports=n},function(e,t,r){function n(e,t,r){if(t!==t)return o(e,r);for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}var o=r(206);e.exports=n},function(e,t){function r(e,t,r){for(var n=e.length,o=t+(r?0:-1);r?o--:++o<n;){var i=e[o];if(i!==i)return o}return-1}e.exports=r},function(e,t,r){function n(e,t){var r=e.data,n="string"==typeof t||o(t)?r.set.has(t):r.hash[t];return n?0:-1}var o=r(151);e.exports=n},function(e,t,r){(function(t){function n(e){return u&&a?new o(e):null}var o=r(209),i=r(148),a=i(t,"Set"),u=i(Object,"create");e.exports=n}).call(t,function(){return this}())},function(e,t,r){(function(t){function n(e){var t=e?e.length:0;for(this.data={hash:u(null),set:new a};t--;)this.push(e[t])}var o=r(210),i=r(148),a=i(t,"Set"),u=i(Object,"create");n.prototype.push=o,e.exports=n}).call(t,function(){return this}())},function(e,t,r){function n(e){var t=this.data;"string"==typeof e||o(e)?t.set.add(e):t.hash[e]=!0}var o=r(151);e.exports=n},function(e,t,r){function n(e,t,r,l){l||(l=[]);for(var c=-1,f=e.length;++c<f;){var p=e[c];s(p)&&u(p)&&(r||a(p)||i(p))?t?n(p,t,r,l):o(l,p):r||(l[l.length]=p)}return l}var o=r(212),i=r(158),a=r(159),u=r(153),s=r(152);e.exports=n},function(e,t){function r(e,t){for(var r=-1,n=t.length,o=e.length;++r<n;)e[o+r]=t[r];return e}e.exports=r},function(e,t,r){function n(e,t){e=o(e);for(var r=-1,n=t.length,i={};++r<n;){var a=t[r];a in e&&(i[a]=e[a])}return i}var o=r(163);e.exports=n},function(e,t,r){function n(e,t){var r={};return o(e,function(e,n,o){t(e,n,o)&&(r[n]=e)}),r}var o=r(192);e.exports=n},function(e,t){function r(e,t){if("function"!=typeof e)throw new TypeError(n);return t=o(void 0===t?e.length-1:+t||0,0),function(){for(var r=arguments,n=-1,i=o(r.length-t,0),a=Array(i);++n<i;)a[n]=r[t+n];switch(t){case 0:return e.call(this,a);case 1:return e.call(this,r[0],a);case 2:return e.call(this,r[0],r[1],a)}var u=Array(t+1);for(n=-1;++n<t;)u[n]=r[n];return u[t]=a,e.apply(this,u)}}var n="Expected a function",o=Math.max;e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){return a["default"](t,e)}t.__esModule=!0;var i=r(136),a=n(i),u=r(188),s=n(u);t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){var r;return t===h?function(t){var r;return Object.prototype.hasOwnProperty.call(t,h)?l["default"]((r={},r[h]=e,r),t):f["default"](e,t)}:(r={},r[t]=e,r)}function i(e,t,r){var n=d["default"](e),i=n.reduceRight(o,t);return l["default"](i,r)}t.__esModule=!0;var a=r(184),u=n(a),s=r(187),l=n(s),c=r(193),f=n(c),p=r(135),d=n(p),h="*";t["default"]=u["default"](i),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return"undefined"==typeof r?a["default"](t,e):a["default"](t,r)}t.__esModule=!0;var i=r(187),a=n(i),u=r(184),s=n(u);t["default"]=s["default"](o),e.exports=t["default"]},function(e,t,r){r(220),e.exports=self.fetch.bind(self)},function(e,t){!function(){"use strict";function e(e){if("string"!=typeof e&&(e=e.toString()),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function t(e){return"string"!=typeof e&&(e=e.toString()),e}function r(e){this.map={};
var t=this;e instanceof r?e.forEach(function(e,r){r.forEach(function(r){t.append(e,r)})}):e&&Object.getOwnPropertyNames(e).forEach(function(r){t.append(r,e[r])})}function n(e){return e.bodyUsed?Promise.reject(new TypeError("Already read")):void(e.bodyUsed=!0)}function o(e){return new Promise(function(t,r){e.onload=function(){t(e.result)},e.onerror=function(){r(e.error)}})}function i(e){var t=new FileReader;return t.readAsArrayBuffer(e),o(t)}function a(e){var t=new FileReader;return t.readAsText(e),o(t)}function u(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(d.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(d.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else{if(e)throw new Error("unsupported BodyInit type");this._bodyText=""}},d.blob?(this.blob=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(i)},this.text=function(){var e=n(this);if(e)return e;if(this._bodyBlob)return a(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=n(this);return e?e:Promise.resolve(this._bodyText)},d.formData&&(this.formData=function(){return this.text().then(c)}),this.json=function(){return this.text().then(JSON.parse)},this}function s(e){var t=e.toUpperCase();return h.indexOf(t)>-1?t:e}function l(e,t){if(t=t||{},this.url=e,this.credentials=t.credentials||"omit",this.headers=new r(t.headers),this.method=s(t.method||"GET"),this.mode=t.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&t.body)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(t.body)}function c(e){var t=new FormData;return e.trim().split("&").forEach(function(e){if(e){var r=e.split("="),n=r.shift().replace(/\+/g," "),o=r.join("=").replace(/\+/g," ");t.append(decodeURIComponent(n),decodeURIComponent(o))}}),t}function f(e){var t=new r,n=e.getAllResponseHeaders().trim().split("\n");return n.forEach(function(e){var r=e.trim().split(":"),n=r.shift().trim(),o=r.join(":").trim();t.append(n,o)}),t}function p(e,t){t||(t={}),this._initBody(e),this.type="default",this.url=null,this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof r?t.headers:new r(t.headers),this.url=t.url||""}if(!self.fetch){r.prototype.append=function(r,n){r=e(r),n=t(n);var o=this.map[r];o||(o=[],this.map[r]=o),o.push(n)},r.prototype["delete"]=function(t){delete this.map[e(t)]},r.prototype.get=function(t){var r=this.map[e(t)];return r?r[0]:null},r.prototype.getAll=function(t){return this.map[e(t)]||[]},r.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},r.prototype.set=function(r,n){this.map[e(r)]=[t(n)]},r.prototype.forEach=function(e){var t=this;Object.getOwnPropertyNames(this.map).forEach(function(r){e(r,t.map[r])})};var d={blob:"FileReader"in self&&"Blob"in self&&function(){try{return new Blob,!0}catch(e){return!1}}(),formData:"FormData"in self},h=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];u.call(l.prototype),u.call(p.prototype),self.Headers=r,self.Request=l,self.Response=p,self.fetch=function(e,t){var r;return r=l.prototype.isPrototypeOf(e)&&!t?e:new l(e,t),new Promise(function(e,t){function n(){return"responseURL"in o?o.responseURL:/^X-Request-URL:/m.test(o.getAllResponseHeaders())?o.getResponseHeader("X-Request-URL"):void 0}var o=new XMLHttpRequest;o.onload=function(){var r=1223===o.status?204:o.status;if(100>r||r>599)return void t(new TypeError("Network request failed"));var i={status:r,statusText:o.statusText,headers:f(o),url:n()},a="response"in o?o.response:o.responseText;e(new p(a,i))},o.onerror=function(){t(new TypeError("Network request failed"))},o.open(r.method,r.url,!0),"include"===r.credentials&&(o.withCredentials=!0),"responseType"in o&&d.blob&&(o.responseType="blob"),r.headers.forEach(function(e,t){t.forEach(function(t){o.setRequestHeader(e,t)})}),o.send("undefined"==typeof r._bodyInit?null:r._bodyInit)})},self.fetch.polyfill=!0}}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return["row","col"].concat(O.TABLE_ENCODINGS[e].properties||[])}function u(e,t,r){return w["default"](t).mapValues(function(t){return w["default"].map(t,function(t){return w["default"]({}).merge(t,null!=t.fieldId?e(t.fieldId):null).tap(function(e){return w["default"].merge(e,{algebraType:T.getAlgebraType(e)})}).value()})}).pick(a(r)).omit(w["default"].isEmpty).value()}function s(e,t,r){return{type:C,shelf:e,position:t,field:r}}function l(e,t){return{type:S,shelf:e,field:t}}function c(e,t,r,n){return{type:E,shelf:e,position:t,newshelf:r,newposition:n}}function f(e,t,r){return{type:R,shelf:e,position:t,newshelf:r}}function p(e,t,r){return{type:E,shelf:e,position:t,newshelf:e,newposition:r}}function d(e,t){return{type:M,shelf:e,field:t}}function h(e,t){return{type:P,shelf:e,position:t}}function g(e){return{type:k,shelf:e}}function y(){return{type:A}}function m(e,t,r){return{type:j,shelf:e,position:t,typecast:r}}function v(e,t,r){return{type:I,shelf:e,position:t,func:r}}function b(e,t){var r=!0;e:for(;r;){var n=e,a=t;switch(void 0===n&&(n=N),r=!1,a.type){case C:return D["default"](i({},a.shelf,[].concat(o(n[a.shelf].slice(0,a.position)),[a.field],o(n[a.shelf].slice(a.position)))),n);case S:return D["default"](i({},a.shelf,[a.field]),n);case E:e=b(n,h(a.shelf,a.position)),t=s(a.newshelf,a.newposition,n[a.shelf][a.position]),r=!0;continue e;case R:e=b(n,h(a.shelf,a.position)),t=l(a.newshelf,n[a.shelf][a.position]),r=!0;continue e;case M:return D["default"](i({},a.shelf,function(e){return e.concat([a.field])}),n);case P:return D["default"](i({},a.shelf,D["default"].reject(function(e,t){return t===a.position})),n);case k:return D["default"](i({},a.shelf,function(){return[]}),n);case A:return N;case j:return D["default"](i({},a.shelf,i({},a.position,D["default"].omit("func"))),D["default"].updateIn([a.shelf],i({},a.position,null!=a.typecast?{typecast:a.typecast}:D["default"].omit("typecast")),n));case I:return D["default"].updateIn([a.shelf],i({},a.position,null!=a.func?{func:a.func}:D["default"].omit("func")),n);default:return n}}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFullQueryspec=u,t.insertFieldAtPosition=s,t.replaceFieldOnShelf=l,t.moveFieldTo=c,t.moveAndReplaceField=f,t.updateFieldPosition=p,t.addField=d,t.removeField=h,t.clearFields=g,t.clearQuery=y,t.updateFieldTypecast=m,t.updateFieldFunction=v,t["default"]=b;var _=r(4),w=n(_),x=r(131),D=n(x),T=r(222),O=r(223),C="explorer/queryspec/INSERT_FIELD_AT_POSITION";t.INSERT_FIELD_AT_POSITION=C;var S="explorer/queryspec/REPLACE_FIELD_ON_SHELF";t.REPLACE_FIELD_ON_SHELF=S;var E="explorer/queryspec/MOVE_FIELD_TO";t.MOVE_FIELD_TO=E;var R="explorer/queryspec/MOVE_AND_REPLACE_FIELD";t.MOVE_AND_REPLACE_FIELD=R;var M="explorer/queryspec/ADD_FIELD";t.ADD_FIELD=M;var P="explorer/queryspec/REMOVE_FIELD";t.REMOVE_FIELD=P;var k="explorer/queryspec/CLEAR_FIELDS";t.CLEAR_FIELDS=k;var A="explorer/queryspec/CLEAR_QUERY";t.CLEAR_QUERY=A;var I="explorer/queryspec/UPDATE_FIELD_FUNCTION";t.UPDATE_FIELD_FUNCTION=I;var j="explorer/queryspec/UPDATE_FIELD_TYPECAST";t.UPDATE_FIELD_TYPECAST=j;var N={filter:[],row:[],col:[],size:[],x:[],y:[],x2:[],y2:[],color:[],shape:[],background:[],opacity:[],orientation:[],schema:[],text:[]}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=null!=e.typecast?e.typecast:e.type;return a(t)}function i(e){switch(o(e)){case"text":return"O";default:return"Q"}}function a(e){switch(e){case"date":case"timestamp":return"time";case"string":return"text";case"integer":return"number";default:return e}}function u(e){switch(e){case"bin[ms]":return"Millisecond";case"bin[s]":return"Second";case"bin[m]":return"Minute";case"bin[h]":return"Hour";case"bin[d]":return"Day";case"bin[w]":return"Week";case"bin[M]":return"Month";case"bin[Q]":return"Quarter";case"bin[6M]":return"6 Month";case"bin[Y]":return"Year";case"bin[5Y]":return"5 Year";case"bin[10Y]":return"10 Year";case"text":case"time":case"number":return p["default"].capitalize(e);default:return e&&e.toUpperCase()}}function s(e){switch(e){case"bin[ms]":return"by Millisecond";case"bin[s]":return"by Second";case"bin[m]":return"by Minute";case"bin[h]":return"by Hour";case"bin[d]":return"by Day";case"bin[w]":return"by Week";case"bin[M]":return"by Month";case"bin[Q]":return"by Quarter";case"bin[6M]":return"by 6 Month";case"bin[Y]":return"by Year";case"bin[5Y]":return"by 5 Year";case"bin[10Y]":return"by 10 Year";default:return u(e)}}function l(e){switch(e){case"bin[ms]":case"bin[s]":return"second";case"bin[m]":return"minute";case"bin[h]":return"hour";case"bin[d]":case"bin[w]":return"day";case"bin[M]":case"bin[Q]":case"bin[6M]":return"month";default:return"year"}}function c(e){switch(e){case"bin[ms]":case"bin[s]":case"bin[m]":case"bin[h]":case"bin[d]":return 1;case"bin[w]":return 7;case"bin[M]":return 1;case"bin[Q]":return 3;case"bin[6M]":return 6;case"bin[Y]":return 1;case"bin[5Y]":return 5;case"bin[10Y]":return 10;default:return 1}}Object.defineProperty(t,"__esModule",{value:!0}),t.getFieldType=o,t.getAlgebraType=i,t.getExternalType=a,t.getFieldFunctionSelectDisplayName=u,t.getFieldFunctionDisplayName=s,t.getBinStepUnit=l,t.getBinStep=c;var f=r(4),p=n(f),d=[{id:"agg_count",name:"COUNT",type:"aggregate",op:"count"}];t.AGGREGATES=d},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={bar:{name:"Bar",icon:[{className:"fa fa-bar-chart"}],properties:["size","color","opacity","orientation"]},line:{name:"Line",icon:[{className:"fa fa-line-chart"}],properties:["color","opacity"]},point:{name:"Symbol",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:22}},"grain"],properties:["size","color","shape","opacity","orientation"]},pivot:{name:"Pivot Table",icon:[{className:"fa fa-table"}],properties:["color","background"]},rect:{name:"Gantt Bar",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:22}},"clear_all"],properties:["x","x2","y","y2","size","color","opacity"]},area:{name:"Area",icon:[{className:"fa fa-area-chart"}],properties:["color"]},box:{name:"Box Plot",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:18}},"tune"],properties:["color"]},pie:{name:"Pie",icon:[{className:"fa fa-pie-chart"}],properties:["color"]},donut:{name:"Donut",icon:[{className:"material-icons",style:{position:"relative",top:4,fontSize:18}},"data_usage"],properties:["color"]}};t.TABLE_ENCODINGS=r},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}function i(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function a(e){return JSON.stringify(e)}function u(e){return{type:b,key:e}}function s(e,t){var r=arguments.length<=2||void 0===arguments[2]?!1:arguments[2];return _.extend({type:v,key:e,error:r},t)}function l(e,t){return new Promise(function(r,n){var o=h.getDatasource(e.BY_ID,e.selectedTable);o.data?setTimeout(function(){return r(m.requestQuery(t,o.data))},0):n(Error("Querying adapter not defined for protocol: "+o.protocol))})}function c(e,t,r){return function(n,o){return n(u(t)),l(e,r).then(function(e){n(s(t,e))})["catch"](function(e){n(s(t,null,!0)),console.log("Fetch query data failed",e,e.stack)})}}function f(){return function(e,t){var r=t(),n=r.datasources,o=r.queryspec,i=r.visualspec,u=r.result,s=_.curry(h.getField)(n.BY_ID,n.selectedTable),l=g.getFullQueryspec(s,o,i.table.type),f=a(l),p=u[f];(null==p||!p.isLoading&&!p.error&&null==p.data)&&e(c(n,f,l))}}function p(e,t){switch(void 0===e&&(e=w),t.type){case b:return _.extend({},e,i({},t.key,{isLoading:!0}));case v:return _.extend({},e,i({},t.key,_.extend({isLoading:!1},_.omit(t,"type"))));default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.makeQueryKey=a,t.requestResultData=u,t.receiveResultData=s,t.fetchQueryData=l,t.runQuery=c,t.runCurrentQueryIfNecessary=f,t["default"]=p;var d=r(131),h=(o(d),r(130)),g=r(221),y=r(225),m=n(y),v="explorer/result/RECEIVE_RESULT_DATA";t.RECEIVE_RESULT_DATA=v;var b="explorer/result/REQUEST_RESULT_DATA";t.REQUEST_RESULT_DATA=b;var w={}},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){return"text"==h.getFieldType(e)||f["default"].contains(e.func,"bin")||f["default"].contains(["year","month","day","date","hour","minute","second"],e.func)?"groupby":"aggregate"==e.type?"operator":e.func&&f["default"].contains(["count","sum","min","max","mean","median"],e.func.toLowerCase())?"aggregate":"value"}function i(e,t){if(!f["default"].contains(t.func,"bin"))return f["default"].contains(["year","month","day","date","hour","minute","second"],t.func)?d["default"]["$"+t.func](t.name):t.name;if("time"==h.getFieldType(t)){var r=function(){var e=d["default"].bins.date({type:"date",maxbins:1e3,unit:h.getBinStepUnit(t.func)});e.step=h.getBinStep(t.func);var r=d["default"].$func("bin",function(t){return e.value(e.unit.unit(t))})(d["default"].$(t.name));return r.step=e.step,{v:r}}();if("object"==typeof r)return r.v}else{var n=function(){var r=d["default"].$(t.name),n=d["default"].extent(e,r),o=l(n,2),i=o[0],a=o[1],u=d["default"].bins({maxbins:1e3,min:i,max:a}),s=d["default"].$func("bin",function(e){return u.value(e)})(r);return s.step=u.step,{v:s}}();if("object"==typeof n)return n.v}}function a(e,t){if(f["default"].isEmpty(e))return null;var r=f["default"](e).values().flatten().groupBy(o).value(),n=r.groupby,a=r.operator,u=r.aggregate,s=r.value,l=f["default"].merge(f["default"](u).groupBy("name").mapValues(function(e){return f["default"].map(e,"func")}).value(),a?{"*":a.map(function(e){return e.op})}:{},s?{"*":["values"]}:{},function(e,t){return f["default"].isArray(e)?e.concat(t):void 0});return{groupby:f["default"].map(n,f["default"].curry(i)(t)),summarize:l,where:[],having:[],order:[]}}function u(e,t){return null==e?null:d["default"].groupby(e.groupby).summarize(e.summarize).execute(t)}function s(e,t){var r=a(e,t),n=u(r,t),o=m.calculateDomains(n,f["default"](e).map(function(e){return e}).flatten().value()),i=r?g.prepareAxes(e,r,n):{},s=i.axes,l=i.nest,c=r?y.partitionPaneData(s,l,n):{};return{query:r,queryspec:e,data:n,axes:s,domains:o,panes:c}}Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t){var r=[],n=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(n=(a=u.next()).done)&&(r.push(a.value),!t||r.length!==t);n=!0);}catch(s){o=!0,i=s}finally{try{!n&&u["return"]&&u["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();t.performQuery=u,t.requestQuery=s;var c=r(4),f=n(c),p=r(3),d=n(p),h=r(222),g=r(226),y=r(227),m=r(228)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t,r){var n=f["default"](e).mapValues(function(e){return f["default"].groupBy(e,"algebraType")}).value(),i=f["default"](n).pick("row","col").map(function(e){return f["default"].map(e.O,"name")}).flatten().map(l["default"].$).value(),a=f["default"].isEmpty(i)?{}:p.calculateNest(r,function(e){return f["default"].map(i,function(t){return t(e)})}),u=n.row&&n.row.O?n.row.O:[],s=n.col&&n.col.O?n.col.O:[],c=f["default"].mapValues(p.partitionNestKey(a,u,s),function(e,t){return e=f["default"].sortByAll.apply(f["default"],[e].concat(o(f["default"].times("row"==t?u.length:s.length,function(e){return e+".key"})))),f["default"].isEmpty(e)?[new d]:f["default"].map(e,function(e){return new d(e)})}),h=f["default"].mapValues(c,function(e,t){var r=n[t]&&n[t].Q;return f["default"].isEmpty(r)?e:f["default"](e).map(function(e){return f["default"].map(r,function(t){return e.cross(t)})}).flatten().value()});return{axes:h,nest:a}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.prepareAxes=a;var s=r(3),l=n(s),c=r(4),f=n(c),p=r(317),d=function(){function e(){var t=arguments.length<=0||void 0===arguments[0]?[]:arguments[0],r=arguments.length<=1||void 0===arguments[1]?null:arguments[1];i(this,e),this.ordinals=t,this.key=f["default"].map(t,"key"),this.acceptsValues=f["default"].isEmpty(this.key),this.field=r}return u(e,[{key:"cross",value:function(t){return f["default"].extend(new e,this,{field:t})}},{key:"hasQuantitativeField",value:function(){return null!=this.field}},{key:"map",value:function(e){for(var t=[],r=0,n=this.ordinals.length;n>r;r++)t.push(e(this.ordinals[r],r));return null!=this.field&&t.push(e(this.field,"Q")),t}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){for(var n=e,o=0,i=t.length;i>o;o++)if(n=n[t[o]],null==n)return null;for(var o=0,i=r.length;i>o;o++)if(n=n[r[o]],null==n)return null;return n}function i(e,t,r){for(var n={},i=u["default"].range(r.length),a=0,s=e.row.length,l=e.col.length;s>a;a++)for(var c=0;l>c;c++){var f=e.row[a],p=e.col[c];if(f.acceptsValues&&p.acceptsValues)n[a]||(n[a]={}),n[a][c]=i;else{var d=o(t,f.key,p.key);null!=d&&(n[a]||(n[a]={}),n[a][c]=d)}}return n}Object.defineProperty(t,"__esModule",{value:!0}),t.partitionPaneData=i;var a=r(4),u=n(a)},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e){return e.func?(l["default"].contains(e.func,"bin")?"bin":e.func)+"_"+e.name:e.op?e.op:e.name}function a(e,t){var r={};if(null==e)return r;for(var n=0,o=t.length;o>n;n++){var a=t[n],u=i(a);r[u]||(r[u]="O"==a.algebraType?new f:new c)}for(var n=0,s=Object.keys(r),o=e.length,p=s.length;o>n;n++)for(var d=e[n],h=0;p>h;h++){var g=s[h];if(null!=d[g])r[g].add(d[g]);else{if(null==d.values)throw Error("Not supposed to get here: Missing key "+g+" and no values");r[g].add(l["default"].map(d.values,g))}}return l["default"].mapValues(r,function(e){return e.result()})}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();t.getAccessorName=i,t.calculateDomains=a;var s=r(4),l=n(s),c=function(){function e(){o(this,e),this._result={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY}}return u(e,[{key:"add",value:function(e){if(l["default"].isArray(e))for(var t=0;t<e.length;t++)this.add(e[t]);else e<this._result.min&&(this._result.min=e),e>this._result.max&&(this._result.max=e)}},{key:"result",value:function(){return this._result}}]),e}(),f=function(){function e(){o(this,e),this._result={}}return u(e,[{key:"add",value:function(e){this._result[e]=!0}},{key:"result",value:function t(){for(var t=[],e=0,r=Object.keys(this._result),n=r.length;n>e;e++)t.push(r[e]);return t.sort()}}]),e}()},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e){return{type:d,encoding:e}}function a(e,t,r){return{type:h,property:e,setting:t,value:r}}function u(e,t){switch(void 0===e&&(e=g),t.type){case d:return f["default"]({type:t.encoding},e);default:return e}}function s(e,t){switch(void 0===e&&(e=y),t.type){case h:return f["default"](o({},t.property,o({},t.setting,t.value)),e);default:return e}}Object.defineProperty(t,"__esModule",{value:!0}),t.setTableEncoding=i,t.setPropertySetting=a;var l=r(4),c=(n(l),r(131)),f=n(c),p=r(14),d="explorer/visualspec/SET_TABLE_ENCODING";t.SET_TABLE_ENCODING=d;var h="explorer/visualspec/SET_PROPERTY_SETTING";t.SET_PROPERTY_SETTING=h;var g={type:"bar"},y={size:{},shape:{},color:{palette:"category10","default":"#356CA7",scale:"linear",scaleZero:!0,scaleManualDomain:!1,scaleManualRange:!1,scaleRangeMin:"#ffffff",scaleRangeMax:"#0c541f"},background:{palette:"category10","default":"#356CA7",scale:"linear",scaleZero:!0,scaleManualDomain:!1,scaleManualRange:!1,scaleRangeMin:"#ffffff",scaleRangeMax:"#0c541f"},opacity:{},orientation:{},x:{},x2:{},y:{},y2:{},text:{}},m=p.combineReducers({table:u,properties:s});t["default"]=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},l=r(1),c=n(l),f=r(25),p=n(f),d=r(4),h=n(d),g=r(231),y=r(222),m=r(130),v=r(232),b=c["default"].DOM,_=b.div,w=b.i,x=(b.span,function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this;switch(this.props.type){case"table":case"dataframe":return _({className:"datasource-name",onClick:function(){return e.props.onSelect(h["default"].pick(e.props,["id","datasource_id","name"]))}},w({className:"fa fa-table"}),this.props.name);case"db":return _({className:"datasource-db"},_({className:"datasource-db-name"},w({className:"fa fa-database"}),this.props.name),_({className:"datasource-db-tables"},this.props.tables.map(function(r,n){return c["default"].createElement(t,a({key:n},r,{onSelect:e.props.onSelect}))})))}}}]),t}(c["default"].Component)),D=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"onSelect",value:function(e){this.props.onSelectTable(e),this.props.closeDropdown()}},{key:"render",value:function(){var e=this,t=this.props.isDropdownOpen,r=t?_({className:"datasource-dropdown"},_({className:"datasource-list"},this.props.sourceIds.map(function(t){return c["default"].createElement(x,a({key:t},e.props.sources[t],{onSelect:e.onSelect.bind(e)}))})),_({className:"datasource-add"},w({className:"fa fa-plus"}),"Add data source")):null,n=m.getTable(this.props.sources,this.props.tableId);return _({className:"datasource-select"},_({className:"datasource-title",onClick:this.props.toggleDropdown},w({className:"fa fa-table"}),n?n.name:"Connect data source...",w({className:p["default"]("fa",{"fa-caret-down":!t,"fa-caret-up":t})})),r)}}]),t}(c["default"].Component);t.DataSourceSelect=D=g.createDropdownComponent(D);var T=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.tableId,r=e.onSelectField;if(null==t)return null;var n=m.getTable(this.props.sources,t);return n.isLoading?_({className:"datasource-table-fields"},"Loading..."):_({className:"datasource-table-fields"},y.AGGREGATES.map(function(e){return c["default"].createElement(v.TableField,a({key:e.id},e,{onClick:function(){return r(e)}}))}),n.schema.map(function(e,n){return c["default"].createElement(v.TableField,a({key:e.__id__,tableId:t},e,{onClick:function(){return r({tableId:t,fieldId:e.__id__})}}))}))}}]),t}(c["default"].Component);t.DataSourceSelect=D,t.TableSchema=T},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e,t){for(var r=t.parentNode;null!=r;){if(r==e)return!0;r=r.parentNode}return!1}function u(e){var t=function(t){function r(e){o(this,r),f(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.bindOuterClickHandler=this.bindOuterClickHandler.bind(this),this.unbindOuterClickHandler=this.unbindOuterClickHandler.bind(this),this.handleDocumentClick=this.handleDocumentClick.bind(this)}return i(r,t),c(r,[{key:"handleDocumentClick",value:function(e){var t=this;return function(r){var n=r.target||r.srcElement;null==n.parentNode||a(h(t),n)||e()}}},{key:"bindOuterClickHandler",value:function(e){window.addEventListener("click",e)}},{key:"unbindOuterClickHandler",value:function(e){window.removeEventListener("click",e)}},{key:"render",value:function(){return d["default"].createElement(e,l({},this.props,{handleDocumentClick:this.handleDocumentClick,bindOuterClickHandler:this.bindOuterClickHandler,unbindOuterClickHandler:this.unbindOuterClickHandler}))}}]),r}(d["default"].Component);return t}function s(e){var t=function(t){function r(e){o(this,r),f(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={open:!1},this.openDropdown=this.openDropdown.bind(this),this.closeDropdown=this.closeDropdown.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.onOuterClick=this.props.handleDocumentClick(this.closeDropdown)}return i(r,t),c(r,[{key:"componentDidUpdate",value:function(e,t){this.state.open?this.props.bindOuterClickHandler(this.onOuterClick):this.props.unbindOuterClickHandler(this.onOuterClick)}},{key:"componentWillUnmount",value:function(){this.props.unbindOuterClickHandler(this.onOuterClick)}},{key:"openDropdown",value:function(){this.setState({open:!0})}},{key:"closeDropdown",value:function(){this.setState({open:!1})}},{key:"toggleDropdown",value:function(){this.setState({open:!this.state.open})}},{key:"render",value:function(){return d["default"].createElement(e,l({},this.props,{isDropdownOpen:this.state.open,toggleDropdown:this.toggleDropdown.bind(this),openDropdown:this.openDropdown.bind(this),closeDropdown:this.closeDropdown.bind(this)}))}}]),r}(d["default"].Component);return u(t)}Object.defineProperty(t,"__esModule",{value:!0});var l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},c=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),f=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}};t.handleOuterClick=u,t.createDropdownComponent=s;var p=r(1),d=n(p),h=d["default"].findDOMNode},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=S(e).getBoundingClientRect(),r=e.props.fields.map(function(t,r){return S(e.refs["field:"+r]).getBoundingClientRect()});return{shelfBounds:t,fieldBounds:r}}function u(e,t){var r=a(e),n=r.shelfBounds,o=r.fieldBounds,i=t.x-n.left,u=g["default"](o).map(function(e){return e.left-n.left}).sortedIndex(i),s=(u>=o.length?g["default"].last(o).left+g["default"].last(o).width+6:o[u].left)-n.left;return s}function s(e,t){var r=a(e),n=r.shelfBounds,o=r.fieldBounds,i=t.x-n.left,u=g["default"](o).map(function(e){return e.left-n.left}).sortedIndex(i);return u}function l(e,t){return{connectDropTarget:e.dropTarget(),isOver:t.isOver({shallow:!0}),canDrop:t.canDrop(),dropOffset:t.getSourceClientOffset()}}function c(e,t){return{connectDragSource:e.dragSource(),connectDragPreview:e.dragPreview(),isDragging:t.isDragging()}}Object.defineProperty(t,"__esModule",{value:!0});var f=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),p=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};t.calculateDropMarkPosition=u,t.calculateDropPosition=s,t.fieldDropCollector=l;var h=r(4),g=n(h),y=r(25),m=n(y),v=r(1),b=n(v),_=r(100),w=r(26),x=r(222),D=r(233),T=b["default"].DOM,O=T.div,C=T.i,S=(T.span,b["default"].findDOMNode),E={canDrop:function(e){return!0},hover:function(e,t,r){r.setState({hoverDropOffset:t.getSourceClientOffset()})},drop:function(e,t,r){var n=t.getItem(),o=n.shelf,i=n.position,a=n.dropField,u=g["default"].pick(e,"insertFieldAtPosition","moveFieldTo","removeField","replaceFieldOnShelf","moveAndReplaceField"),l=e.shelf,c=s(r,t.getSourceClientOffset());return o!=l||null==i||i!=c&&i+1!=c||(c=i),g["default"].extend(u,{shelf:o,position:i,newshelf:l,newposition:c,dropField:a})}};t.FieldDropHandler=E;var R={beginDrag:function(e,t,r){var n=void 0;return n=null!=e.tableId?{tableId:e.tableId,fieldId:e.__id__}:e.field?e.field:g["default"].pick(e,"id","name","type","op"),d({},e,{dropField:n})},endDrag:function(e,t,r){if(t.didDrop()){var n=r.constructor.name,o="TableField"==n,i="ShelfField"==n,a=t.getDropResult(),u=a.removeField,s=a.replaceFieldOnShelf,l=a.insertFieldAtPosition,c=a.moveFieldTo,f=a.moveAndReplaceField,p=a.shelf,d=a.position,h=a.dropField,y=a.newshelf,m=a.newposition,v=a.droppedOnBody,b=g["default"].contains(["row","col"],y);
o?b?l(y,m,h):s(y,h):i&&(v?u(p,d):b?c(p,d,y,m):f(p,d,y))}}},M=function(e){function t(){o(this,t),p(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview(w.getEmptyImage(),{captureDraggingState:!0})}},{key:"render",value:function(){var e=this.props.connectDragSource;return e(O({className:"field-wrap datasource-table-field",onClick:this.props.onClick},O({className:"icon-wrap"},b["default"].createElement(D.FieldIcon,{type:this.props.type})),O({className:"name-wrap"},this.props.name)))}}]),t}(b["default"].Component);t.TableField=M=_.DragSource("TableField",R,c)(M);var P=function(e){function t(){o(this,t),p(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),f(t,[{key:"componentDidMount",value:function(){this.props.connectDragPreview(w.getEmptyImage(),{captureDraggingState:!0})}},{key:"handleOptionClick",value:function(e){e.stopPropagation();var t=S(this);this.props.setOptionField(this.props.shelf,this.props.position,t.getBoundingClientRect())}},{key:"render",value:function(){var e=this.props,t=e.name,r=e.type,n=e.remove,o=e.isDragging,i=e.connectDragSource,a=this.props.field,u=a.typecast,s=a.func;return i(O({className:"field-wrap querybuilder-field",style:{opacity:o?.3:1}},O({className:"icon-wrap"},b["default"].createElement(D.FieldIcon,{type:r,typecast:u})),O({className:"func-wrap"},x.getFieldFunctionDisplayName(s)),O({className:m["default"]("name-wrap",{"has-func":null!=s})},t),O({className:"option-wrap",onClick:"aggregate"==r?function(){return n()}:this.handleOptionClick.bind(this)},C("aggregate"==r?{className:"fa fa-times remove-link"}:{className:"fa fa-caret-down"}))))}}]),t}(b["default"].Component);t.ShelfField=P=_.DragSource("ShelfField",R,c)(P),t.TableField=M,t.ShelfField=P},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},s=r(1),l=n(s),c=r(25),f=n(c),p=r(222),d=l["default"].DOM,h=d.div,g=d.i,y=d.span,m=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,r=e.type,n=e.typecast;if(null!=n&&p.getExternalType(n)!=p.getExternalType(r))return h({},l["default"].createElement(t,{type:r}),g({className:"fa fa-long-arrow-right"}),l["default"].createElement(t,{type:n}));var o=void 0;if("aggregate"==r)o="bar-chart";else if(["date","timestamp","time"].indexOf(r)>=0)o="clock-o";else{if(!(["string","text"].indexOf(r)>=0))return["integer","number"].indexOf(r)>=0?y({},"#"):y({},r);o="font"}return g({className:f["default"]("fa","fa-"+o)})}}]),t}(l["default"].Component);t.FieldIcon=m},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function u(e){var t=function(t){function r(e){i(this,r),c(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,e),this.state={optionField:null},this.setOptionField=this.setOptionField.bind(this),this.clearOptionField=this.clearOptionField.bind(this)}return a(r,t),l(r,[{key:"componentWillReceiveProps",value:function(e){e.isDropdownOpen?e.isDragging&&(this.props.closeDropdown(),this.setState({optionField:null})):this.setState({optionField:null})}},{key:"setOptionField",value:function(e,t,r){if(null!=this.state.optionField&&y["default"].eq(y["default"].pick(this.state.optionField,"shelf","position"),{shelf:e,position:t}))this.props.closeDropdown(),this.setState({optionField:null});else{var n=O(this).getBoundingClientRect();this.props.openDropdown(),this.setState({optionField:{shelf:e,position:t,top:r.bottom-n.top-1,left:r.left-n.left}})}}},{key:"clearOptionField",value:function(){this.props.closeDropdown(),this.setState({optionField:null})}},{key:"render",value:function(){return h["default"].createElement(e,s({},this.props,this.state,{setOptionField:this.setOptionField,clearOptionField:this.clearOptionField}))}}]),r}(h["default"].Component);return v.createDropdownComponent(t)}Object.defineProperty(t,"__esModule",{value:!0});var s=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},l=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),c=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},f=r(25),p=n(f),d=r(1),h=n(d),g=r(4),y=n(g),m=(r(100),r(235)),v=r(231),b=r(236),_=r(223),w=h["default"].DOM,x=w.div,D=w.i,T=(w.label,w.pre,w.a),O=(w.input,h["default"].findDOMNode),C=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.queryspec,r=e.fieldActionCreators,n=e.isDropdownOpen,o=e.closeDropdown,i=e.isDragging,a=e.optionField,u=e.setOptionField,l=t.row,c=t.col,f={closeDropdown:o,setOptionField:u},p=y["default"].extend({getField:this.props.getField},r);return x({className:"querybuilder-type-spec col"},h["default"].createElement(m.FieldOptionsDropdown,s({isOpen:n&&!i,field:a&&t[a.shelf][a.position]},a,p,{close:o})),h["default"].createElement(b.Shelf,s({name:"Rows",shelf:"row",fields:l},p,{dropdownProps:f})),h["default"].createElement(b.Shelf,s({name:"Columns",shelf:"col",fields:c},p,{dropdownProps:f})))}}]),t}(h["default"].Component);t.TableLayoutSpecBuilder=C=u(C);var S={size:"Size",shape:"Shape",color:"Color",background:"Background",opacity:"Opacity",orientation:"Orientation",x:"X Start",x2:"X End",y:"Y Start",y2:"Y End",text:"Text"},E=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return a(t,e),l(t,[{key:"render",value:function(){var e=this.props,t=e.active,r=e.setPreview,n=e.setTableEncoding;return x({className:"tablebuilder-type-select"},y["default"].map(_.TABLE_ENCODINGS,function(e,i){return x({key:i,onMouseEnter:function(e){return r(i)},onMouseLeave:function(e){return r(null)},onClick:function(e){return n(i)},className:p["default"]("tablebuilder-type-choice",{active:t==i})},T({},D.apply(void 0,o(e.icon))))}))}}]),t}(h["default"].Component),R=function(e){function t(){i(this,t),c(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={previewTableType:null,visualOptionDropdown:null},this.setPreview=this.setPreview.bind(this)}return a(t,e),l(t,[{key:"setPreview",value:function(e){this.setState({previewTableType:e}),this.props.clearOptionField()}},{key:"render",value:function(){var e=this,t=this.props,r=t.queryspec,n=t.fieldActionCreators,o=t.vizActionCreators,i=t.isDropdownOpen,a=t.closeDropdown,u=t.isDragging,l=t.optionField,c=t.setOptionField,f={isDropdownOpen:i,closeDropdown:a,setOptionField:c},p=y["default"].extend({getField:this.props.getField},n),d=this.state.previewTableType,g=_.TABLE_ENCODINGS[d||this.props.table.type].properties;return x({className:"pane shelf-pane"},h["default"].createElement(m.FieldOptionsDropdown,s({isOpen:i&&!u,field:l&&r[l.shelf][l.position]},l,p,{close:a})),h["default"].createElement(E,s({active:this.props.table.type},this.props.vizActionCreators,{setPreview:this.setPreview})),x({className:"container-flex-fill-wrap"},x({className:"container-flex-fill"},h["default"].createElement("label",{className:"tablebuilder-encoding-title"},_.TABLE_ENCODINGS[d||this.props.table.type].name),g.map(function(t){return h["default"].createElement(b.Shelf,s({key:t,name:S[t],shelf:t,properties:e.props.properties[t],fields:r[t]},p,{dropdownProps:f,vizActionCreators:o}))}))))}}]),t}(h["default"].Component);t.TableVisualSpecBuilder=R=u(R),t.TableLayoutSpecBuilder=C,t.TableVisualSpecBuilder=R},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},l=r(1),c=n(l),f=r(25),p=(n(f),r(4)),d=n(p),h=r(222),g=(r(233),c["default"].DOM),y=g.div,m=g.i,v=g.label,b=(g.pre,g.a),_=g.input,w=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.choice,r=e.options,n=e.onChoiceChange;return y({className:"querybuilder-field-settings-options"},r.map(function(e){return y({key:e,className:"querybuilder-field-settings-option-value",style:{width:"bin"==e?"100%":null}},v({},_({key:e,type:"radio",value:e,checked:e===t,onChange:function(){e!==t&&n(e)}}),h.getFieldFunctionSelectDisplayName(e)))}))}}]),t}(c["default"].Component),x=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.func,r=e.type,n=e.updateFieldFunction;return"number"==r?y({className:"querybuilder-field-options querybuilder-func"},v({},"Functions",t?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(w,{name:"func",choice:t,options:["bin","count","sum","mean","median","min","max"],onChoiceChange:n})):"time"==r?y({className:"querybuilder-field-options querybuilder-func"},v({},"Function",t&&!d["default"].contains(t,"bin")?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(w,{name:"func",choice:t,options:["year","month","day","date","hour","minute","second"],onChoiceChange:n}),v({},"BIN",t&&d["default"].contains(t,"bin")?b({onClick:function(){return n(null)}},"Reset"):null),c["default"].createElement(w,{name:"func",choice:t,options:["bin[ms]","bin[s]","bin[m]","bin[h]","bin[d]","bin[w]","bin[M]","bin[Q]","bin[6M]","bin[Y]","bin[5Y]","bin[10Y]"],onChoiceChange:n})):null}}]),t}(c["default"].Component),D=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.func,r=e.type,n=e.typecast,o=e.typeOptions,i=e.updateFieldTypecast,a=e.updateFieldFunction,u=h.getExternalType(r),s=n||u;return y({className:"querybuilder-field-options"},v({},"Type"),c["default"].createElement(w,{name:"typecast",choice:s,options:o,onChoiceChange:function(e){return i(e===u?null:e)}}),c["default"].createElement(x,{type:s,func:t,updateFieldFunction:a}))}}]),t}(c["default"].Component),T=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.field,r=e.fieldSettings,n=e.updateFieldTypecast,o=e.updateFieldFunction,i=r.type,u={type:i,typecast:t.typecast,func:t.func,updateFieldTypecast:n,updateFieldFunction:o};return["date","timestamp","time"].indexOf(i)>=0?c["default"].createElement(D,a({},u,{typeOptions:["time","number","text"]})):["string","text"].indexOf(i)>=0?c["default"].createElement(D,a({},u,{typeOptions:["text","number"]})):["integer","number"].indexOf(i)>=0?c["default"].createElement(D,a({},u,{typeOptions:["number","text"]})):y({className:"querybuilder-field-options"},v({},"No Settings"))}}]),t}(c["default"].Component),O=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.isOpen,n=t.shelf,o=t.field,i=t.position,a=t.top,u=t.left,s=t.removeField,l=t.updateFieldTypecast,f=t.updateFieldFunction;if(!r)return null;var p=this.props.getField(o.tableId,o.fieldId);return y({className:"querybuilder-field-settings",style:{top:a,left:u}},m({className:"fa fa-times remove-link",onClick:this.props.close}),c["default"].createElement(T,{position:i,field:o,fieldSettings:p,updateFieldFunction:d["default"].curry(f,3)(n,i),updateFieldTypecast:d["default"].curry(l,3)(n,i)}),y({className:"querybuilder-field-remove",onClick:function(){e.props.close(),s(n,i)}},"Remove"))}}]),t}(c["default"].Component);t.FieldOptionsDropdown=O},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},l=r(25),c=n(l),f=r(1),p=n(f),d=r(100),h=r(4),g=n(h),y=r(237),m=(r(235),r(231)),v=r(232),b=p["default"].DOM,_=b.div,w=b.i,x=(b.a,b.pre,p["default"].findDOMNode),D=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"componentDidUpdate",value:function(e,t){this.hasDropMarker()&&(x(this.refs.dropMarker).style.left=v.calculateDropMarkPosition(this,this.state.hoverDropOffset)+"px")}},{key:"hasDropMarker",value:function(){return g["default"].contains(["row","col"],this.props.shelf)&&this.props.fields.length>0&&this.props.isOver&&this.props.dropOffset}},{key:"render",value:function(){var e=this.props,t=e.shelf,r=e.fields,n=e.getField,o=e.removeField,i=e.dropdownProps,u=this.props,s=u.isOver,l=u.canDrop,f=u.connectDropTarget,d=this.hasDropMarker(),h=d?_({ref:"dropMarker",className:"field-position-marker"}):null,y=r.map(function(e,r){var u="aggregate"==e.type?e:n(e.tableId,e.fieldId);return p["default"].createElement(v.ShelfField,a({ref:"field:"+r,key:r+":"+("aggregate"==e.type?e.id:e.fieldId),shelf:t,field:e,position:r},u,{remove:function(){return o(t,r)}},i))});return f(_({className:c["default"]("querybuilder-field-container-wrap",{"field-drop-target":l,"field-drop-over":s,"field-contained":!g["default"].isEmpty(r),"field-empty":g["default"].isEmpty(r),"field-drop-marker":d}),onScroll:i.closeDropdown},_({className:"querybuilder-field-container"},h,y)))}}]),t}(p["default"].Component);D=d.DropTarget(["TableField","ShelfField"],v.FieldDropHandler,v.fieldDropCollector)(D);var T=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){return _({className:"querybuilder-shelf-legend"},JSON.stringify(this.props.legend,null,2))}}]),t}(p["default"].Component),O=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this,t=this.props,r=t.name,n=t.shelf,o=t.fields,i=t.legend,u=t.getField,s=t.removeField,l=t.clearFields,c=t.insertFieldAtPosition,f=t.moveFieldTo,d=t.replaceFieldOnShelf,h=t.moveAndReplaceField,m=t.dropdownProps,v=t.vizActionCreators,b={shelf:n,fields:o,getField:u,removeField:s,clearFields:l,insertFieldAtPosition:c,moveFieldTo:f,replaceFieldOnShelf:d,moveAndReplaceField:h,dropdownProps:m},x=a({property:n,fields:o,getField:u,settings:this.props.properties,isOpen:this.props.isDropdownOpen&&!m.isDropdownOpen,close:this.props.closeDropdown},v),O=g["default"].contains(["row","col"],this.props.shelf),C=w(O?{className:"fa fa-times remove-link",onClick:function(){m.closeDropdown(),l(n)}}:{className:"fa fa-caret-down"});return _({className:"querybuilder-shelf"},p["default"].createElement("label",{onClick:O?null:function(){m.isDropdownOpen?e.props.openDropdown():e.props.toggleDropdown(),m.closeDropdown()},style:{cursor:O?null:"pointer"}},r,C),p["default"].createElement(y.VisualPropertiesDropdown,x),p["default"].createElement(D,b),!O&&i?p["default"].createElement(T,{legend:i}):null)}}]),t}(p["default"].Component);t.Shelf=O=m.createDropdownComponent(O),t.Shelf=O},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},s=r(1),l=n(s),c=r(4),f=n(c),p=r(222),d=l["default"].DOM,h=d.div,g=d.i,y=(d.a,d.label),m=d.pre,v=d.input,b=d.select,_=d.option,w=d.img,x=d.span,D=["category10","category20","category20b","category20c","pastel1","pastel2","set1","set2","set3"],T=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.settings,n=e.setPropertySetting;return r.scaleManualRange?h({},y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Min:",v({type:"color",value:r.scaleRangeMin,onChange:function(e){n(t,"scaleRangeMin",e.target.value)}})),y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Max:",v({type:"color",value:r.scaleRangeMax,onChange:function(e){n(t,"scaleRangeMax",e.target.value)}}))):null}}]),t}(l["default"].Component),O=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.settings,n=e.setPropertySetting;return r.scaleManualDomain?h({},y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Min:",v({type:"number",value:r.scaleDomainMin,onChange:function(e){n(t,"scaleDomainMin",e.target.value)}})),y({className:"querybuilder-color-sub-settings querybuilder-color-sub-settings-input"},"Max:",v({type:"number",value:r.scaleDomainMax,onChange:function(e){n(t,"scaleDomainMax",e.target.value)}}))):y({className:"querybuilder-color-sub-settings"},v({type:"checkbox",checked:r.scaleZero,onChange:function(e){n(t,"scaleZero",e.target.checked)}}),"Zero?")}}]),t}(l["default"].Component),C=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.fields,n=e.fieldTypes,o=e.settings,i=e.setPropertySetting,a=!f["default"].isEmpty(r),u=a?null!=r[0].op?"number":p.getExternalType(r[0].typecast||n[0].type):null;if(!a)return y({className:"querybuilder-color-static"},"Default",v({type:"color",value:o["default"],onChange:function(e){i(t,"default",e.target.value)}}));switch(u){case"text":return h({},y({},"Palette"),h({className:"querybuilder-color-settings"},D.map(function(e){return y({key:e},v({type:"radio",value:e,checked:e===o.palette,onChange:function(){e!==o.palette&&i(t,"palette",e)}}),w({src:"/public/images/data/"+e+".svg"}))})));default:return h({},y({className:"querybuilder-color-static",style:{marginBottom:5}},x({style:{marginTop:4}},"Scale"),b({value:o.scale,onChange:function(e){i(t,"scale",e.target.value)}},_({},"linear"),_({},"log"),_({},"pow"),_({},"sqrt"),_({},"quantile"))),y({className:"querybuilder-color-settings"},v({type:"checkbox",checked:!o.scaleManualDomain,onChange:function(e){i(t,"scaleManualDomain",!e.target.checked)}}),"Auto Domain"),l["default"].createElement(O,{property:t,settings:o,setPropertySetting:i}),y({className:"querybuilder-color-settings"},v({type:"checkbox",checked:!o.scaleManualRange,onChange:function(e){i(t,"scaleManualRange",!e.target.checked)}}),"Auto Range"),l["default"].createElement(T,{property:t,settings:o,setPropertySetting:i}))}}}]),t}(l["default"].Component),S=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.property,r=e.fields,n=e.settings,o=e.getField,i=e.setPropertySetting,a=r.map(function(e){return o(e.tableId,e.fieldId)});switch(t){case"color":case"background":return l["default"].createElement(C,{property:t,fields:r,fieldTypes:a,settings:n,setPropertySetting:i});default:return h({},m({},JSON.stringify(r,null,2)),m({},JSON.stringify(a,null,2)),m({},JSON.stringify(n,null,2)))}}}]),t}(l["default"].Component),E=function(e){function t(){o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.isOpen,r=e.property,n=e.fields,o=e.settings,i=e.getField,a=e.close,u=e.setPropertySetting;return t?h({className:"querybuilder-field-settings querybuilder-property-settings"},g({className:"fa fa-times remove-link",onClick:a}),l["default"].createElement(S,{property:r,fields:n,settings:o,getField:i,setPropertySetting:u})):null}}]),t}(l["default"].Component);t.VisualPropertiesDropdown=E},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var a=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),u=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}};r(239),r(243);var s=r(25),l=(n(s),r(1)),c=n(l),f=r(4),p=n(f),d=r(245),h=n(d),g=r(262),y=n(g),m=r(228),v=h["default"].Table,b=h["default"].Column,_=h["default"].ColumnGroup,w=c["default"].createFactory(v),x=c["default"].createFactory(b),D=(c["default"].createFactory(_),c["default"].findDOMNode),T=c["default"].DOM,O=T.div,C=(T.pre,1),S=function(){return""},E=function(){},R=["getRow","_onResize","_update","renderHeaderCell","renderFooterCell","renderVisualizationCell"],M=function(e){function t(){var e=this;o(this,t),u(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments),this.state={renderTable:!1,tableWidth:500,tableHeight:500},p["default"].extend(this,p["default"](this).pick(R).mapValues(function(t){return t.bind(e)}).value())}return i(t,e),a(t,[{key:"componentDidMount",value:function(){this._update(),window.addEventListener("resize",this._onResize,!1)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this._onResize)}},{key:"_onResize",value:function(){clearTimeout(this._updateTimer),this._updateTimer=setTimeout(this._update,16)}},{key:"_update",value:function(){var e=D(this.refs.container);if(e){var t=e.offsetWidth,r=e.offsetHeight;this.setState({renderTable:!0,tableWidth:t,tableHeight:this.getTableHeight(t,r)})}}},{key:"getTableHeight",value:function(e,t){var r=this.props.tableSettings;if(p["default"].isEmpty(r))return t;var n=r.headerHeight+r.footerHeight+r.bodyHeight+2*C,o=r.fixedWidth+r.bodyWidth;return o>e&&(n+=y["default"].SIZE),n>t&&(n=t),n}},{key:"getRow",value:function(e){return this.props.panes[e]}},{key:"getRowAxisCell",value:function(e,t){return e}},{key:"getFixedColumns",value:function(e,t){var r=this,n=e.hasQuantitativeField();return e.map(function(e,o){var i="O"==e.algebraType;return x({fixed:!0,key:m.getAccessorName(e),dataKey:e.name,label:i?{key:[e.name]}:"",width:i?t.fixedOrdinalAxisWidth:t.fixedQuantAxisWidth,cellClassName:n?"public_fixedDataTableCell_axis":"",cellDataGetter:r.getRowAxisCell,headerRenderer:r.renderHeaderCell,cellRenderer:r.renderRowAxisCell.bind(r,o),footerRenderer:S})})}},{key:"getScrollableColumns",value:function(e,t){var r=this;return p["default"].map(e,function(e,n){return x({fixed:!1,key:e.key.join(" "),dataKey:n,label:e,width:t.colWidth,headerRenderer:r.renderHeaderCell,cellRenderer:r.renderVisualizationCell,footerRenderer:r.renderFooterCell,allowCellsRecycling:!0})})}},{key:"renderRowAxisCell",value:function(e,t,r,n,o,i,a){return"Q"==e?O({},m.getAccessorName(this.props.axes.row[o].field)):O({},this.props.axes.row[o].key[e])}},{key:"renderHeaderCell",value:function(e,t,r,n,o){return O({},p["default"].map(e.key,function(e){return O({key:e},e)}))}},{key:"renderFooterCell",value:function(e,t,r,n,o){return O({},O({},JSON.stringify(this.props.domains[m.getAccessorName(e.field)])),O({},e.field.name))}},{key:"renderVisualizationCell",value:function(e,t,r,n,o,i){return O({},e)}},{key:"render",value:function(){var e=this.state,t=e.renderTable,r=e.tableWidth,n=e.tableHeight,o=this.props,i=(o.isLoading,o.query),a=o.data,u=o.error,s=o.queryspec,l=o.tableSettings,c=l.rowHeight,f=l.rowsCount,p=l.headerHeight,d=l.footerHeight,h=void 0;return h=!t||null==i||null==s||null==a||u?O({},(u?"Error: ":"")+"No Chart"):w({ref:"table",width:r,maxHeight:n,height:n,rowHeight:c,rowGetter:this.getRow,rowsCount:f,headerHeight:p,footerHeight:d,footerDataGetter:E},this.getFixedColumns(this.props.axes.row[0],l),this.getScrollableColumns(this.props.axes.col,l)),O({className:"container-flex-fill-wrap graphic-container"},O({ref:"container",className:"container-flex-fill"},t?h:null))}}]),t}(c["default"].Component);t.TableGraphic=M,M.getTableSettings=function(e){if(null==e)return{};var t={rowsCount:e.row.length,rowHeight:e.row[0].field?400:30,colWidth:e.col[0].field?400:100,headerHeight:Math.max(e.row[0].key.length>0?30:0,30*e.col[0].key.length),footerHeight:e.col[0].field?60:0,fixedQuantAxisWidth:120,fixedOrdinalAxisWidth:100};return p["default"].extend(t,{bodyHeight:t.rowsCount*t.rowHeight,bodyWidth:e.col.length*t.colWidth,fixedWidth:e.row[0].key.length*t.fixedOrdinalAxisWidth+(e.row[0].field?t.fixedQuantAxisWidth:0)})}},function(e,t,r){var n=r(240);"string"==typeof n&&(n=[[e.id,n,""]]);r(242)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(241)(),t.push([e.id,".fixedDataTableCellGroupLayout_cellGroup{-webkit-backface-visibility:hidden;backface-visibility:hidden;left:0;overflow:hidden;position:absolute;top:0;white-space:nowrap}.fixedDataTableCellGroupLayout_cellGroup>.public_fixedDataTableCell_main{display:inline-block;vertical-align:top;white-space:normal}.fixedDataTableCellGroupLayout_cellGroupWrapper{position:absolute;top:0}.fixedDataTableCellLayout_main{border-right-style:solid;border-right-width:1px;border-width:0 1px 0 0;box-sizing:border-box;display:block;overflow:hidden;position:absolute;white-space:normal}.fixedDataTableCellLayout_lastChild{border-width:0 1px 1px 0}.fixedDataTableCellLayout_alignRight{text-align:right}.fixedDataTableCellLayout_alignCenter{text-align:center}.fixedDataTableCellLayout_wrap1{display:table}.fixedDataTableCellLayout_wrap2{display:table-row}.fixedDataTableCellLayout_wrap3{display:table-cell;vertical-align:middle}.fixedDataTableCellLayout_columnResizerContainer{position:absolute;right:0;width:6px;z-index:1}.fixedDataTableCellLayout_columnResizerContainer:hover{cursor:ew-resize}.fixedDataTableCellLayout_columnResizerContainer:hover .fixedDataTableCellLayout_columnResizerKnob{visibility:visible}.fixedDataTableCellLayout_columnResizerKnob{position:absolute;right:0;visibility:hidden;width:4px}.fixedDataTableColumnResizerLineLayout_mouseArea{cursor:ew-resize;position:absolute;right:-5px;width:12px}.fixedDataTableColumnResizerLineLayout_main{border-right-style:solid;border-right-width:1px;box-sizing:border-box;position:absolute;z-index:10}.fixedDataTableColumnResizerLineLayout_hiddenElem,body[dir=rtl] .fixedDataTableColumnResizerLineLayout_main{display:none!important}.fixedDataTableLayout_main{border-style:solid;border-width:1px;box-sizing:border-box;overflow:hidden;position:relative}.fixedDataTableLayout_hasBottomBorder,.fixedDataTableLayout_header{border-bottom-style:solid;border-bottom-width:1px}.fixedDataTableLayout_footer .public_fixedDataTableCell_main{border-top-style:solid;border-top-width:1px}.fixedDataTableLayout_bottomShadow,.fixedDataTableLayout_topShadow{height:4px;left:0;position:absolute;right:0;z-index:1}.fixedDataTableLayout_bottomShadow{margin-top:-4px}.fixedDataTableLayout_rowsContainer{overflow:hidden;position:relative}.fixedDataTableLayout_horizontalScrollbar{bottom:0;position:absolute}.fixedDataTableRowLayout_main{box-sizing:border-box;overflow:hidden;position:absolute;top:0}.fixedDataTableRowLayout_body{left:0;position:absolute;top:0}.fixedDataTableRowLayout_fixedColumnsDivider{-webkit-backface-visibility:hidden;backface-visibility:hidden;border-left-style:solid;border-left-width:1px;left:0;position:absolute;top:0;width:0}.fixedDataTableRowLayout_columnsShadow{width:4px}.fixedDataTableRowLayout_rowWrapper{position:absolute;top:0}.ScrollbarLayout_main{box-sizing:border-box;outline:none;overflow:hidden;position:absolute;-webkit-transition-duration:.25s;transition-duration:.25s;-webkit-transition-timing-function:ease;transition-timing-function:ease;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.ScrollbarLayout_mainVertical{bottom:0;right:0;top:0;-webkit-transition-property:background-color width;transition-property:background-color width;width:15px}.ScrollbarLayout_mainVertical.public_Scrollbar_mainActive,.ScrollbarLayout_mainVertical:hover{width:17px}.ScrollbarLayout_mainHorizontal{bottom:0;height:15px;left:0;-webkit-transition-property:background-color height;transition-property:background-color height}.ScrollbarLayout_mainHorizontal.public_Scrollbar_mainActive,.ScrollbarLayout_mainHorizontal:hover{height:17px}.ScrollbarLayout_face{left:0;overflow:hidden;position:absolute;z-index:1}.ScrollbarLayout_face:after{border-radius:6px;content:'';display:block;position:absolute;-webkit-transition:background-color .25s ease;transition:background-color .25s ease}.ScrollbarLayout_faceHorizontal{bottom:0;left:0;top:0}.ScrollbarLayout_faceHorizontal:after{bottom:4px;left:0;top:4px;width:100%}.ScrollbarLayout_faceVertical{left:0;right:0;top:0}.ScrollbarLayout_faceVertical:after{height:100%;left:4px;right:4px;top:0}.public_fixedDataTable_hasBottomBorder,.public_fixedDataTable_header,.public_fixedDataTable_main{border-color:#d3d3d3}.public_fixedDataTable_header .public_fixedDataTableCell_main{font-weight:700}.public_fixedDataTable_header,.public_fixedDataTable_header .public_fixedDataTableCell_main{background-color:#f6f7f8;background-image:-webkit-linear-gradient(#fff,#efefef);background-image:linear-gradient(#fff,#efefef)}.public_fixedDataTable_footer .public_fixedDataTableCell_main{background-color:#f6f7f8;border-color:#d3d3d3}.public_fixedDataTable_topShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAF0lEQVR4AWPUkNeSBhHCjJoK2twgFisAFagCCp3pJlAAAAAASUVORK5CYII=) repeat-x}.public_fixedDataTable_bottomShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAAECAYAAABP2FU6AAAAHElEQVQI12MwNjZmZdAT1+Nm0JDWEGZQk1GTBgAWkwIeAEp52AAAAABJRU5ErkJggg==) repeat-x}.public_fixedDataTable_horizontalScrollbar .public_Scrollbar_mainHorizontal{background-color:#fff}.public_fixedDataTableCell_main{background-color:#fff;border-color:#d3d3d3}.public_fixedDataTableCell_highlighted{background-color:#f4f4f4}.public_fixedDataTableCell_cellContent{padding:8px}.public_fixedDataTableCell_columnResizerKnob{background-color:#0284ff}.public_fixedDataTableColumnResizerLine_main{border-color:#0284ff}.public_fixedDataTableRow_main{background-color:#fff}.public_fixedDataTableRow_highlighted,.public_fixedDataTableRow_highlighted .public_fixedDataTableCell_main{background-color:#f6f7f8}.public_fixedDataTableRow_fixedColumnsDivider{border-color:#d3d3d3}.public_fixedDataTableRow_columnsShadow{background:0 0 url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAABCAYAAAD5PA/NAAAAFklEQVQIHWPSkNeSBmJhTQVtbiDNCgASagIIuJX8OgAAAABJRU5ErkJggg==) repeat-y}.public_Scrollbar_main.public_Scrollbar_mainActive,.public_Scrollbar_main:hover{background-color:hsla(0,0%,100%,.8)}.public_Scrollbar_mainOpaque,.public_Scrollbar_mainOpaque.public_Scrollbar_mainActive,.public_Scrollbar_mainOpaque:hover{background-color:#fff}.public_Scrollbar_face:after{background-color:#c2c2c2}.public_Scrollbar_faceActive:after,.public_Scrollbar_main:hover .public_Scrollbar_face:after,.public_Scrollbar_mainActive .public_Scrollbar_face:after{background-color:#7d7d7d}",""]);
},function(e,t){e.exports=function(){var e=[];return e.toString=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t];r[2]?e.push("@media "+r[2]+"{"+r[1]+"}"):e.push(r[1])}return e.join("")},e.i=function(t,r){"string"==typeof t&&(t=[[null,t,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];"number"==typeof i&&(n[i]=!0)}for(o=0;o<t.length;o++){var a=t[o];"number"==typeof a[0]&&n[a[0]]||(r&&!a[2]?a[2]=r:r&&(a[2]="("+a[2]+") and ("+r+")"),e.push(a))}},e}},function(e,t,r){function n(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=f[n.id];if(o){o.refs++;for(var i=0;i<o.parts.length;i++)o.parts[i](n.parts[i]);for(;i<n.parts.length;i++)o.parts.push(u(n.parts[i],t))}else{for(var a=[],i=0;i<n.parts.length;i++)a.push(u(n.parts[i],t));f[n.id]={id:n.id,refs:1,parts:a}}}}function o(e){for(var t=[],r={},n=0;n<e.length;n++){var o=e[n],i=o[0],a=o[1],u=o[2],s=o[3],l={css:a,media:u,sourceMap:s};r[i]?r[i].parts.push(l):t.push(r[i]={id:i,parts:[l]})}return t}function i(){var e=document.createElement("style"),t=h();return e.type="text/css",t.appendChild(e),e}function a(){var e=document.createElement("link"),t=h();return e.rel="stylesheet",t.appendChild(e),e}function u(e,t){var r,n,o;if(t.singleton){var u=y++;r=g||(g=i()),n=s.bind(null,r,u,!1),o=s.bind(null,r,u,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=a(),n=c.bind(null,r),o=function(){r.parentNode.removeChild(r),r.href&&URL.revokeObjectURL(r.href)}):(r=i(),n=l.bind(null,r),o=function(){r.parentNode.removeChild(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}function s(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=m(t,o);else{var i=document.createTextNode(o),a=e.childNodes;a[t]&&e.removeChild(a[t]),a.length?e.insertBefore(i,a[t]):e.appendChild(i)}}function l(e,t){var r=t.css,n=t.media;t.sourceMap;if(n&&e.setAttribute("media",n),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}function c(e,t){var r=t.css,n=(t.media,t.sourceMap);n&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(n))))+" */");var o=new Blob([r],{type:"text/css"}),i=e.href;e.href=URL.createObjectURL(o),i&&URL.revokeObjectURL(i)}var f={},p=function(e){var t;return function(){return"undefined"==typeof t&&(t=e.apply(this,arguments)),t}},d=p(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),h=p(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,y=0;e.exports=function(e,t){t=t||{},"undefined"==typeof t.singleton&&(t.singleton=d());var r=o(e);return n(r,t),function(e){for(var i=[],a=0;a<r.length;a++){var u=r[a],s=f[u.id];s.refs--,i.push(s)}if(e){var l=o(e);n(l,t)}for(var a=0;a<i.length;a++){var s=i[a];if(0===s.refs){for(var c=0;c<s.parts.length;c++)s.parts[c]();delete f[s.id]}}}};var m=function(){var e=[];return function(t,r){return e[t]=r,e.filter(Boolean).join("\n")}}()},function(e,t,r){var n=r(244);"string"==typeof n&&(n=[[e.id,n,""]]);r(242)(n,{});n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(241)(),t.push([e.id,".public_fixedDataTable_header,.public_fixedDataTable_header .public_fixedDataTableCell_main{background-color:#fff;background-image:none}.public_fixedDataTable_footer .public_fixedDataTableCell_main,.public_fixedDataTableRow_highlighted,.public_fixedDataTableRow_highlighted .public_fixedDataTableCell_main{background-color:#fff}.public_fixedDataTable_footer .public_fixedDataTableCell_main,.public_fixedDataTableCell_main,.public_fixedDataTableRow_fixedColumnsDivider{border-color:#dfdfdf}.public_fixedDataTable_header .public_fixedDataTableCell_main{font-weight:initial}.public_fixedDataTableCell_axis{border-bottom-style:solid;border-bottom-width:1px}.public_fixedDataTable_header .fixedDataTableCellLayout_wrap3{vertical-align:bottom}.public_fixedDataTable_footer .fixedDataTableCellLayout_wrap3,.public_fixedDataTableCell_axis .fixedDataTableCellLayout_wrap3{vertical-align:top}.public_fixedDataTableCell_cellContent{padding:0 4px}.public_fixedDataTable_main{border:none}.public_fixedDataTable_footer .fixedDataTableCellLayout_main.public_fixedDataTableCell_main,.public_fixedDataTable_footer .public_fixedDataTableRow_fixedColumnsDivider,.public_fixedDataTable_header .public_fixedDataTableCell_main,.public_fixedDataTable_header .public_fixedDataTableRow_fixedColumnsDivider{border-left:none;border-right:none;border-top:none}",""])},function(e,t,r){e.exports=r(246)},function(e,t,r){"use strict";var n=r(247),o=r(252),i=r(251),a={Column:o,ColumnGroup:i,Table:n};a.version="0.4.7",e.exports=a},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(248),i=r(250),a=r(253),u=r(254),s=r(262),l=r(274),c=r(289),f=r(279),p=r(290),d=r(292),h=r(268),g=r(293),y=r(255),m=r(273),v=r(288),b=r(294),_=r(269),w=i.PropTypes,x=i.Children,D=o.renderToString,T={},O=1,C=i.createClass({displayName:"FixedDataTable",propTypes:{width:w.number.isRequired,height:w.number,maxHeight:w.number,ownerHeight:w.number,overflowX:w.oneOf(["hidden","auto"]),overflowY:w.oneOf(["hidden","auto"]),rowsCount:w.number.isRequired,rowHeight:w.number.isRequired,rowHeightGetter:w.func,rowGetter:w.func.isRequired,rowClassNameGetter:w.func,groupHeaderHeight:w.number,headerHeight:w.number.isRequired,headerDataGetter:w.func,footerHeight:w.number,footerData:w.oneOfType([w.object,w.array]),footerDataGetter:w.func,scrollLeft:w.number,scrollToColumn:w.number,scrollTop:w.number,scrollToRow:w.number,onScrollStart:w.func,onScrollEnd:w.func,onContentHeightChange:w.func,onRowClick:w.func,onRowDoubleClick:w.func,onRowMouseDown:w.func,onRowMouseEnter:w.func,onRowMouseLeave:w.func,onColumnResizeEndCallback:w.func,isColumnResizing:w.bool},getDefaultProps:function(){return{footerHeight:0,groupHeaderHeight:0,headerHeight:0,scrollLeft:0,scrollTop:0}},getInitialState:function(){var e=this.props,t=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);return this._scrollHelper=new p(e.rowsCount,e.rowHeight,t,e.rowHeightGetter),e.scrollTop&&this._scrollHelper.scrollTo(e.scrollTop),this._didScrollStop=g(this._didScrollStop,160,this),this._calculateState(this.props)},componentWillMount:function(){var e=this.props.scrollToRow;void 0!==e&&null!==e&&(this._rowToScrollTo=e);var t=this.props.scrollToColumn;void 0!==t&&null!==t&&(this._columnToScrollTo=t),this._wheelHandler=new u(this._onWheel,this._shouldHandleWheelX,this._shouldHandleWheelY)},_shouldHandleWheelX:function(e){return"hidden"===this.props.overflowX?!1:(e=Math.round(e),0===e?!1:0>e&&this.state.scrollX>0||e>=0&&this.state.scrollX<this.state.maxScrollX)},_shouldHandleWheelY:function(e){return"hidden"===this.props.overflowY||0===e?!1:(e=Math.round(e),0===e?!1:0>e&&this.state.scrollY>0||e>=0&&this.state.scrollY<this.state.maxScrollY)},_reportContentHeight:function(){var e,t=this.state.scrollContentHeight,r=this.state.reservedHeight,n=t+r,o=void 0===this.props.height;e=o&&this.props.maxHeight>n?n:this.state.height>n&&this.props.ownerHeight?Math.max(n,this.props.ownerHeight):this.state.height+this.state.maxScrollY,e!==this._contentHeight&&this.props.onContentHeightChange&&this.props.onContentHeightChange(e),this._contentHeight=e},componentDidMount:function(){this._reportContentHeight()},componentWillReceiveProps:function(e){var t=e.scrollToRow;void 0!==t&&null!==t&&(this._rowToScrollTo=t);var r=e.scrollToColumn;void 0!==r&&null!==r&&(this._columnToScrollTo=r);var n=e.overflowX,o=e.overflowY;(n!==this.props.overflowX||o!==this.props.overflowY)&&(this._wheelHandler=new u(this._onWheel,"hidden"!==n,"hidden"!==o)),this.setState(this._calculateState(e,this.state))},componentDidUpdate:function(){this._reportContentHeight()},render:function(){var e,t=this.state,r=this.props;t.useGroupHeader&&(e=i.createElement(f,{key:"group_header",className:v(h("fixedDataTableLayout/header"),h("public/fixedDataTable/header")),data:t.groupHeaderData,width:t.width,height:t.groupHeaderHeight,index:0,zIndex:1,offsetTop:0,scrollLeft:t.scrollX,fixedColumns:t.groupHeaderFixedColumns,scrollableColumns:t.groupHeaderScrollableColumns}));var n=this.state.maxScrollY,o=t.maxScrollX>0&&"hidden"!==t.overflowX,a=n>0&&"hidden"!==t.overflowY,u=o?s.SIZE:0,l=t.height-u-2*O-t.footerHeight,p=t.useGroupHeader?t.groupHeaderHeight:0,d=p+t.headerHeight;l-=d;var g=0,y=null!=r.maxHeight?d+t.bodyHeight:d+l,m=y+t.footerHeight;void 0!==r.ownerHeight&&r.ownerHeight<t.height&&(g=r.ownerHeight-t.height,y=Math.min(y,r.ownerHeight-t.footerHeight-u),l=Math.max(0,y-d));var b;a&&(b=i.createElement(s,{size:l,contentSize:l+n,onScroll:this._onVerticalScroll,verticalTop:d,position:t.scrollY}));var _;if(o){var w=t.width;_=i.createElement(S,{contentSize:w+t.maxScrollX,offset:g,onScroll:this._onHorizontalScroll,position:t.scrollX,size:w})}var x=i.createElement(c,{height:t.height,initialWidth:t.columnResizingData.width||0,minWidth:t.columnResizingData.minWidth||0,maxWidth:t.columnResizingData.maxWidth||Number.MAX_VALUE,visible:!!t.isColumnResizing,leftOffset:t.columnResizingData.left||0,knobHeight:t.headerHeight,initialEvent:t.columnResizingData.initialEvent,onColumnResizeEnd:r.onColumnResizeEndCallback,columnKey:t.columnResizingData.key}),D=null;if(t.footerHeight){var T=r.footerDataGetter?r.footerDataGetter():r.footerData;D=i.createElement(f,{key:"footer",className:v(h("fixedDataTableLayout/footer"),h("public/fixedDataTable/footer")),data:T,fixedColumns:t.footFixedColumns,height:t.footerHeight,index:-1,zIndex:1,offsetTop:y,scrollableColumns:t.footScrollableColumns,scrollLeft:t.scrollX,width:t.width})}var C,E,R=this._renderRows(d),M=i.createElement(f,{key:"header",className:v(h("fixedDataTableLayout/header"),h("public/fixedDataTable/header")),data:t.headData,width:t.width,height:t.headerHeight,index:-1,zIndex:1,offsetTop:p,scrollLeft:t.scrollX,fixedColumns:t.headFixedColumns,scrollableColumns:t.headScrollableColumns,onColumnResize:this._onColumnResize});return t.scrollY&&(C=i.createElement("div",{className:v(h("fixedDataTableLayout/topShadow"),h("public/fixedDataTable/topShadow")),style:{top:d}})),(null!=t.ownerHeight&&t.ownerHeight<t.height&&t.scrollContentHeight+t.reservedHeight>t.ownerHeight||t.scrollY<n)&&(E=i.createElement("div",{className:v(h("fixedDataTableLayout/bottomShadow"),h("public/fixedDataTable/bottomShadow")),style:{top:y}})),i.createElement("div",{className:v(h("fixedDataTableLayout/main"),h("public/fixedDataTable/main")),onWheel:this._wheelHandler.onWheel,style:{height:t.height,width:t.width}},i.createElement("div",{className:h("fixedDataTableLayout/rowsContainer"),style:{height:m,width:t.width}},x,e,M,R,D,C,E),b,_)},_renderRows:function(e){var t=this.state;return i.createElement(l,{defaultRowHeight:t.rowHeight,firstRowIndex:t.firstRowIndex,firstRowOffset:t.firstRowOffset,fixedColumns:t.bodyFixedColumns,height:t.bodyHeight,offsetTop:e,onRowClick:t.onRowClick,onRowDoubleClick:t.onRowDoubleClick,onRowMouseDown:t.onRowMouseDown,onRowMouseEnter:t.onRowMouseEnter,onRowMouseLeave:t.onRowMouseLeave,rowClassNameGetter:t.rowClassNameGetter,rowsCount:t.rowsCount,rowGetter:t.rowGetter,rowHeightGetter:t.rowHeightGetter,scrollLeft:t.scrollX,scrollableColumns:t.bodyScrollableColumns,showLastRowBorder:!0,width:t.width,rowPositionGetter:this._scrollHelper.getRowPosition})},_onColumnResize:function(e,t,r,n,o,i,a){this.setState({isColumnResizing:!0,columnResizingData:{left:t+e-r,width:r,minWidth:n,maxWidth:o,initialEvent:{clientX:a.clientX,clientY:a.clientY,preventDefault:y},key:i}})},_areColumnSettingsIdentical:function(e,t){if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!b(e[r].props,t[r].props))return!1;return!0},_populateColumnsAndColumnData:function(e,t,r){var n=!1,o=!1;r&&r.columns&&(n=this._areColumnSettingsIdentical(e,r.columns)),r&&r.columnGroups&&t&&(o=this._areColumnSettingsIdentical(t,r.columnGroups));var i={};if(n)i.bodyFixedColumns=r.bodyFixedColumns,i.bodyScrollableColumns=r.bodyScrollableColumns,i.headFixedColumns=r.headFixedColumns,i.headScrollableColumns=r.headScrollableColumns,i.footFixedColumns=r.footFixedColumns,i.footScrollableColumns=r.footScrollableColumns;else{var a=this._splitColumnTypes(e);i.bodyFixedColumns=a.fixed,i.bodyScrollableColumns=a.scrollable;var u=this._splitColumnTypes(this._createHeadColumns(e));i.headFixedColumns=u.fixed,i.headScrollableColumns=u.scrollable;var s=this._splitColumnTypes(this._createFootColumns(e));i.footFixedColumns=s.fixed,i.footScrollableColumns=s.scrollable}if(o)i.groupHeaderFixedColumns=r.groupHeaderFixedColumns,i.groupHeaderScrollableColumns=r.groupHeaderScrollableColumns;else if(t){i.groupHeaderData=this._getGroupHeaderData(t),t=this._createGroupHeaderColumns(t);var l=this._splitColumnTypes(t);i.groupHeaderFixedColumns=l.fixed,i.groupHeaderScrollableColumns=l.scrollable}return i.headData=this._getHeadData(e),i},_calculateState:function(e,t){m(void 0!==e.height||void 0!==e.maxHeight,"You must set either a height or a maxHeight");var r=[];x.forEach(e.children,function(e,t){null!=e&&(m(e.type.__TableColumnGroup__||e.type.__TableColumn__,"child type should be <FixedDataTableColumn /> or <FixedDataTableColumnGroup />"),r.push(e))});var o=!1;r.length&&r[0].type.__TableColumnGroup__&&(o=!0);var i,a,u=t&&t.firstRowIndex||0,l=t&&t.firstRowOffset||0;i=t&&"hidden"!==e.overflowX?t.scrollX:e.scrollLeft,t&&"hidden"!==e.overflowY?a=t.scrollY:(h=this._scrollHelper.scrollTo(e.scrollTop),u=h.index,l=h.offset,a=h.position),void 0!==this._rowToScrollTo&&(h=this._scrollHelper.scrollRowIntoView(this._rowToScrollTo),u=h.index,l=h.offset,a=h.position,delete this._rowToScrollTo);var c=o?e.groupHeaderHeight:0;if(t&&e.rowsCount!==t.rowsCount){var f=(void 0===e.height?e.maxHeight:e.height)-(e.headerHeight||0)-(e.footerHeight||0)-(e.groupHeaderHeight||0);this._scrollHelper=new p(e.rowsCount,e.rowHeight,f,e.rowHeightGetter);var h=this._scrollHelper.scrollToRow(u,l);u=h.index,l=h.offset,a=h.position}else t&&e.rowHeightGetter!==t.rowHeightGetter&&this._scrollHelper.setRowHeightGetter(e.rowHeightGetter);var g;g=e.isColumnResizing?t&&t.columnResizingData:T;var y,v;if(o){var _=d.adjustColumnGroupWidths(r,e.width);y=_.columns,v=_.columnGroups}else y=d.adjustColumnWidths(r,e.width);var w=this._populateColumnsAndColumnData(y,v,t);if(void 0!==this._columnToScrollTo){var D=w.bodyFixedColumns.length;if(this._columnToScrollTo>=D){var C,S,E=0;for(C=0;C<w.bodyFixedColumns.length;++C)S=w.bodyFixedColumns[C],E+=S.props.width;var R=Math.min(this._columnToScrollTo-D,w.bodyScrollableColumns.length-1),M=0;for(C=0;R>C;++C)S=w.bodyScrollableColumns[C],M+=S.props.width;var P=e.width-E,k=w.bodyScrollableColumns[R].props.width,A=M+k-P;A>i&&(i=A),i>M&&(i=M)}delete this._columnToScrollTo}var I=void 0===e.height,j=Math.round(I?e.maxHeight:e.height),N=e.footerHeight+e.headerHeight+c+2*O,F=j-N,H=this._scrollHelper.getContentHeight(),L=H+N,z=d.getTotalWidth(y),B=z>e.width&&"hidden"!==e.overflowX;B&&(F-=s.SIZE,L+=s.SIZE,N+=s.SIZE);var G=Math.max(0,z-e.width),U=Math.max(0,H-F);i=Math.min(i,G),a=Math.min(a,U),U||(I&&(j=L),F=L-N),this._scrollHelper.setViewportHeight(F);var q=n({isColumnResizing:t&&t.isColumnResizing},w,e,{columns:y,columnGroups:v,columnResizingData:g,firstRowIndex:u,firstRowOffset:l,horizontalScrollbarVisible:B,maxScrollX:G,maxScrollY:U,reservedHeight:N,scrollContentHeight:H,scrollX:i,scrollY:a,bodyHeight:F,height:j,groupHeaderHeight:c,useGroupHeader:o});return t&&(t.headData&&q.headData&&b(t.headData,q.headData)&&(q.headData=t.headData),t.groupHeaderData&&q.groupHeaderData&&b(t.groupHeaderData,q.groupHeaderData)&&(q.groupHeaderData=t.groupHeaderData)),q},_createGroupHeaderColumns:function(e){for(var t=[],r=0;r<e.length;++r)t[r]=i.cloneElement(e[r],{dataKey:r,children:void 0,columnData:e[r].props.columnGroupData,cellRenderer:e[r].props.groupHeaderRenderer||D,isHeaderCell:!0});return t},_createHeadColumns:function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r].props;t.push(i.cloneElement(e[r],{cellRenderer:n.headerRenderer||D,columnData:n.columnData,dataKey:n.dataKey,isHeaderCell:!0,label:n.label}))}return t},_createFootColumns:function(e){for(var t=[],r=0;r<e.length;++r){var n=e[r].props;t.push(i.cloneElement(e[r],{cellRenderer:n.footerRenderer||D,columnData:n.columnData,dataKey:n.dataKey,isFooterCell:!0}))}return t},_getHeadData:function(e){if(!this.props.headerDataGetter)return null;for(var t={},r=0;r<e.length;++r){var n=e[r].props;t[n.dataKey]=this.props.headerDataGetter(n.dataKey)}return t},_getGroupHeaderData:function(e){for(var t=[],r=0;r<e.length;++r)t[r]=e[r].props.label||"";return t},_splitColumnTypes:function(e){for(var t=[],r=[],n=0;n<e.length;++n)e[n].props.fixed?t.push(e[n]):r.push(e[n]);return{fixed:t,scrollable:r}},_onWheel:function(e,t){if(this.isMounted()){this._isScrolling||this._didScrollStart();var r=this.state.scrollX;if(Math.abs(t)>Math.abs(e)&&"hidden"!==this.props.overflowY){var n=this._scrollHelper.scrollBy(Math.round(t)),o=Math.max(0,n.contentHeight-this.state.bodyHeight);this.setState({firstRowIndex:n.index,firstRowOffset:n.offset,scrollY:n.position,scrollContentHeight:n.contentHeight,maxScrollY:o})}else e&&"hidden"!==this.props.overflowX&&(r+=e,r=0>r?0:r,r=r>this.state.maxScrollX?this.state.maxScrollX:r,this.setState({scrollX:r}));this._didScrollStop()}},_onHorizontalScroll:function(e){this.isMounted()&&e!==this.state.scrollX&&(this._isScrolling||this._didScrollStart(),this.setState({scrollX:e}),this._didScrollStop())},_onVerticalScroll:function(e){if(this.isMounted()&&e!==this.state.scrollY){this._isScrolling||this._didScrollStart();var t=this._scrollHelper.scrollTo(Math.round(e));this.setState({firstRowIndex:t.index,firstRowOffset:t.offset,scrollY:t.position,scrollContentHeight:t.contentHeight}),this._didScrollStop()}},_didScrollStart:function(){this.isMounted()&&!this._isScrolling&&(this._isScrolling=!0,this.props.onScrollStart&&this.props.onScrollStart(this.state.scrollX,this.state.scrollY))},_didScrollStop:function(){this.isMounted()&&this._isScrolling&&(this._isScrolling=!1,this.props.onScrollEnd&&this.props.onScrollEnd(this.state.scrollX,this.state.scrollY))}}),S=i.createClass({displayName:"HorizontalScrollbar",mixins:[a],propTypes:{contentSize:w.number.isRequired,offset:w.number.isRequired,onScroll:w.func.isRequired,position:w.number.isRequired,size:w.number.isRequired},render:function(){var e={height:s.SIZE,width:this.props.size},t={height:s.SIZE,position:"absolute",overflow:"hidden",width:this.props.size};return _(t,0,this.props.offset),i.createElement("div",{className:v(h("fixedDataTableLayout/horizontalScrollbar"),h("public/fixedDataTable/horizontalScrollbar")),style:e},i.createElement("div",{style:t},i.createElement(s,n({},this.props,{isOpaque:!0,orientation:"horizontal",offset:void 0}))))}});e.exports=C},function(e,t,r){"use strict";function n(e){return null===e||void 0===e?"":String(e)}function o(e,t){u.Children.forEach(e,function(e){e.type===s?o(e.props.children,t):e.type===l&&t(e)})}function i(e,t){var r=[];return u.Children.forEach(e,function(e){var n=e;if(e.type===s){var i=!1,a=[];o(e.props.children,function(e){var r=t(e);r!==e&&(i=!0),a.push(r)}),i&&(n=u.cloneElement(e,{children:a}))}else e.type===l&&(n=t(e));r.push(n)}),r}var a=r(249),u=r(250),s=r(251),l=r(252),c=a.isRTL()?-1:1,f=5,p={DIR_SIGN:c,CELL_VISIBILITY_TOLERANCE:f,renderToString:n,forEachColumn:o,mapColumns:i};e.exports=p},function(e,t){"use strict";var r={isRTL:function(){return!1},getDirection:function(){return"LTR"}};e.exports=r},function(e,t,r){"use strict";e.exports=r(1)},function(e,t,r){(function(t){"use strict";var n=r(250),o=n.PropTypes,i=n.createClass({displayName:"FixedDataTableColumnGroup",statics:{__TableColumnGroup__:!0},propTypes:{align:o.oneOf(["left","center","right"]),fixed:o.bool,columnGroupData:o.object,label:o.string,groupHeaderRenderer:o.func},getDefaultProps:function(){return{fixed:!1}},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <FixedDataTableColumnGroup /> should never render");return null}});e.exports=i}).call(t,r(10))},function(e,t,r){(function(t){"use strict";var n=r(250),o=n.PropTypes,i=n.createClass({displayName:"FixedDataTableColumn",statics:{__TableColumn__:!0},propTypes:{align:o.oneOf(["left","center","right"]),headerClassName:o.string,footerClassName:o.string,cellClassName:o.string,cellRenderer:o.func,cellDataGetter:o.func,dataKey:o.oneOfType([o.string,o.number]).isRequired,fixed:o.bool,headerRenderer:o.func,footerRenderer:o.func,columnData:o.object,label:o.string,width:o.number.isRequired,minWidth:o.number,maxWidth:o.number,flexGrow:o.number,isResizable:o.bool,allowCellsRecycling:o.bool},getDefaultProps:function(){return{allowCellsRecycling:!1,fixed:!1}},render:function(){if("production"!==t.env.NODE_ENV)throw new Error("Component <FixedDataTableColumn /> should never render");return null}});e.exports=i}).call(t,r(10))},function(e,t){"use strict";function r(e,t){if(e===t)return!0;var r;for(r in e)if(e.hasOwnProperty(r)&&(!t.hasOwnProperty(r)||e[r]!==t[r]))return!1;for(r in t)if(t.hasOwnProperty(r)&&!e.hasOwnProperty(r))return!1;return!0}var n={shouldComponentUpdate:function(e,t){return!r(this.props,e)||!r(this.state,t)}};e.exports=n},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(255),a=r(256),u=r(260),s=function(){function e(t,r,o,a){n(this,e),this._animationFrameID=null,this._deltaX=0,this._deltaY=0,this._didWheel=this._didWheel.bind(this),"function"!=typeof r&&(r=r?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof o&&(o=o?i.thatReturnsTrue:i.thatReturnsFalse),"function"!=typeof a&&(a=a?i.thatReturnsTrue:i.thatReturnsFalse),this._handleScrollX=r,this._handleScrollY=o,this._stopPropagation=a,this._onWheelCallback=t,this.onWheel=this.onWheel.bind(this)}return o(e,[{key:"onWheel",value:function(e){var t=a(e),r=this._deltaX+t.pixelX,n=this._deltaY+t.pixelY,o=this._handleScrollX(r,n),i=this._handleScrollY(n,r);if(o||i){this._deltaX+=o?t.pixelX:0,this._deltaY+=i?t.pixelY:0,e.preventDefault();var s;(0!==this._deltaX||0!==this._deltaY)&&(this._stopPropagation()&&e.stopPropagation(),s=!0),s===!0&&null===this._animationFrameID&&(this._animationFrameID=u(this._didWheel))}}},{key:"_didWheel",value:function(){this._animationFrameID=null,this._onWheelCallback(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}}]),e}();e.exports=s},function(e,t){"use strict";function r(e){return function(){return e}}function n(){}n.thatReturns=r,n.thatReturnsFalse=r(!1),n.thatReturnsTrue=r(!0),n.thatReturnsNull=r(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,r){"use strict";function n(e){var t=0,r=0,n=0,o=0;return"detail"in e&&(r=e.detail),"wheelDelta"in e&&(r=-e.wheelDelta/120),"wheelDeltaY"in e&&(r=-e.wheelDeltaY/120),"wheelDeltaX"in e&&(t=-e.wheelDeltaX/120),"axis"in e&&e.axis===e.HORIZONTAL_AXIS&&(t=r,r=0),n=t*a,o=r*a,"deltaY"in e&&(o=e.deltaY),"deltaX"in e&&(n=e.deltaX),(n||o)&&e.deltaMode&&(1==e.deltaMode?(n*=u,o*=u):(n*=s,o*=s)),n&&!t&&(t=1>n?-1:1),o&&!r&&(r=1>o?-1:1),{spinX:t,spinY:r,pixelX:n,pixelY:o}}var o=r(257),i=r(258),a=10,u=40,s=800;n.getEventType=function(){return o.firefox()?"DOMMouseScroll":i("wheel")?"wheel":"mousewheel"},e.exports=n},function(e,t){"use strict";function r(){if(!v){v=!0;var e=navigator.userAgent,t=/(?:MSIE.(\d+\.\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\d+\.\d+))|(?:Opera(?:.+Version.|.)(\d+\.\d+))|(?:AppleWebKit.(\d+(?:\.\d+)?))|(?:Trident\/\d+\.\d+.*rv:(\d+\.\d+))/.exec(e),r=/(Mac OS X)|(Windows)|(Linux)/.exec(e);if(h=/\b(iPhone|iP[ao]d)/.exec(e),g=/\b(iP[ao]d)/.exec(e),p=/Android/i.exec(e),y=/FBAN\/\w+;/i.exec(e),m=/Mobile/i.exec(e),d=!!/Win64/.exec(e),t){n=t[1]?parseFloat(t[1]):t[5]?parseFloat(t[5]):NaN,n&&document&&document.documentMode&&(n=document.documentMode);var b=/(?:Trident\/(\d+.\d+))/.exec(e);s=b?parseFloat(b[1])+4:n,o=t[2]?parseFloat(t[2]):NaN,i=t[3]?parseFloat(t[3]):NaN,a=t[4]?parseFloat(t[4]):NaN,a?(t=/(?:Chrome\/(\d+\.\d+))/.exec(e),u=t&&t[1]?parseFloat(t[1]):NaN):u=NaN}else n=o=i=u=a=NaN;if(r){if(r[1]){var _=/(?:Mac OS X (\d+(?:[._]\d+)?))/.exec(e);l=_?parseFloat(_[1].replace("_",".")):!0}else l=!1;c=!!r[2],f=!!r[3]}else l=c=f=!1}}var n,o,i,a,u,s,l,c,f,p,d,h,g,y,m,v=!1,b={ie:function(){return r()||n},ieCompatibilityMode:function(){return r()||s>n},ie64:function(){return b.ie()&&d},firefox:function(){return r()||o},opera:function(){return r()||i},webkit:function(){return r()||a},safari:function(){return b.webkit()},chrome:function(){return r()||u},windows:function(){return r()||c},osx:function(){return r()||l},linux:function(){return r()||f},iphone:function(){return r()||h},mobile:function(){return r()||h||g||p||m},nativeApp:function(){return r()||y},android:function(){return r()||p},ipad:function(){return r()||g}};e.exports=b},function(e,t,r){"use strict";/**
	 * Checks if an event is supported in the current execution environment.
	 *
	 * NOTE: This will not work correctly for non-generic events such as `change`,
	 * `reset`, `load`, `error`, and `select`.
	 *
	 * Borrows from Modernizr.
	 *
	 * @param {string} eventNameSuffix Event name, e.g. "click".
	 * @param {?boolean} capture Check if the capture phase is supported.
	 * @return {boolean} True if the event is supported.
	 * @internal
	 * @license Modernizr 3.0.0pre (Custom Build) | MIT
	 */
function n(e,t){if(!i.canUseDOM||t&&!("addEventListener"in document))return!1;var r="on"+e,n=r in document;if(!n){var a=document.createElement("div");a.setAttribute(r,"return;"),n="function"==typeof a[r]}return!n&&o&&"wheel"===e&&(n=document.implementation.hasFeature("Events.wheel","3.0")),n}var o,i=r(259);i.canUseDOM&&(o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==!0),e.exports=n},function(e,t){"use strict";var r=!("undefined"==typeof window||!window.document||!window.document.createElement),n={canUseDOM:r,canUseWorkers:"undefined"!=typeof Worker,canUseEventListeners:r&&!(!window.addEventListener&&!window.attachEvent),canUseViewport:r&&!!window.screen,isInWorker:!r};e.exports=n},function(e,t,r){(function(t){"use strict";var n=r(255),o=r(261),i=0,a=o||function(e){var r=Date.now(),n=Math.max(0,16-(r-i));return i=r+n,t.setTimeout(function(){e(Date.now())},n)};a(n),e.exports=a}).call(t,function(){return this}())},function(e,t){(function(t){"use strict";var r=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame;e.exports=r}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(263),o=r(266),i=r(250),a=r(253),u=r(254),s=r(267),l=r(268),c=r(255),f=r(269),p=i.PropTypes,d={position:0,scrollable:!1},h=parseInt(s("scrollbar-face-margin"),10),g=2*h,y=30,m=40,v=null,b=i.createClass({displayName:"Scrollbar",mixins:[a],propTypes:{contentSize:p.number.isRequired,defaultPosition:p.number,isOpaque:p.bool,orientation:p.oneOf(["vertical","horizontal"]),onScroll:p.func,position:p.number,size:p.number.isRequired,trackColor:p.oneOf(["gray"]),zIndex:p.number,verticalTop:p.number},getInitialState:function(){var e=this.props;return this._calculateState(e.position||e.defaultPosition||0,e.size,e.contentSize,e.orientation)},componentWillReceiveProps:function(e){var t=e.position;void 0===t?this._setNextState(this._calculateState(this.state.position,e.size,e.contentSize,e.orientation)):this._setNextState(this._calculateState(t,e.size,e.contentSize,e.orientation),e)},getDefaultProps:function(){return{defaultPosition:0,isOpaque:!1,onScroll:c,orientation:"vertical",zIndex:99}},render:function(){if(!this.state.scrollable)return null;var e,t,r=this.props.size,n=this.state.isHorizontal,o=!n,a=this.state.focused||this.state.isDragging,u=this.state.faceSize,c=this.props.isOpaque,p=this.props.verticalTop||0,d=l({"ScrollbarLayout/main":!0,"ScrollbarLayout/mainVertical":o,"ScrollbarLayout/mainHorizontal":n,"public/Scrollbar/main":!0,"public/Scrollbar/mainOpaque":c,"public/Scrollbar/mainActive":a}),y=l({"ScrollbarLayout/face":!0,"ScrollbarLayout/faceHorizontal":n,"ScrollbarLayout/faceVertical":o,"public/Scrollbar/faceActive":a,"public/Scrollbar/face":!0}),m=this.state.position*this.state.scale+h;return n?(e={width:r},t={width:u-g},f(t,m,0)):(e={top:p,height:r},t={height:u-g},f(t,0,m)),e.zIndex=this.props.zIndex,"gray"===this.props.trackColor&&(e.backgroundColor=s("fbui-desktop-background-light")),i.createElement("div",{onFocus:this._onFocus,onBlur:this._onBlur,onKeyDown:this._onKeyDown,onMouseDown:this._onMouseDown,onWheel:this._wheelHandler.onWheel,className:d,style:e,tabIndex:0},i.createElement("div",{ref:"face",className:y,style:t}))},componentWillMount:function(){var e="horizontal"===this.props.orientation,t=e?this._onWheelX:this._onWheelY;this._wheelHandler=new u(t,this._shouldHandleX,this._shouldHandleY)},componentDidMount:function(){this._mouseMoveTracker=new n(this._onMouseMove,this._onMouseMoveEnd,document.documentElement),void 0!==this.props.position&&this.state.position!==this.props.position&&this._didScroll()},componentWillUnmount:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),v===this&&(v=null),delete this._mouseMoveTracker},scrollBy:function(e){this._onWheel(e)},_shouldHandleX:function(e){return"horizontal"===this.props.orientation?this._shouldHandleChange(e):!1},_shouldHandleY:function(e){return"horizontal"!==this.props.orientation?this._shouldHandleChange(e):!1},_shouldHandleChange:function(e){var t=this._calculateState(this.state.position+e,this.props.size,this.props.contentSize,this.props.orientation);return t.position!==this.state.position},_calculateState:function(e,t,r,n){if(1>t||t>=r)return d;var o=e+"_"+t+"_"+r+"_"+n;if(this._stateKey===o)return this._stateForKey;var i="horizontal"===n,a=t/r,u=t*a;y>u&&(a=(t-y)/(r-t),u=y);var s=!0,l=r-t;0>e?e=0:e>l&&(e=l);var c=this._mouseMoveTracker?this._mouseMoveTracker.isDragging():!1,f={faceSize:u,isDragging:c,isHorizontal:i,position:e,scale:a,scrollable:s};return this._stateKey=o,this._stateForKey=f,f},_onWheelY:function(e,t){this._onWheel(t)},_onWheelX:function(e,t){this._onWheel(e)},_onWheel:function(e){var t=this.props;this._setNextState(this._calculateState(this.state.position+e,t.size,t.contentSize,t.orientation))},_onMouseDown:function(e){var t;if(e.target!==i.findDOMNode(this.refs.face)){var r=e.nativeEvent,n=this.state.isHorizontal?r.offsetX||r.layerX:r.offsetY||r.layerY,o=this.props;n/=this.state.scale,t=this._calculateState(n-.5*this.state.faceSize/this.state.scale,o.size,o.contentSize,o.orientation)}else t={};t.focused=!0,this._setNextState(t),this._mouseMoveTracker.captureMouseMoves(e),i.findDOMNode(this).focus()},_onMouseMove:function(e,t){var r=this.props,n=this.state.isHorizontal?e:t;n/=this.state.scale,this._setNextState(this._calculateState(this.state.position+n,r.size,r.contentSize,r.orientation))},_onMouseMoveEnd:function(){this._nextState=null,this._mouseMoveTracker.releaseMouseMoves(),this.setState({isDragging:!1})},_onKeyDown:function(e){var t=e.keyCode;if(t!==o.TAB){var r=m,n=0;if(this.state.isHorizontal)switch(t){case o.HOME:n=-1,r=this.props.contentSize;break;case o.LEFT:n=-1;break;case o.RIGHT:n=1;break;default:return}if(!this.state.isHorizontal)switch(t){case o.SPACE:n=e.shiftKey?-1:1;break;case o.HOME:n=-1,r=this.props.contentSize;break;case o.UP:n=-1;break;case o.DOWN:n=1;break;case o.PAGE_UP:n=-1,r=this.props.size;break;case o.PAGE_DOWN:n=1,r=this.props.size;break;default:return}e.preventDefault();var i=this.props;this._setNextState(this._calculateState(this.state.position+r*n,i.size,i.contentSize,i.orientation))}},_onFocus:function(){this.setState({focused:!0})},_onBlur:function(){this.setState({focused:!1})},_blur:function(){if(this.isMounted())try{this._onBlur(),i.findDOMNode(this).blur()}catch(e){}},_setNextState:function(e,t){t=t||this.props;var r=t.position,n=this.state.position!==e.position;if(void 0===r){var o=n?this._didScroll:void 0;this.setState(e,o)}else{if(r!==e.position)return void(void 0!==e.position&&e.position!==this.state.position&&this.props.onScroll(e.position));this.setState(e)}n&&v!==this&&(v&&v._blur(),v=this)},_didScroll:function(){this.props.onScroll(this.state.position)}});b.KEYBOARD_SCROLL_AMOUNT=m,b.SIZE=parseInt(s("scrollbar-size"),10),e.exports=b},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(264),a=r(265),u=r(260),s=function(){function e(t,r,o){n(this,e),this._isDragging=!1,this._animationFrameID=null,this._domNode=o,this._onMove=t,this._onMoveEnd=r,this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._didMouseMove=this._didMouseMove.bind(this)}return o(e,[{key:"captureMouseMoves",value:function(e){this._eventMoveToken||this._eventUpToken||(this._eventMoveToken=i.listen(this._domNode,"mousemove",this._onMouseMove),this._eventUpToken=i.listen(this._domNode,"mouseup",this._onMouseUp)),this._isDragging||(this._deltaX=0,this._deltaY=0,this._isDragging=!0,this._x=e.clientX,this._y=e.clientY),e.preventDefault()}},{key:"releaseMouseMoves",value:function(){this._eventMoveToken&&this._eventUpToken&&(this._eventMoveToken.remove(),this._eventMoveToken=null,this._eventUpToken.remove(),this._eventUpToken=null),null!==this._animationFrameID&&(a(this._animationFrameID),this._animationFrameID=null),this._isDragging&&(this._isDragging=!1,this._x=null,this._y=null)}},{key:"isDragging",value:function(){return this._isDragging}},{key:"_onMouseMove",value:function(e){var t=e.clientX,r=e.clientY;this._deltaX+=t-this._x,this._deltaY+=r-this._y,null===this._animationFrameID&&(this._animationFrameID=u(this._didMouseMove)),this._x=t,this._y=r,e.preventDefault()}},{key:"_didMouseMove",value:function(){this._animationFrameID=null,this._onMove(this._deltaX,this._deltaY),this._deltaX=0,this._deltaY=0}},{key:"_onMouseUp",value:function(){this._animationFrameID&&this._didMouseMove(),this._onMoveEnd()}}]),e}();e.exports=s},function(e,t,r){(function(t){"use strict";var n=r(255),o={listen:function(e,t,r){return e.addEventListener?(e.addEventListener(t,r,!1),{remove:function(){e.removeEventListener(t,r,!1)}}):e.attachEvent?(e.attachEvent("on"+t,r),{remove:function(){e.detachEvent("on"+t,r)}}):void 0},capture:function(e,r,o){return e.addEventListener?(e.addEventListener(r,o,!0),{remove:function(){e.removeEventListener(r,o,!0)}}):("production"!==t.env.NODE_ENV&&console.error("Attempted to listen to events during the capture phase on a browser that does not support the capture phase. Your application will not receive some events."),{remove:n})},registerDefault:function(){}};e.exports=o}).call(t,r(10))},function(e,t){(function(t){"use strict";var r=t.cancelAnimationFrame||t.webkitCancelAnimationFrame||t.mozCancelAnimationFrame||t.oCancelAnimationFrame||t.msCancelAnimationFrame||t.clearTimeout;e.exports=r}).call(t,function(){return this}())},function(e,t){"use strict";e.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105}},function(e,t){"use strict";function r(e){if(n.hasOwnProperty(e))return n[e];throw new Error('cssVar("'+e+'"): Unexpected class transformation.')}var n={"scrollbar-face-active-color":"#7d7d7d","scrollbar-face-color":"#c2c2c2","scrollbar-face-margin":"4px","scrollbar-face-radius":"6px","scrollbar-size":"15px","scrollbar-size-large":"17px","scrollbar-track-color":"rgba(255, 255, 255, 0.8)","fbui-white":"#fff","fbui-desktop-background-light":"#f6f7f8"};r.CSS_VARS=n,e.exports=r},function(e,t){"use strict";function r(e){return i[e]?i[e]:(i[e]=e.replace(o,"_"),i[e])}function n(e){var t;return t="object"==typeof e?Object.keys(e).filter(function(t){return e[t]}):Array.prototype.slice.call(arguments),t.map(r).join(" ")}var o=/\//g,i={};e.exports=n},function(e,t,r){(function(t){"use strict";var n=r(270),o=r(271),i=o("transform"),a=o("backfaceVisibility"),u=function(){if(n.hasCSSTransforms()){var e=t.window?t.window.navigator.userAgent:"UNKNOWN",r=/Safari\//.test(e)&&!/Chrome\//.test(e);return!r&&n.hasCSS3DTransforms()?function(e,t,r){e[i]="translate3d("+t+"px,"+r+"px,0)",e[a]="hidden"}:function(e,t,r){e[i]="translate("+t+"px,"+r+"px)"}}return function(e,t,r){e.left=t+"px",e.top=r+"px"}}();e.exports=u}).call(t,function(){return this}())},function(e,t,r){"use strict";var n=r(271),o={hasCSSAnimations:function(){return!!n("animationName")},hasCSSTransforms:function(){return!!n("transform")},hasCSS3DTransforms:function(){return!!n("perspective")},hasCSSTransitions:function(){return!!n("transition")}};e.exports=o},function(e,t,r){"use strict";function n(e){for(var t=0;t<l.length;t++){var r=l[t]+e;if(r in f)return r}return null}function o(e){var t=a(e);if(void 0===s[t]){var r=t.charAt(0).toUpperCase()+t.slice(1);c.test(r)&&u(!1,"getVendorPrefixedName must only be called with unprefixedCSS property names. It was called with %s",e),s[t]=t in f?t:n(r)}return s[t]}var i=r(259),a=r(272),u=r(273),s={},l=["Webkit","ms","Moz","O"],c=new RegExp("^("+l.join("|")+")"),f=i.canUseDOM?document.createElement("div").style:{};e.exports=o},function(e,t){"use strict";function r(e){return e.replace(n,function(e,t){return t.toUpperCase()})}var n=/-(.)/g;e.exports=r},function(e,t,r){(function(t){"use strict";var r=function(e,r,n,o,i,a,u,s){if("production"!==t.env.NODE_ENV&&void 0===r)throw new Error("invariant requires an error message argument");if(!e){var l;if(void 0===r)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,o,i,a,u,s],f=0;l=new Error("Invariant Violation: "+r.replace(/%s/g,function(){return c[f++]}))}throw l.framesToPop=1,l}};e.exports=r}).call(t,r(10))},function(e,t,r){"use strict";var n=r(250),o=r(275),i=r(279),a=r(268),u=r(255),s=r(288),l=r(269),c=n.PropTypes,f=n.createClass({displayName:"FixedDataTableBufferedRows",propTypes:{defaultRowHeight:c.number.isRequired,firstRowIndex:c.number.isRequired,firstRowOffset:c.number.isRequired,fixedColumns:c.array.isRequired,height:c.number.isRequired,offsetTop:c.number.isRequired,onRowClick:c.func,onRowDoubleClick:c.func,onRowMouseDown:c.func,onRowMouseEnter:c.func,onRowMouseLeave:c.func,rowClassNameGetter:c.func,rowsCount:c.number.isRequired,rowGetter:c.func.isRequired,rowHeightGetter:c.func,rowPositionGetter:c.func.isRequired,scrollLeft:c.number.isRequired,scrollableColumns:c.array.isRequired,showLastRowBorder:c.bool,width:c.number.isRequired},getInitialState:function(){return this._rowBuffer=new o(this.props.rowsCount,this.props.defaultRowHeight,this.props.height,this._getRowHeight),{rowsToRender:this._rowBuffer.getRows(this.props.firstRowIndex,this.props.firstRowOffset)}},componentWillMount:function(){this._staticRowArray=[]},componentDidMount:function(){this._bufferUpdateTimer=setTimeout(this._updateBuffer,1e3)},componentWillReceiveProps:function(e){(e.rowsCount!==this.props.rowsCount||e.defaultRowHeight!==this.props.defaultRowHeight||e.height!==this.props.height)&&(this._rowBuffer=new o(e.rowsCount,e.defaultRowHeight,e.height,this._getRowHeight)),this.setState({rowsToRender:this._rowBuffer.getRows(e.firstRowIndex,e.firstRowOffset)}),this._bufferUpdateTimer&&clearTimeout(this._bufferUpdateTimer),this._bufferUpdateTimer=setTimeout(this._updateBuffer,400)},_updateBuffer:function(){this._bufferUpdateTimer=null,this.isMounted()&&this.setState({rowsToRender:this._rowBuffer.getRowsWithUpdatedBuffer()})},shouldComponentUpdate:function(){return!0},componentWillUnmount:function(){this._staticRowArray.length=0},render:function(){var e=this.props,t=e.rowClassNameGetter||u,r=e.rowGetter,o=e.rowPositionGetter,c=this.state.rowsToRender;this._staticRowArray.length=c.length;for(var f=0;f<c.length;++f){var p=c[f],d=this._getRowHeight(p),h=o(p),g=p===e.rowsCount-1&&e.showLastRowBorder;this._staticRowArray[f]=n.createElement(i,{key:f,index:p,data:r(p),width:e.width,height:d,scrollLeft:Math.round(e.scrollLeft),offsetTop:Math.round(h),fixedColumns:e.fixedColumns,scrollableColumns:e.scrollableColumns,onClick:e.onRowClick,onDoubleClick:e.onRowDoubleClick,onMouseDown:e.onRowMouseDown,onMouseEnter:e.onRowMouseEnter,onMouseLeave:e.onRowMouseLeave,className:s(t(p),a("public/fixedDataTable/bodyRow"),a({"fixedDataTableLayout/hasBottomBorder":g,"public/fixedDataTable/hasBottomBorder":g}))})}var y=e.rowPositionGetter(e.firstRowIndex),m={position:"absolute"};return l(m,0,e.firstRowOffset-y+e.offsetTop),n.createElement("div",{style:m},this._staticRowArray)},_getRowHeight:function(e){return this.props.rowHeightGetter?this.props.rowHeightGetter(e):this.props.defaultRowHeight}});e.exports=f},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(276),a=r(278),u=r(273),s=3,l=6,c=function(){function e(t,r,o,c){n(this,e),u(0!==r,"defaultRowHeight musn't be equal 0 in FixedDataTableRowBuffer"),this._bufferSet=new i,this._defaultRowHeight=r,this._viewportRowsBegin=0,this._viewportRowsEnd=0,this._maxVisibleRowCount=Math.ceil(o/r)+1,this._bufferRowsCount=a(s,Math.floor(this._maxVisibleRowCount/2),l),this._rowsCount=t,this._rowHeightGetter=c,this._rows=[],this._viewportHeight=o,this.getRows=this.getRows.bind(this),this.getRowsWithUpdatedBuffer=this.getRowsWithUpdatedBuffer.bind(this)}return o(e,[{key:"getRowsWithUpdatedBuffer",value:function(){for(var e=2*this._bufferRowsCount,t=Math.max(this._viewportRowsBegin-this._bufferRowsCount,0);t<this._viewportRowsBegin;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;for(t=this._viewportRowsEnd;t<this._rowsCount&&e>0;)this._addRowToBuffer(t,this._viewportRowsBegin,this._viewportRowsEnd-1),t++,e--;return this._rows}},{key:"getRows",value:function(e,t){var r=t,n=r,o=e,i=Math.min(e+this._maxVisibleRowCount,this._rowsCount);for(this._viewportRowsBegin=e;i>o||n<this._viewportHeight&&o<this._rowsCount;)this._addRowToBuffer(o,e,i-1),n+=this._rowHeightGetter(o),++o,this._viewportRowsEnd=o;return this._rows}},{key:"_addRowToBuffer",value:function(e,t,r){var n=this._bufferSet.getValuePosition(e),o=r-t+1,i=o+2*this._bufferRowsCount;null===n&&this._bufferSet.getSize()>=i&&(n=this._bufferSet.replaceFurthestValuePosition(t,r,e)),null===n?(n=this._bufferSet.getNewPositionForValue(e),this._rows[n]=e):this._rows[n]=e}}]),e}();e.exports=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(277),a=r(273),u=function(){function e(){n(this,e),this._valueToPositionMap={},this._size=0,this._smallValues=new i([],this._smallerComparator),this._largeValues=new i([],this._greaterComparator),this.getNewPositionForValue=this.getNewPositionForValue.bind(this),this.getValuePosition=this.getValuePosition.bind(this),this.getSize=this.getSize.bind(this),this.replaceFurthestValuePosition=this.replaceFurthestValuePosition.bind(this)}return o(e,[{key:"getSize",value:function(){return this._size}},{key:"getValuePosition",value:function(e){return void 0===this._valueToPositionMap[e]?null:this._valueToPositionMap[e]}},{key:"getNewPositionForValue",value:function(e){a(void 0===this._valueToPositionMap[e],"Shouldn't try to find new position for value already stored in BufferSet");var t=this._size;return this._size++,this._pushToHeaps(t,e),this._valueToPositionMap[e]=t,t}},{key:"replaceFurthestValuePosition",value:function(e,t,r){if(a(void 0===this._valueToPositionMap[r],"Shouldn't try to replace values with value already stored value in BufferSet"),this._cleanHeaps(),this._smallValues.empty()||this._largeValues.empty())return null;var n=this._smallValues.peek().value,o=this._largeValues.peek().value;if(n>=e&&t>=o)return null;var i;e-n>o-t?(i=n,this._smallValues.pop()):(i=o,this._largeValues.pop());var u=this._valueToPositionMap[i];return delete this._valueToPositionMap[i],this._valueToPositionMap[r]=u,this._pushToHeaps(u,r),u}},{key:"_pushToHeaps",value:function(e,t){var r={position:e,value:t};this._smallValues.push(r),this._largeValues.push(r)}},{key:"_cleanHeaps",value:function(){this._cleanHeap(this._smallValues),this._cleanHeap(this._largeValues);var e=Math.min(this._smallValues.size(),this._largeValues.size()),t=Math.max(this._smallValues.size(),this._largeValues.size());t>10*e&&this._recreateHeaps()}},{key:"_recreateHeaps",value:function(){for(var e=this._smallValues.size()<this._largeValues.size()?this._smallValues:this._largeValues,t=new i([],this._smallerComparator),r=new i([],this._greaterComparator);!e.empty();){var n=e.pop();void 0!==this._valueToPositionMap[n.value]&&(t.push(n),r.push(n))}this._smallValues=t,this._largeValues=r}},{key:"_cleanHeap",value:function(e){for(;!e.empty()&&void 0===this._valueToPositionMap[e.peek().value];)e.pop()}},{key:"_smallerComparator",value:function(e,t){return e.value<t.value}},{key:"_greaterComparator",value:function(e,t){return e.value>t.value}}]),e}();e.exports=u},function(e,t){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){return t>e}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=function(){function e(t,o){r(this,e),this._items=t||[],this._size=this._items.length,this._comparator=o||n,this._heapify()}return o(e,[{key:"empty",value:function(){return 0===this._size}},{key:"pop",value:function(){if(0!==this._size){var e=this._items[0],t=this._items.pop();return this._size--,this._size>0&&(this._items[0]=t,this._sinkDown(0)),e}}},{key:"push",value:function(e){this._items[this._size++]=e,this._bubbleUp(this._size-1)}},{key:"size",value:function(){return this._size}},{key:"peek",value:function(){return 0!==this._size?this._items[0]:void 0}},{key:"_heapify",value:function(){for(var e=Math.floor((this._size+1)/2);e>=0;e--)this._sinkDown(e)}},{key:"_bubbleUp",value:function(e){for(var t=this._items[e];e>0;){var r=Math.floor((e+1)/2)-1,n=this._items[r];if(this._comparator(n,t))return;this._items[r]=t,this._items[e]=n,e=r}}},{key:"_sinkDown",value:function(e){for(var t=this._items[e];;){var r=2*(e+1)-1,n=2*(e+1),o=-1;if(r<this._size){var i=this._items[r];this._comparator(i,t)&&(o=r)}if(n<this._size){var a=this._items[n];this._comparator(a,t)&&(-1===o||this._comparator(a,this._items[o]))&&(o=n)}if(-1===o)return;this._items[e]=this._items[o],this._items[o]=t,e=o}}}]),e}();e.exports=i},function(e,t){"use strict";function r(e,t,r){return e>t?e:t>r?r:t}e.exports=r},function(e,t,r){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},o=r(250),i=r(253),a=r(280),u=r(268),s=r(288),l=r(269),c=o.PropTypes,f=o.createClass({displayName:"FixedDataTableRowImpl",mixins:[i],propTypes:{data:c.oneOfType([c.object,c.array]),fixedColumns:c.array.isRequired,height:c.number.isRequired,index:c.number.isRequired,scrollableColumns:c.array.isRequired,scrollLeft:c.number.isRequired,width:c.number.isRequired,onClick:c.func,onDoubleClick:c.func,onColumnResize:c.func},render:function(){var e={width:this.props.width,height:this.props.height},t=u({"fixedDataTableRowLayout/main":!0,"public/fixedDataTableRow/main":!0,"public/fixedDataTableRow/highlighted":this.props.index%2===1,"public/fixedDataTableRow/odd":this.props.index%2===1,"public/fixedDataTableRow/even":this.props.index%2===0}),r=-1===this.props.index;if(!this.props.data&&!r)return o.createElement("div",{className:s(t,this.props.className),style:e});var n=this._getColumnsWidth(this.props.fixedColumns),i=o.createElement(a,{key:"fixed_cells",height:this.props.height,left:0,width:n,zIndex:2,columns:this.props.fixedColumns,data:this.props.data,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index}),l=this._renderColumnsShadow(n),c=o.createElement(a,{key:"scrollable_cells",height:this.props.height,left:this.props.scrollLeft,offsetLeft:n,width:this.props.width-n,zIndex:0,columns:this.props.scrollableColumns,data:this.props.data,onColumnResize:this.props.onColumnResize,rowHeight:this.props.height,rowIndex:this.props.index});return o.createElement("div",{className:s(t,this.props.className),onClick:this.props.onClick?this._onClick:null,onDoubleClick:this.props.onDoubleClick?this._onDoubleClick:null,onMouseDown:this.props.onMouseDown?this._onMouseDown:null,onMouseEnter:this.props.onMouseEnter?this._onMouseEnter:null,onMouseLeave:this.props.onMouseLeave?this._onMouseLeave:null,style:e},o.createElement("div",{className:u("fixedDataTableRowLayout/body")},i,c,l))},_getColumnsWidth:function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t},_renderColumnsShadow:function(e){if(e>0){var t=u({"fixedDataTableRowLayout/fixedColumnsDivider":!0,"fixedDataTableRowLayout/columnsShadow":this.props.scrollLeft>0,"public/fixedDataTableRow/fixedColumnsDivider":!0,"public/fixedDataTableRow/columnsShadow":this.props.scrollLeft>0}),r={left:e,height:this.props.height};return o.createElement("div",{className:t,style:r})}},_onClick:function(e){this.props.onClick(e,this.props.index,this.props.data)},_onDoubleClick:function(e){this.props.onDoubleClick(e,this.props.index,this.props.data)},_onMouseDown:function(e){this.props.onMouseDown(e,this.props.index,this.props.data)},_onMouseEnter:function(e){this.props.onMouseEnter(e,this.props.index,this.props.data)},_onMouseLeave:function(e){this.props.onMouseLeave(e,this.props.index,this.props.data)}}),p=o.createClass({displayName:"FixedDataTableRow",mixins:[i],propTypes:{height:c.number.isRequired,zIndex:c.number,offsetTop:c.number.isRequired,width:c.number.isRequired},render:function(){var e={width:this.props.width,height:this.props.height,zIndex:this.props.zIndex?this.props.zIndex:0};return l(e,0,this.props.offsetTop),o.createElement("div",{style:e,className:u("fixedDataTableRowLayout/rowWrapper")},o.createElement(f,n({},this.props,{offsetTop:void 0,zIndex:void 0})))}});e.exports=p},function(e,t,r){"use strict";function n(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r}var o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},i=r(248),a=r(281),u=r(250),s=r(253),l=r(287),c=r(268),f=i.renderToString,p=r(269),d=u.PropTypes,h=i.DIR_SIGN,g=new a({}),y=u.createClass({displayName:"FixedDataTableCellGroupImpl",mixins:[s],propTypes:{columns:d.array.isRequired,data:d.oneOfType([d.object,d.array]),left:d.number,onColumnResize:d.func,rowHeight:d.number.isRequired,rowIndex:d.number.isRequired,width:d.number.isRequired,zIndex:d.number.isRequired},render:function(){for(var e=this.props,t=e.columns,r=new Array(t.length),n=0,o=0,i=t.length;i>o;o++){var a=t[o].props;if(!a.allowCellsRecycling||n-e.left<=e.width&&n-e.left+a.width>=0){var s="cell_"+o;r[o]=this._renderCell(e.data,e.rowIndex,e.rowHeight,a,n,s)}n+=a.width}var l=this._getColumnsWidth(t),f={height:e.height,position:"absolute",width:l,zIndex:e.zIndex};return p(f,-1*h*e.left,0),u.createElement("div",{className:c("fixedDataTableCellGroupLayout/cellGroup"),style:f},r)},_renderCell:function(e,t,r,n,o,i){var a,s=n.cellRenderer||f,c=n.columnData||g,p=n.dataKey,d=n.isFooterCell,h=n.isHeaderCell;if(h||d)a=null==e||null==e[p]?n.label:e[p];else{var y=n.cellDataGetter;a=y?y(p,e):e[p]}var m,v=n.isResizable&&this.props.onColumnResize,b=v?this.props.onColumnResize:null;return m=h||d?h?n.headerClassName:n.footerClassName:n.cellClassName,u.createElement(l,{align:n.align,cellData:a,cellDataKey:p,cellRenderer:s,className:m,columnData:c,height:r,isFooterCell:d,isHeaderCell:h,key:i,maxWidth:n.maxWidth,minWidth:n.minWidth,onColumnResize:b,rowData:e,rowIndex:t,width:n.width,left:o})},_getColumnsWidth:function(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t}}),m=u.createClass({displayName:"FixedDataTableCellGroup",mixins:[s],propTypes:{height:d.number.isRequired,offsetLeft:d.number,zIndex:d.number.isRequired},getDefaultProps:function(){return{offsetLeft:0}},render:function(){var e=this.props,t=e.offsetLeft,r=n(e,["offsetLeft"]),i={height:r.height};1===h?i.left=t:i.right=t;var a=r.onColumnResize?this._onColumnResize:null;return u.createElement("div",{style:i,className:c("fixedDataTableCellGroupLayout/cellGroupWrapper")},u.createElement(y,o({},r,{onColumnResize:a})))},_onColumnResize:function(e,t,r,n,o,i){this.props.onColumnResize&&this.props.onColumnResize(this.props.offsetLeft,e-this.props.left+t,t,r,n,o,i)}});e.exports=m},function(e,t,r){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function i(e){c(e instanceof l,"ImmutableObject: Attempted to set fields on an object that is not an instance of ImmutableValue.")}function a(e,t){d(e,t);for(var r={},n=Object.keys(e),o=0;o<n.length;o++){var i=n[o];t.hasOwnProperty(i)?h(e[i])||h(t[i])?r[i]=t[i]:r[i]=a(e[i],t[i]):r[i]=e[i]}var u=Object.keys(t);for(o=0;o<u.length;o++){var s=u[o];e.hasOwnProperty(s)||(r[s]=t[s])}return e instanceof l?new y(r):t instanceof l?new y(r):r}var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},l=r(282),c=r(273),f=r(284),p=r(285),d=p.checkMergeObjectArgs,h=p.isTerminal,g=f({_DONT_EVER_TYPE_THIS_SECRET_KEY:null}),y=function(e){function r(){n(this,r),s(Object.getPrototypeOf(r.prototype),"constructor",this).call(this,l[g]),l.mergeAllPropertiesInto(this,arguments),"production"!==t.env.NODE_ENV&&l.deepFreezeRootNode(this)}return o(r,e),u(r,null,[{key:"create",value:function(){var e=Object.create(r.prototype);return r.apply(e,arguments),e}},{key:"set",value:function(e,t){return i(e),c("object"==typeof t&&void 0!==t&&!Array.isArray(t),"Invalid ImmutableMap.set argument `put`"),new r(e,t)}},{key:"setProperty",value:function(e,t,n){var o={};return o[t]=n,r.set(e,o)}},{key:"deleteProperty",value:function(e,t){var n={};for(var o in e)o!==t&&e.hasOwnProperty(o)&&(n[o]=e[o]);return new r(n)}},{key:"setDeep",value:function(e,t){return i(e),a(e,t)}},{key:"values",value:function(e){return Object.keys(e).map(function(t){return e[t]})}}]),r}(l);e.exports=y}).call(t,r(10))},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(273),u=r(283),s=r(284),l=s({_DONT_EVER_TYPE_THIS_SECRET_KEY:null}),c=function(){function e(t){n(this,e),a(t===e[l],"Only certain classes should create instances of `ImmutableValue`.You probably want something like ImmutableValueObject.create.")}return o(e,null,[{key:"mergeAllPropertiesInto",value:function(e,t){for(var r=t.length,n=0;r>n;n++)i(e,t[n])}},{key:"deepFreezeRootNode",value:function(t){if(!u(t)){Object.freeze(t);for(var r in t)t.hasOwnProperty(r)&&e.recurseDeepFreeze(t[r]);Object.seal(t)}}},{key:"recurseDeepFreeze",value:function(t){if(!u(t)&&e.shouldRecurseFreeze(t)){Object.freeze(t);for(var r in t)t.hasOwnProperty(r)&&e.recurseDeepFreeze(t[r]);Object.seal(t)}}},{key:"shouldRecurseFreeze",value:function(t){return"object"==typeof t&&!(t instanceof e)&&null!==t}}]),e}();c._DONT_EVER_TYPE_THIS_SECRET_KEY=Math.random(),
e.exports=c},function(e,t){"use strict";function r(e){return!(!e||!("function"==typeof Node?e instanceof Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))}e.exports=r},function(e,t){"use strict";var r=function(e){var t;for(t in e)if(e.hasOwnProperty(t))return t;return null};e.exports=r},function(e,t,r){"use strict";var n=r(273),o=r(286),i=36,a=function(e){return"object"!=typeof e||e instanceof Date||null===e},u={MAX_MERGE_DEPTH:i,isTerminal:a,normalizeMergeArg:function(e){return void 0===e||null===e?{}:e},checkMergeArrayArgs:function(e,t){n(Array.isArray(e)&&Array.isArray(t),"Tried to merge arrays, instead got %s and %s.",e,t)},checkMergeObjectArgs:function(e,t){u.checkMergeObjectArg(e),u.checkMergeObjectArg(t)},checkMergeObjectArg:function(e){n(!a(e)&&!Array.isArray(e),"Tried to merge an object, instead got %s.",e)},checkMergeIntoObjectArg:function(e){n(!(a(e)&&"function"!=typeof e||Array.isArray(e)),"Tried to merge into an object, instead got %s.",e)},checkMergeLevel:function(e){n(i>e,"Maximum deep merge depth exceeded. You may be attempting to merge circular structures in an unsupported way.")},checkArrayStrategy:function(e){n(void 0===e||e in u.ArrayStrategies,"You must provide an array strategy to deep merge functions to instruct the deep merge how to resolve merging two arrays.")},ArrayStrategies:o({Clobber:!0,IndexByIndex:!0})};e.exports=u},function(e,t,r){"use strict";var n=r(273),o=function(e){var t,r={};n(e instanceof Object&&!Array.isArray(e),"keyMirror(...): Argument must be an object.");for(t in e)e.hasOwnProperty(t)&&(r[t]=t);return r};e.exports=o},function(e,t,r){"use strict";var n=r(248),o=r(281),i=r(250),a=r(253),u=r(268),s=r(288),l=n.DIR_SIGN,c=i.PropTypes,f=new o({align:"left",highlighted:!1,isFooterCell:!1,isHeaderCell:!1}),p=i.createClass({displayName:"FixedDataTableCell",mixins:[a],propTypes:{align:c.oneOf(["left","center","right"]),className:c.string,highlighted:c.bool,isFooterCell:c.bool,isHeaderCell:c.bool,width:c.number.isRequired,minWidth:c.number,maxWidth:c.number,height:c.number.isRequired,cellData:c.any,cellDataKey:c.oneOfType([c.string.isRequired,c.number.isRequired]),cellRenderer:c.func.isRequired,columnData:c.any,rowData:c.oneOfType([c.object.isRequired,c.array.isRequired]),rowIndex:c.number.isRequired,onColumnResize:c.func,left:c.number},getDefaultProps:function(){return f},render:function(){var e=this.props,t={height:e.height,width:e.width};1===l?t.left=e.left:t.right=e.left;var r,n=s(u({"fixedDataTableCellLayout/main":!0,"fixedDataTableCellLayout/lastChild":e.lastChild,"fixedDataTableCellLayout/alignRight":"right"===e.align,"fixedDataTableCellLayout/alignCenter":"center"===e.align,"public/fixedDataTableCell/alignRight":"right"===e.align,"public/fixedDataTableCell/highlighted":e.highlighted,"public/fixedDataTableCell/main":!0}),e.className);r=e.isHeaderCell||e.isFooterCell?e.cellRenderer(e.cellData,e.cellDataKey,e.columnData,e.rowData,e.width):e.cellRenderer(e.cellData,e.cellDataKey,e.rowData,e.rowIndex,e.columnData,e.width);var o=u("public/fixedDataTableCell/cellContent");r=i.isValidElement(r)?i.cloneElement(r,{className:s(r.props.className,o)}):i.createElement("div",{className:o},r);var a;if(e.onColumnResize){var c={height:e.height};a=i.createElement("div",{className:u("fixedDataTableCellLayout/columnResizerContainer"),style:c,onMouseDown:this._onColumnResizerMouseDown},i.createElement("div",{className:s(u("fixedDataTableCellLayout/columnResizerKnob"),u("public/fixedDataTableCell/columnResizerKnob")),style:c}))}var f={height:e.height,width:e.width};return i.createElement("div",{className:n,style:t},a,i.createElement("div",{className:s(u("fixedDataTableCellLayout/wrap1"),u("public/fixedDataTableCell/wrap1")),style:f},i.createElement("div",{className:s(u("fixedDataTableCellLayout/wrap2"),u("public/fixedDataTableCell/wrap2"))},i.createElement("div",{className:s(u("fixedDataTableCellLayout/wrap3"),u("public/fixedDataTableCell/wrap3"))},r))))},_onColumnResizerMouseDown:function(e){this.props.onColumnResize(this.props.left,this.props.width,this.props.minWidth,this.props.maxWidth,this.props.cellDataKey,e)}});e.exports=p},function(e,t){"use strict";function r(e){e||(e="");var t,r=arguments.length;if(r>1)for(var n=1;r>n;n++)t=arguments[n],t&&(e=(e?e+" ":"")+t);return e}e.exports=r},function(e,t,r){"use strict";var n=r(263),o=r(249),i=r(250),a=r(253),u=r(278),s=r(268),l=i.PropTypes,c=i.createClass({displayName:"FixedDataTableColumnResizeHandle",mixins:[a],propTypes:{visible:l.bool.isRequired,height:l.number.isRequired,leftOffset:l.number.isRequired,knobHeight:l.number.isRequired,initialWidth:l.number,minWidth:l.number,maxWidth:l.number,initialEvent:l.object,onColumnResizeEnd:l.func,columnKey:l.oneOfType([l.string,l.number])},getInitialState:function(){return{width:0,cursorDelta:0}},componentWillReceiveProps:function(e){e.initialEvent&&!this._mouseMoveTracker.isDragging()&&(this._mouseMoveTracker.captureMouseMoves(e.initialEvent),this.setState({width:e.initialWidth,cursorDelta:e.initialWidth}))},componentDidMount:function(){this._mouseMoveTracker=new n(this._onMove,this._onColumnResizeEnd,document.body)},componentWillUnmount:function(){this._mouseMoveTracker.releaseMouseMoves(),this._mouseMoveTracker=null},render:function(){var e={width:this.state.width,height:this.props.height};return o.isRTL()?e.right=this.props.leftOffset:e.left=this.props.leftOffset,i.createElement("div",{className:s({"fixedDataTableColumnResizerLineLayout/main":!0,"fixedDataTableColumnResizerLineLayout/hiddenElem":!this.props.visible,"public/fixedDataTableColumnResizerLine/main":!0}),style:e},i.createElement("div",{className:s("fixedDataTableColumnResizerLineLayout/mouseArea"),style:{height:this.props.height}}))},_onMove:function(e){o.isRTL()&&(e=-e);var t=this.state.cursorDelta+e,r=u(this.props.minWidth,t,this.props.maxWidth);this.setState({width:r,cursorDelta:t})},_onColumnResizeEnd:function(){this._mouseMoveTracker.releaseMouseMoves(),this.props.onColumnResizeEnd(this.state.width,this.props.columnKey)}});e.exports=c},function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var o=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),i=r(291),a=r(278),u=5,s={index:0,offset:0,position:0,contentHeight:0},l=function(){function e(t,r,o,a){n(this,e),this._rowOffsets=i.uniform(t,r),this._storedHeights=new Array(t);for(var u=0;t>u;++u)this._storedHeights[u]=r;this._rowCount=t,this._position=0,this._contentHeight=t*r,this._defaultRowHeight=r,this._rowHeightGetter=a?a:function(){return r},this._viewportHeight=o,this.scrollRowIntoView=this.scrollRowIntoView.bind(this),this.setViewportHeight=this.setViewportHeight.bind(this),this.scrollBy=this.scrollBy.bind(this),this.scrollTo=this.scrollTo.bind(this),this.scrollToRow=this.scrollToRow.bind(this),this.setRowHeightGetter=this.setRowHeightGetter.bind(this),this.getContentHeight=this.getContentHeight.bind(this),this.getRowPosition=this.getRowPosition.bind(this),this._updateHeightsInViewport(0,0)}return o(e,[{key:"setRowHeightGetter",value:function(e){this._rowHeightGetter=e}},{key:"setViewportHeight",value:function(e){this._viewportHeight=e}},{key:"getContentHeight",value:function(){return this._contentHeight}},{key:"_updateHeightsInViewport",value:function(e,t){for(var r=t,n=e;r<=this._viewportHeight&&n<this._rowCount;)this._updateRowHeight(n),r+=this._storedHeights[n],n++}},{key:"_updateHeightsAboveViewport",value:function(e){for(var t=e-1;t>=0&&t>=e-u;){var r=this._updateRowHeight(t);this._position+=r,t--}}},{key:"_updateRowHeight",value:function(e){if(0>e||e>=this._rowCount)return 0;var t=this._rowHeightGetter(e);if(t!==this._storedHeights[e]){var r=t-this._storedHeights[e];return this._rowOffsets.set(e,t),this._storedHeights[e]=t,this._contentHeight+=r,r}return 0}},{key:"getRowPosition",value:function(e){return this._updateRowHeight(e),this._rowOffsets.sumUntil(e)}},{key:"scrollBy",value:function(e){if(0===this._rowCount)return s;var t=this._rowOffsets.greatestLowerBound(this._position);t=a(0,t,Math.max(this._rowCount-1,0));var r=this._rowOffsets.sumUntil(t),n=t,o=this._position,i=this._updateRowHeight(n);0!==r&&(o+=i);var u=this._storedHeights[n]-(o-r);if(e>=0)for(;e>0&&n<this._rowCount;)u>e?(o+=e,e=0):(e-=u,o+=u,n++),n<this._rowCount&&(this._updateRowHeight(n),u=this._storedHeights[n]);else if(0>e){e=-e;for(var l=this._storedHeights[n]-u;e>0&&n>=0;)if(l>e?(o-=e,e=0):(o-=l,e-=l,n--),n>=0){var c=this._updateRowHeight(n);l=this._storedHeights[n],o+=c}}var f=this._contentHeight-this._viewportHeight;o=a(0,o,f),this._position=o;var p=this._rowOffsets.greatestLowerBound(o);p=a(0,p,Math.max(this._rowCount-1,0)),r=this._rowOffsets.sumUntil(p);var d=r-o;return this._updateHeightsInViewport(p,d),this._updateHeightsAboveViewport(p),{index:p,offset:d,position:this._position,contentHeight:this._contentHeight}}},{key:"_getRowAtEndPosition",value:function(e){this._updateRowHeight(e);for(var t=e,r=this._storedHeights[t];r<this._viewportHeight&&t>=0;)t--,t>=0&&(this._updateRowHeight(t),r+=this._storedHeights[t]);var n=this._rowOffsets.sumTo(e)-this._viewportHeight;return 0>n&&(n=0),n}},{key:"scrollTo",value:function(e){if(0===this._rowCount)return s;if(0>=e)return this._position=0,this._updateHeightsInViewport(0,0),{index:0,offset:0,position:this._position,contentHeight:this._contentHeight};if(e>=this._contentHeight-this._viewportHeight){var t=this._rowCount-1;e=this._getRowAtEndPosition(t)}this._position=e;var r=this._rowOffsets.greatestLowerBound(e);r=a(0,r,Math.max(this._rowCount-1,0));var n=this._rowOffsets.sumUntil(r),o=n-e;return this._updateHeightsInViewport(r,o),this._updateHeightsAboveViewport(r),{index:r,offset:o,position:this._position,contentHeight:this._contentHeight}}},{key:"scrollToRow",value:function(e,t){e=a(0,e,Math.max(this._rowCount-1,0)),t=a(-this._storedHeights[e],t,0);var r=this._rowOffsets.sumUntil(e);return this.scrollTo(r-t)}},{key:"scrollRowIntoView",value:function(e){e=a(0,e,Math.max(this._rowCount-1,0));var t=this._rowOffsets.sumUntil(e),r=t+this._storedHeights[e];if(t<this._position)return this.scrollTo(t);if(this._position+this._viewportHeight<r){var n=this._getRowAtEndPosition(e);return this.scrollTo(n)}return this.scrollTo(this._position)}}]),e}();e.exports=l},function(e,t,r){(function(t){"use strict";function n(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e){for(var t=1;e>t;)t*=2;return t}var i=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),a=r(273),u=function(e){return Math.floor(e/2)},s=t.Int32Array||function(e){for(var t=[],r=e-1;r>=0;--r)t[r]=0;return t},l=function(){function e(t){n(this,e),this._size=t.length,this._half=o(this._size),this._heap=new s(2*this._half);var r;for(r=0;r<this._size;++r)this._heap[this._half+r]=t[r];for(r=this._half-1;r>0;--r)this._heap[r]=this._heap[2*r]+this._heap[2*r+1]}return i(e,[{key:"set",value:function(e,t){a(e>=0&&e<this._size,"Index out of range %s",e);var r=this._half+e;for(this._heap[r]=t,r=u(r);0!==r;r=u(r))this._heap[r]=this._heap[2*r]+this._heap[2*r+1]}},{key:"get",value:function(e){a(e>=0&&e<this._size,"Index out of range %s",e);var t=this._half+e;return this._heap[t]}},{key:"getSize",value:function(){return this._size}},{key:"sumUntil",value:function(e){if(a(e>=0&&e<this._size+1,"Index out of range %s",e),0===e)return 0;for(var t=this._half+e-1,r=this._heap[t];1!==t;t=u(t))t%2===1&&(r+=this._heap[t-1]);return r}},{key:"sumTo",value:function(e){return a(e>=0&&e<this._size,"Index out of range %s",e),this.sumUntil(e+1)}},{key:"sum",value:function(e,t){return a(t>=e,"Begin must precede end"),this.sumUntil(t)-this.sumUntil(e)}},{key:"greatestLowerBound",value:function(e){if(0>e)return-1;var t=1;if(this._heap[t]<=e)return this._size;for(;t<this._half;){var r=this._heap[2*t];r>e?t=2*t:(t=2*t+1,e-=r)}return t-this._half}},{key:"greatestStrictLowerBound",value:function(e){if(0>=e)return-1;var t=1;if(this._heap[t]<e)return this._size;for(;t<this._half;){var r=this._heap[2*t];r>=e?t=2*t:(t=2*t+1,e-=r)}return t-this._half}},{key:"leastUpperBound",value:function(e){return this.greatestStrictLowerBound(e)+1}},{key:"leastStrictUpperBound",value:function(e){return this.greatestLowerBound(e)+1}}],[{key:"uniform",value:function(t,r){for(var n=[],o=t-1;o>=0;--o)n[o]=r;return new e(n)}},{key:"empty",value:function(t){return e.uniform(t,0)}}]),e}();e.exports=l}).call(t,function(){return this}())},function(e,t,r){"use strict";function n(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.width;return t}function o(e){for(var t=0,r=0;r<e.length;++r)t+=e[r].props.flexGrow||0;return t}function i(e,t){if(0>=t)return{columns:e,width:n(e)};for(var r=o(e),i=t,a=[],u=0,l=0;l<e.length;++l){var c=e[l];if(c.props.flexGrow){var f=Math.floor(c.props.flexGrow/r*i),p=Math.floor(c.props.width+f);u+=p,r-=c.props.flexGrow,i-=f,a.push(s.cloneElement(c,{width:p}))}else u+=c.props.width,a.push(c)}return{columns:a,width:u}}function a(e,t){var r,a=[];for(r=0;r<e.length;++r)s.Children.forEach(e[r].props.children,function(e){a.push(e)});var u=n(a),l=o(a),c=Math.max(t-u,0),f=[],p=[];for(r=0;r<e.length;++r){var d=e[r],h=[];s.Children.forEach(d.props.children,function(e){h.push(e)});var g=o(h),y=Math.floor(g/l*c),m=i(h,y);l-=g,c-=y;for(var v=0;v<m.columns.length;++v)f.push(m.columns[v]);p.push(s.cloneElement(d,{width:m.width}))}return{columns:f,columnGroups:p}}function u(e,t){var r=n(e);return t>r?i(e,t-r).columns:e}var s=r(250),l={getTotalWidth:n,getTotalFlexGrow:o,distributeFlexWidth:i,adjustColumnWidths:u,adjustColumnGroupWidths:a};e.exports=l},function(e,t){"use strict";function r(e,t,r,n,o){function i(){for(var o=arguments.length,u=Array(o),s=0;o>s;s++)u[s]=arguments[s];i.reset();var l=function(){e.apply(r,u)};l.__SMmeta=e.__SMmeta,a=n(l,t)}n=n||setTimeout,o=o||clearTimeout;var a;return i.reset=function(){o(a)},i}e.exports=r},function(e,t){"use strict";function r(e,t){if(e===t)return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(var o=Object.prototype.hasOwnProperty.bind(t),i=0;i<r.length;i++)if(!o(r[i])||e[r[i]]!==t[r[i]])return!1;return!0}e.exports=r},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}function a(e){var t=e.initialOffset,r=e.currentOffset;if(!t||!r)return{display:"none"};var n=r.x,o=r.y,i="translate("+n+"px, "+o+"px)";return{transform:i,WebkitTransform:i,MozTransform:i,msTransform:i}}Object.defineProperty(t,"__esModule",{value:!0});var u=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),s=function(e,t,r){for(var n=!0;n;){var o=e,i=t,a=r;u=l=s=void 0,n=!1,null===o&&(o=Function.prototype);var u=Object.getOwnPropertyDescriptor(o,i);if(void 0!==u){if("value"in u)return u.value;var s=u.get;return void 0===s?void 0:s.call(a)}var l=Object.getPrototypeOf(o);if(null===l)return void 0;e=l,t=i,r=a,n=!0}},l=r(25),c=n(l),f=r(1),p=n(f),d=r(100),h=r(222),g=r(233),y=p["default"].DOM,m=y.div,v=y.i,b=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props,t=e.name,r=e.type,n=this.props.field,o=n.typecast,i=n.func;return m({className:c["default"]("field-wrap",{remove:this.props.showTrashCan})},m({className:"icon-wrap"},p["default"].createElement(g.FieldIcon,{type:r,typecast:o})),m({className:"func-wrap"},h.getFieldFunctionDisplayName(i)),m({className:c["default"]("name-wrap",{"has-func":null!=i})},t),this.props.showTrashCan?m({className:"option-wrap"},v({className:"fa fa-trash-o"})):null)}}]),t}(p["default"].Component),w=function(e){function t(){o(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return i(t,e),u(t,[{key:"render",value:function(){return m({className:"field-wrap"},m({className:"icon-wrap"},p["default"].createElement(g.FieldIcon,{type:this.props.type})),m({className:"name-wrap",style:{width:210}},this.props.name))}}]),t}(p["default"].Component),x=function(){function e(){o(this,e)}return u(e,[{key:"renderItem",value:function(e,t){switch(e){case"ShelfField":return p["default"].createElement(b,t);case"TableField":return p["default"].createElement(w,t);default:return null}}},{key:"render",value:function(){var e=this.props,t=e.item,r=e.itemType,n=(e.isDragging,e.showTrashCan);return m({className:c["default"]("field-drag-layer")},m({className:"field-drag-wrap",style:a(this.props)},this.renderItem(r,_.extend({showTrashCan:n},t))))}}]),e}();x.propTypes={item:f.PropTypes.object,itemType:f.PropTypes.string,initialOffset:f.PropTypes.shape({x:f.PropTypes.number.isRequired,y:f.PropTypes.number.isRequired}),currentOffset:f.PropTypes.shape({x:f.PropTypes.number.isRequired,y:f.PropTypes.number.isRequired}),isDragging:f.PropTypes.bool.isRequired,showTrashCan:f.PropTypes.bool.isRequired},t["default"]=d.DragLayer(function(e){return{item:e.getItem(),itemType:e.getItemType(),initialOffset:e.getInitialSourceClientOffset(),currentOffset:e.getSourceClientOffset(),isDragging:e.isDragging()}})(x),e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e){var t=p(l["default"],e);return t}Object.defineProperty(t,"__esModule",{value:!0}),t["default"]=o;var i=r(14),a=r(297),u=n(a),s=r(298),l=n(s),c=r(299),f=n(c),p=i.applyMiddleware(f["default"],u["default"])(i.createStore);e.exports=t["default"]},function(e,t){"use strict";function r(e){var t=e.dispatch,r=e.getState;return function(e){return function(n){return"function"==typeof n?n(t,r):e(n)}}}t.__esModule=!0,t["default"]=r,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var o=r(14),i=r(130),a=n(i),u=r(221),s=n(u),l=r(229),c=n(l),f=r(224),p=n(f),d=o.combineReducers({datasources:a["default"],queryspec:s["default"],visualspec:c["default"],result:p["default"]});t["default"]=d,e.exports=t["default"]},function(e,t,r){"use strict";function n(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t["default"]=e,t}function o(e){return e&&e.__esModule?e:{"default":e}}Object.defineProperty(t,"__esModule",{value:!0});var i=r(4),a=o(i),u=r(221),s=n(u),l=r(229),c=n(l),f=(r(130),r(224)),p=a["default"].values(s),d=function(e){var t=(e.dispatch,e.getState);return function(e){return function(r){console.group(r.type);var n=a["default"].contains(p,r.type)||c.SET_TABLE_ENCODING==r.type,o=e(r);return n&&(o=e(f.runCurrentQueryIfNecessary())),console.log("next state",t()),console.groupEnd(r.type),o}}};t["default"]=d,e.exports=t["default"]},function(e,t,r){var n;(function(e,o,i){/*!
	 * @overview es6-promise - a tiny implementation of Promises/A+.
	 * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)
	 * @license   Licensed under MIT license
	 *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE
	 * @version   3.0.2
	 */
(function(){"use strict";function a(e){return"function"==typeof e||"object"==typeof e&&null!==e}function u(e){return"function"==typeof e}function s(e){return"object"==typeof e&&null!==e}function l(e){W=e}function c(e){$=e}function f(){return function(){e.nextTick(y)}}function p(){return function(){Y(y)}}function d(){var e=0,t=new ee(y),r=document.createTextNode("");return t.observe(r,{characterData:!0}),function(){r.data=e=++e%2}}function h(){var e=new MessageChannel;return e.port1.onmessage=y,function(){e.port2.postMessage(0)}}function g(){return function(){setTimeout(y,1)}}function y(){for(var e=0;Q>e;e+=2){var t=ne[e],r=ne[e+1];t(r),ne[e]=void 0,ne[e+1]=void 0}Q=0}function m(){try{var e=r(302);return Y=e.runOnLoop||e.runOnContext,p()}catch(t){return g()}}function v(){}function b(){return new TypeError("You cannot resolve a promise with itself")}function _(){return new TypeError("A promises callback cannot return that same promise.")}function w(e){try{return e.then}catch(t){return ue.error=t,ue}}function x(e,t,r,n){try{e.call(t,r,n)}catch(o){return o}}function D(e,t,r){$(function(e){var n=!1,o=x(r,t,function(r){n||(n=!0,t!==r?C(e,r):E(e,r))},function(t){n||(n=!0,R(e,t))},"Settle: "+(e._label||" unknown promise"));!n&&o&&(n=!0,R(e,o))},e)}function T(e,t){t._state===ie?E(e,t._result):t._state===ae?R(e,t._result):M(t,void 0,function(t){C(e,t)},function(t){R(e,t)})}function O(e,t){if(t.constructor===e.constructor)T(e,t);else{var r=w(t);r===ue?R(e,ue.error):void 0===r?E(e,t):u(r)?D(e,t,r):E(e,t)}}function C(e,t){e===t?R(e,b()):a(t)?O(e,t):E(e,t)}function S(e){e._onerror&&e._onerror(e._result),P(e)}function E(e,t){e._state===oe&&(e._result=t,e._state=ie,0!==e._subscribers.length&&$(P,e))}function R(e,t){e._state===oe&&(e._state=ae,e._result=t,$(S,e))}function M(e,t,r,n){var o=e._subscribers,i=o.length;e._onerror=null,o[i]=t,o[i+ie]=r,o[i+ae]=n,0===i&&e._state&&$(P,e)}function P(e){var t=e._subscribers,r=e._state;if(0!==t.length){for(var n,o,i=e._result,a=0;a<t.length;a+=3)n=t[a],o=t[a+r],n?I(r,n,o,i):o(i);e._subscribers.length=0}}function k(){this.error=null}function A(e,t){try{return e(t)}catch(r){return se.error=r,se}}function I(e,t,r,n){var o,i,a,s,l=u(r);if(l){if(o=A(r,n),o===se?(s=!0,i=o.error,o=null):a=!0,t===o)return void R(t,_())}else o=n,a=!0;t._state!==oe||(l&&a?C(t,o):s?R(t,i):e===ie?E(t,o):e===ae&&R(t,o))}function j(e,t){try{t(function(t){C(e,t)},function(t){R(e,t)})}catch(r){R(e,r)}}function N(e,t){var r=this;r._instanceConstructor=e,r.promise=new e(v),r._validateInput(t)?(r._input=t,r.length=t.length,r._remaining=t.length,r._init(),0===r.length?E(r.promise,r._result):(r.length=r.length||0,r._enumerate(),0===r._remaining&&E(r.promise,r._result))):R(r.promise,r._validationError())}function F(e){return new le(this,e).promise}function H(e){function t(e){C(o,e)}function r(e){R(o,e)}var n=this,o=new n(v);if(!K(e))return R(o,new TypeError("You must pass an array to race.")),o;for(var i=e.length,a=0;o._state===oe&&i>a;a++)M(n.resolve(e[a]),void 0,t,r);return o}function L(e){var t=this;if(e&&"object"==typeof e&&e.constructor===t)return e;var r=new t(v);return C(r,e),r}function z(e){var t=this,r=new t(v);return R(r,e),r}function B(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function G(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function U(e){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],v!==e&&(u(e)||B(),this instanceof U||G(),j(this,e))}function q(){var e;if("undefined"!=typeof o)e=o;else if("undefined"!=typeof self)e=self;else try{e=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var r=e.Promise;(!r||"[object Promise]"!==Object.prototype.toString.call(r.resolve())||r.cast)&&(e.Promise=ge)}var V;V=Array.isArray?Array.isArray:function(e){return"[object Array]"===Object.prototype.toString.call(e)};var Y,W,X,K=V,Q=0,$=({}.toString,function(e,t){ne[Q]=e,ne[Q+1]=t,Q+=2,2===Q&&(W?W(y):X())}),Z="undefined"!=typeof window?window:void 0,J=Z||{},ee=J.MutationObserver||J.WebKitMutationObserver,te="undefined"!=typeof e&&"[object process]"==={}.toString.call(e),re="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,ne=new Array(1e3);X=te?f():ee?d():re?h():void 0===Z?m():g();var oe=void 0,ie=1,ae=2,ue=new k,se=new k;N.prototype._validateInput=function(e){return K(e)},N.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},N.prototype._init=function(){this._result=new Array(this.length)};var le=N;N.prototype._enumerate=function(){for(var e=this,t=e.length,r=e.promise,n=e._input,o=0;r._state===oe&&t>o;o++)e._eachEntry(n[o],o)},N.prototype._eachEntry=function(e,t){var r=this,n=r._instanceConstructor;s(e)?e.constructor===n&&e._state!==oe?(e._onerror=null,r._settledAt(e._state,t,e._result)):r._willSettleAt(n.resolve(e),t):(r._remaining--,r._result[t]=e)},N.prototype._settledAt=function(e,t,r){var n=this,o=n.promise;o._state===oe&&(n._remaining--,e===ae?R(o,r):n._result[t]=r),0===n._remaining&&E(o,n._result)},N.prototype._willSettleAt=function(e,t){var r=this;M(e,void 0,function(e){r._settledAt(ie,t,e)},function(e){r._settledAt(ae,t,e)})};var ce=F,fe=H,pe=L,de=z,he=0,ge=U;U.all=ce,U.race=fe,U.resolve=pe,U.reject=de,U._setScheduler=l,U._setAsap=c,U._asap=$,U.prototype={constructor:U,then:function(e,t){var r=this,n=r._state;if(n===ie&&!e||n===ae&&!t)return this;var o=new this.constructor(v),i=r._result;if(n){var a=arguments[n-1];$(function(){I(n,o,a,i)})}else M(r,o,e,t);return o},"catch":function(e){return this.then(null,e)}};var ye=q,me={Promise:ge,polyfill:ye};r(303).amd?(n=function(){return me}.call(t,r,t,i),!(void 0!==n&&(i.exports=n))):"undefined"!=typeof i&&i.exports?i.exports=me:"undefined"!=typeof this&&(this.ES6Promise=me),ye()}).call(this)}).call(t,r(10),function(){return this}(),r(301)(e))},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(e,t){},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},,,,,,,,,,,,,,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{"default":e}}function o(e,t,r){if(0!=t.length){for(var n=0,o=t.length-1;o>n;n++)null==e[t[n]]&&(e[t[n]]={}),e=e[t[n]];e[t[n]]=r}}function i(e,t,r){if(0!=t.length){for(var n=0,o=t.length-1;o>n;n++)null==e[t[n]]&&(e[t[n]]={}),e=e[t[n]];null==e[t[n]]&&(e[t[n]]=[]),e[t[n]].push(r)}}function a(e,t){for(var r=0;r<t.length;r++){if(!e[t[r].key])return!1;e=e[t[r].key]}return e}function u(e,t,r,n,i,s,l,c){if(n==t.length+r.length)a(l.row,i)||(o(l.row,f["default"].map(i,"key"),!0),c.row.push(i)),a(l.col,s)||(o(l.col,f["default"].map(s,"key"),!0),c.col.push(s));else for(var p=0,d=Object.keys(e),h=d.length;h>p;p++){var g=d[p];u(e[g],t,r,n+1,n<t.length?i.concat([{name:t[n].name,key:g,algebraType:"O"}]):i,n>=t.length?s.concat([{name:r[n-t.length].name,key:g,algebraType:"O"}]):s,l,c)}}function s(e,t,r){var n={row:[],col:[]},o={row:{},col:{}};return u(e,t,r,0,[],[],o,n),n}function l(e,t){for(var r=arguments.length<=2||void 0===arguments[2]?i:arguments[2],n={},o=0,a=e.length;a>o;o++)r(n,t(e[o]),o);return n}Object.defineProperty(t,"__esModule",{value:!0}),t.partitionNestKey=s,t.calculateNest=l;var c=r(4),f=n(c)}]);