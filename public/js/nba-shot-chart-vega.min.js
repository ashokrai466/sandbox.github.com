!function(e){function t(r){if(a[r])return a[r].exports;var n=a[r]={exports:{},id:r,loaded:!1};return e[r].call(n.exports,n,n.exports,t),n.loaded=!0,n.exports}var a={};return t.m=e,t.c=a,t.p="",t(0)}([function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{"default":e}}function n(e){s.data("table").remove(function(){return!0}).insert(e),s.update({duration:300,ease:"quad-in-out"})}function i(e){var t=e.target.value;d[t]?n(d[t]):l["default"].json(t,function(e,a){if(e)return console.warn(e);var r=a.resultSets[0].headers,i=a.resultSets[0].rowSet.map(function(e){var t=r.reduce(function(t,a,r){return t[a]=e[r],t},{});return t.shot_id=t.GAME_ID+"_"+t.GAME_EVENT_ID,t});d[t]=i,n(d[t])})}var s,o=a(2),l=r(o),c=a(9),u=r(c),p=a(8),d={},f=[{name:"James Harden",url:"https://gist.githubusercontent.com/sandbox/7f6065c867a5f355207e/raw/5c74a5dcd7b257faa985f28c932a684ed4cea065/james-harden-shotchartdetail.json"},{name:"Stephen Curry",url:"https://gist.githubusercontent.com/sandbox/7f6065c867a5f355207e/raw/d159840109c00928f515bf0ed496f4f487b326ba/stephen-curry-shotchartdetail.json"}];u["default"].parse.spec(p.ShotChartSpec,function(e){s=e({el:"#shot-chart"}),i({target:{value:f[0].url}})}),React.render(React.createElement("select",{onChange:i},f.map(function(e){return React.createElement("option",{key:e.url,value:e.url},e.name)})),document.getElementById("shot-chart-player-select"))},,function(e,t){e.exports=d3},,,,,,function(e,t,a){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function n(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){for(var a=0;a<t.length;a++){var r=t[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,a,r){return a&&e(t.prototype,a),r&&e(t,r),t}}(),s=function(e,t,a){for(var r=!0;r;){var n=e,i=t,s=a;o=c=l=void 0,r=!1,null===n&&(n=Function.prototype);var o=Object.getOwnPropertyDescriptor(n,i);if(void 0!==o){if("value"in o)return o.value;var l=o.get;return void 0===l?void 0:l.call(s)}var c=Object.getPrototypeOf(n);if(null===c)return void 0;e=c,t=i,a=s,r=!0}},o=a(12),l=a(14),c=function(e){function t(){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),i(t,[{key:"render",value:function(){var e=this.props.xscale(0),t=this.props.yscale(0),a=this.props.xscale(250),r=this.props.xscale(-250),n=this.props.yscale(422.5),i=this.props.yscale(-47.5),s=i-n,l=Math.abs(r-a),c=Math.abs(this.props.xscale(237.5)-e),u=t-this.props.yscale(237.5),p=o.describeArc(e,t,c,u,-158,-22),d=o.describeArc(e,n,Math.abs(this.props.xscale(60)-e),t-this.props.yscale(60),0,180),f=o.describeArc(e,n,Math.abs(this.props.xscale(20)-e),t-this.props.yscale(20),0,180),y=Math.abs(this.props.xscale(160)-this.props.xscale(0)),h=Math.abs(this.props.yscale(142.5)-i),m=Math.abs(this.props.xscale(60)-e),x=o.describeArc(e,this.props.yscale(142.5),m,t-this.props.yscale(60),0,180),g=o.describeArc(e,this.props.yscale(142.5),m,t-this.props.yscale(60),-180,0),v=o.describeArc(e,t,Math.abs(this.props.xscale(40)-e),t-this.props.yscale(40),-180,0);return React.createElement("g",null,React.createElement("ellipse",{stroke:"#000",fill:"none",cx:this.props.xscale(0),cy:this.props.yscale(0),rx:Math.abs(this.props.xscale(7.5)-this.props.xscale(0)),ry:this.props.yscale(0)-this.props.yscale(7.5)}),React.createElement("line",{strokeWidth:2,stroke:"#000",x1:this.props.xscale(-30),x2:this.props.xscale(30),y1:this.props.yscale(-7.5),y2:this.props.yscale(-7.5)}),React.createElement("rect",{fill:"none",stroke:"#000",x:a,y:n,width:l,height:s}),React.createElement("path",{d:d,fill:"none",stroke:"#000"}),React.createElement("path",{d:f,fill:"none",stroke:"#000"}),React.createElement("rect",{fill:"none",stroke:"#000",x:this.props.xscale(80),y:this.props.yscale(142.5),width:y,height:h}),React.createElement("rect",{fill:"none",stroke:"#000",x:this.props.xscale(60),y:this.props.yscale(142.5),width:Math.abs(this.props.xscale(120)-this.props.xscale(0)),height:h}),React.createElement("path",{d:g,fill:"none",stroke:"#000"}),React.createElement("path",{d:x,fill:"none",stroke:"#000",strokeDasharray:"5,5"}),React.createElement("path",{d:v,fill:"none",stroke:"#000"}),React.createElement("path",{d:p,fill:"none",stroke:"#000"}),React.createElement("line",{stroke:"#000",x1:this.props.xscale(-220),y1:i,x2:this.props.xscale(-220),y2:this.props.yscale(90)}),React.createElement("line",{stroke:"#000",x1:this.props.xscale(220),y1:i,x2:this.props.xscale(220),y2:this.props.yscale(90)}))}}]),t}(React.Component),u=function(e){function t(){r(this,t),s(Object.getPrototypeOf(t.prototype),"constructor",this).apply(this,arguments)}return n(t,e),i(t,[{key:"render",value:function(){return React.createElement("ellipse",this.props)}}]),t}(React.Component),p={width:960,height:800,data:[{name:"table",transform:[{type:"formula",field:"hoopdistance",expr:"sqrt(pow(datum.LOC_X, 2) + pow(datum.LOC_Y, 2))/10"},{type:"bin",field:"hoopdistance",min:0,max:90,step:1,output:{bin:"bin_hoopdistance"}},{type:"bin",field:"LOC_X",min:-260,max:260,step:5,output:{bin:"bin_LOC_X"}},{type:"bin",field:"LOC_Y",min:-50,max:470,step:5,output:{bin:"bin_LOC_Y"}}]},{name:"distance",source:"table",transform:[{type:"aggregate",groupby:{field:"bin_hoopdistance"},summarize:{hoopdistance:["count"]}}]},{name:"xdistance",source:"table",transform:[{type:"aggregate",groupby:{field:"bin_LOC_X"},summarize:{LOC_X:["count"]}}]},{name:"ydistance",source:"table",transform:[{type:"aggregate",groupby:{field:"bin_LOC_Y"},summarize:{LOC_Y:["count"]}}]},{name:"arcs",values:[{x:0,y:422.5,radius:60,startAngle:90,endAngle:270},{x:0,y:422.5,radius:20,startAngle:90,endAngle:270},{x:0,y:0,radius:40,startAngle:-90,endAngle:90},{x:0,y:0,radius:237.5,startAngle:-68,endAngle:68},{x:0,y:0,radius:7.5,startAngle:0,endAngle:360},{x:0,y:142.5,radius:60,startAngle:-90,endAngle:90},{x:0,y:142.5,radius:60,startAngle:-90,endAngle:-270,strokeDash:[5,14]}]},{name:"courtLines",values:[{x:-250,x2:250,y:-47.5,y2:422.5},{x:30,y:-7.5,x2:-30,y2:-8.5},{x:60,y:142.5,x2:-60,y2:-47.5},{x:80,y:142.5,x2:-80,y2:-47.5},{x:-220,y:90,x2:-220.2,y2:-47.5},{x:220.2,y:90,x2:220,y2:-47.5}]}],signals:l.ShotChartInteractionSignals,predicates:l.ShotChartInteractionPredicates,scales:[{name:"degreeRadians",type:"linear",domain:[0,360],range:[Math.PI,3*Math.PI]},{name:"makeOpacity",type:"linear",domain:[0,1],range:[.4,.8]},{name:"makeColor",type:"ordinal",domain:["Missed Shot","Made Shot"],range:["#e6550d","#31a354"]},{name:"playerSymbol",type:"ordinal",domain:{data:"table",field:"PLAYER_NAME"},range:["circle","square","cross","diamond","triangle-up","triangle-down"]}],legends:[{orient:"left",fill:"makeColor"}],marks:[{name:"distGroup",type:"group",properties:{update:{x:{value:620},y:{value:2.5},width:{value:200},height:{value:100},fill:{value:"#fff"}}},scales:[{name:"x",type:"linear",range:"width",domain:[0,50]},{name:"y",type:"linear",range:"height",domain:{data:"distance",field:"count_hoopdistance"},domainMin:0}],axes:[{type:"x",scale:"x",tickFormat:"0d"}],marks:[{type:"rect",from:{data:"table",transform:[{type:"filter",test:l.ShotChartInteractionFilters.LOC_X+" && "+l.ShotChartInteractionFilters.LOC_Y},{type:"aggregate",groupby:["bin_hoopdistance","EVENT_TYPE"],summarize:{"*":["count"]}},{type:"stack",groupby:["bin_hoopdistance"],field:"count",sortby:"EVENT_TYPE"}]},properties:{update:{stroke:{scale:"makeColor",field:"EVENT_TYPE"},fillOpacity:{rule:[{predicate:{name:"distBrush",x:{field:"bin_hoopdistance"}},value:.8},{value:.2}]},x:{scale:"x",field:"bin_hoopdistance"},width:{scale:"x",value:1},y:{scale:"y",field:"layout_start"},y2:{scale:"y",field:"layout_end"},fill:{scale:"makeColor",field:"EVENT_TYPE"}},exit:{y:{scale:"y",value:0},y2:{scale:"y",value:0}}}},{type:"text",properties:{enter:{x:{value:-10},y:{value:-10},text:{value:"Shot Distance from Hoop (in feet)"},fill:{value:"black"},fontSize:{value:14},fontWeight:{value:"bold"}}}},{type:"rect",properties:{enter:{fill:{value:"grey"},fillOpacity:{value:.2}},update:{x:{scale:"x",signal:"distStart"},x2:{scale:"x",signal:"distEnd"},y:{value:0},y2:{field:{group:"height"}}}}}]},{name:"xLocGroup",type:"group",properties:{update:{x:{value:0},y:{value:52.5},width:{value:600},height:{value:100},fill:{value:"#fff"}}},scales:[{name:"x",type:"linear",range:"width",domain:[-250,250]},{name:"thickness",type:"linear",range:"width",domain:[0,500]},{name:"y",type:"linear",range:"height",domain:{data:"xdistance",field:"count_LOC_X"}}],marks:[{type:"rect",from:{data:"table",transform:[{type:"filter",test:l.ShotChartInteractionFilters.distance+" && "+l.ShotChartInteractionFilters.LOC_Y},{type:"aggregate",groupby:["bin_LOC_X","EVENT_TYPE"],summarize:{"*":["count"]}},{type:"stack",groupby:["bin_LOC_X"],field:"count",sortby:"EVENT_TYPE"}]},properties:{update:{stroke:{scale:"makeColor",field:"EVENT_TYPE"},fillOpacity:{rule:[{predicate:{name:"xLocBrush",x:{field:"bin_LOC_X"}},value:.8},{value:.2}]},x:{scale:"x",field:"bin_LOC_X"},width:{scale:"thickness",value:5},y:{scale:"y",field:"layout_start"},y2:{scale:"y",field:"layout_end"},fill:{scale:"makeColor",field:"EVENT_TYPE"}},exit:{x:{scale:"x",value:0},y:{scale:"y",value:0},y2:{scale:"y",value:0}}}},{type:"rect",properties:{enter:{fill:{value:"grey"},fillOpacity:{value:.2}},update:{x:{scale:"x",signal:"xLocStart"},x2:{scale:"x",signal:"xLocEnd"},y:{value:0},y2:{field:{group:"height"}}}}}]},{name:"yLocGroup",type:"group",properties:{update:{x:{value:600},y:{value:150},width:{value:100},height:{value:660},fill:{value:"#fff"}}},scales:[{name:"thickness",type:"linear",range:"height",reverse:!0,domain:[0,550]},{name:"x",type:"linear",range:"width",domain:{data:"ydistance",field:"count_LOC_Y"}},{name:"y",type:"linear",range:"height",reverse:!0,domain:[-50,500]}],marks:[{type:"rect",from:{data:"table",transform:[{type:"filter",test:l.ShotChartInteractionFilters.distance+" && "+l.ShotChartInteractionFilters.LOC_X},{type:"aggregate",groupby:["bin_LOC_Y","EVENT_TYPE"],summarize:{"*":["count"]}},{type:"stack",groupby:["bin_LOC_Y"],field:"count",sortby:"EVENT_TYPE"}]},properties:{update:{stroke:{scale:"makeColor",field:"EVENT_TYPE"},fillOpacity:{rule:[{predicate:{name:"yLocBrush",y:{field:"bin_LOC_Y"}},value:.8},{value:.2}]},y:{scale:"y",field:"bin_LOC_Y"},x:{scale:"x",field:"layout_start"},x2:{scale:"x",field:"layout_end"},height:{scale:"thickness",value:5},fill:{scale:"makeColor",field:"EVENT_TYPE"}},exit:{x:{scale:"x",value:0},y:{scale:"y",value:0},y2:{scale:"y",value:0}}}},{type:"rect",properties:{enter:{fill:{value:"grey"},fillOpacity:{value:.2}},update:{y:{scale:"y",signal:"yLocStart"},y2:{scale:"y",signal:"yLocEnd"},x:{value:0},x2:{field:{group:"width"}}}}}]},{type:"group",properties:{update:{x:{value:0},y:{value:150},width:{value:600},height:{value:660}}},scales:[{name:"width",type:"linear",range:"width",domain:[0,500]},{name:"height",type:"linear",range:"height",domain:[0,550]},{name:"x",type:"linear",range:"width",domain:[-250,250]},{name:"y",type:"linear",range:"height",reverse:!0,domain:[-50,500]}],marks:[{type:"symbol",from:{data:"table",transform:[{type:"filter",test:l.ShotChartInteractionFilters.distance+" && "+l.ShotChartInteractionFilters.LOC_X+" && "+l.ShotChartInteractionFilters.LOC_Y}]},key:"shot_id",properties:{enter:{shape:{scale:"playerSymbol",field:"PLAYER_NAME"},x:{scale:"x",value:0},y:{scale:"y",value:0},fillOpacity:{scale:"makeOpacity",field:"SHOT_MADE_FLAG"},fill:{scale:"makeColor",field:"EVENT_TYPE"},size:{scale:"width",value:70}},update:{x:{scale:"x",field:"LOC_X"},y:{scale:"y",field:"LOC_Y"}},exit:{x:{scale:"x",value:0},y:{scale:"y",value:0}}}},{type:"arc",from:{data:"arcs"},properties:{enter:{stroke:{value:"#000000"},strokeDash:{field:"strokeDash"},x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},outerRadius:{scale:"width",field:"radius"},innerRadius:{scale:"width",field:"radius"},startAngle:{scale:"degreeRadians",field:"startAngle"},endAngle:{scale:"degreeRadians",field:"endAngle"}}}},{type:"rect",from:{data:"courtLines"},properties:{enter:{fill:{value:null},stroke:{value:"#000000"},strokeWidth:{value:1},x:{scale:"x",field:"x"},y:{scale:"y",field:"y"},x2:{scale:"x",field:"x2"},y2:{scale:"y",field:"y2"}}}}]}]};t.CourtBounds=c,t.BasketBall=u,t.ShotChartSpec=p},function(e,t){e.exports=vg},,,function(e,t){"use strict";function a(e,t,a,r,n){var i=n*Math.PI/180;return{x:e+a*Math.cos(i),y:t+r*Math.sin(i)}}function r(e,t,r,n,i,s){var o=a(e,t,r,n,s),l=a(e,t,r,n,i),c=180>=s-i?"0":"1";return["M",o.x,o.y,"A",r,n,0,c,0,l.x,l.y].join(" ")}Object.defineProperty(t,"__esModule",{value:!0}),t.describeArc=r},,function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=[{name:"scope",init:{width:0},streams:[{type:"mousedown",expr:"eventGroup()"}]},{name:"distStart",init:-1,streams:[{type:"@distGroup:mousedown",expr:"eventX(scope)",scale:{scope:"scope",name:"x",invert:!0}}]},{name:"distEnd",init:-1,streams:[{type:"@distGroup:mousedown, [@distGroup:mousedown, window:mouseup] > window:mousemove",expr:"clamp(eventX(scope), 0, scope.width)",scale:{scope:"scope",name:"x",invert:!0}}]},{name:"minDist",expr:"max(min(distStart, distEnd), 0)"},{name:"maxDist",expr:"min(max(distStart, distEnd), 50)"},{name:"xLocStart",init:-1,streams:[{type:"@xLocGroup:mousedown",expr:"eventX(scope)",scale:{scope:"scope",name:"x",invert:!0}}]},{name:"xLocEnd",init:-1,streams:[{type:"@xLocGroup:mousedown, [@xLocGroup:mousedown, window:mouseup] > window:mousemove",expr:"clamp(eventX(scope), 0, scope.width)",scale:{scope:"scope",name:"x",invert:!0}}]},{name:"minXLoc",expr:"max(min(xLocStart, xLocEnd), -250)"},{name:"maxXLoc",expr:"min(max(xLocStart, xLocEnd), 250)"},{name:"yLocStart",init:-1,streams:[{type:"@yLocGroup:mousedown",expr:"eventY(scope)",scale:{scope:"scope",name:"y",invert:!0}}]},{name:"yLocEnd",init:-1,streams:[{type:"@yLocGroup:mousedown, [@yLocGroup:mousedown, window:mouseup] > window:mousemove",expr:"clamp(eventY(scope), 0, scope.height)",scale:{scope:"scope",name:"y",invert:!0}}]},{name:"minYLoc",expr:"max(min(yLocStart, yLocEnd), -50)"},{name:"maxYLoc",expr:"min(max(yLocStart, yLocEnd), 500)"}],r=[{name:"distEqual",type:"==",operands:[{signal:"distStart"},{signal:"distEnd"}]},{name:"distRange",type:"in",item:{arg:"x"},range:[{signal:"distStart"},{signal:"distEnd"}]},{name:"distBrush",type:"or",operands:[{predicate:"distEqual"},{predicate:"distRange"}]},{name:"xLocEqual",type:"==",operands:[{signal:"xLocStart"},{signal:"xLocEnd"}]},{name:"xLocRange",type:"in",item:{arg:"x"},range:[{signal:"xLocStart"},{signal:"xLocEnd"}]},{name:"xLocBrush",type:"or",operands:[{predicate:"xLocEqual"},{predicate:"xLocRange"}]},{name:"yLocEqual",type:"==",operands:[{signal:"yLocStart"},{signal:"yLocEnd"}]},{name:"yLocRange",type:"in",item:{arg:"y"},range:[{signal:"yLocStart"},{signal:"yLocEnd"}]},{name:"yLocBrush",type:"or",operands:[{predicate:"yLocEqual"},{predicate:"yLocRange"}]}],n={distance:"(minDist == maxDist || (datum.hoopdistance >= minDist && datum.hoopdistance <= maxDist))",LOC_X:"(minXLoc == maxXLoc || (datum.LOC_X >= minXLoc && datum.LOC_X <= maxXLoc))",LOC_Y:"(minYLoc == maxYLoc || (datum.LOC_Y >= minYLoc && datum.LOC_Y <= maxYLoc))"};t.ShotChartInteractionSignals=a,t.ShotChartInteractionPredicates=r,t.ShotChartInteractionFilters=n}]);